<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc2029
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-avt-cellb/">
  <meta name="description" content="RTP Payload Format of Sun&#39;s CellB Video Encoding (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc2029.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc2029.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc2029.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc2029/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc2029/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/avt/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-avt-cellb@ietf.org?subject=draft-ietf-avt-cellb" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-avt-cellb-08.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-avt-cellb-08.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-avt-cellb-08.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-avt-cellb-08">draft-ietf-avt-cellb-08</a>                          Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                      M. Speer
Request for Comment: 2029                                D. Hoffman
Category: Standards Track                    Sun Microsystems, Inc.
                                                       October 1996


            <span class="h1">RTP Payload Format of Sun&#x27;s CellB Video Encoding</span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the &quot;Internet
   Official Protocol Standards&quot; (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Abstract

   This memo describes a packetization scheme for the CellB video
   encoding. The scheme proposed allows applications to transport CellB
   video flows over protocols used by RTP.  This document is meant for
   implementors of video applications that want to use RTP and CellB.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>. Introduction</span>

   The Cell image compression algorithm is a variable bit-rate video
   coding scheme.  It provides &quot;high&quot; quality, low bit-rate image
   compression at low computational cost.   The bytestream that is
   produced by the Cell encoder consists of instructional codes and
   information about the compressed image.

   For futher information on Cell compression technology, refer to [1].
   Currently, there are two versions of the Cell compression technology:
   CellA and CellB.  CellA is primarily designed for the encoding of
   stored video intended for local display, and will not be discussed in
   this memo.

   CellB, derived from CellA, has been optimized for network-based video
   applications.  It is computationally symmetric in both encode and
   decode.  CellB utilizes a fixed colormap and vector quantization
   techniques in the YUV color space to achieve compression.










<span class="grey">Speer &amp; Hoffman             Standards Track                     [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc2029">RFC 2029</a>                   RTP Payload Format               October 1996</span>


<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>. Network Packetization and Encapsulation</span>

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a> RTP Usage</span>

   The RTP timestamp is in units of 90KHz. The same timestamp value is
   used for all packet payloads of a frame.  The RTP maker bit denotes
   the end of a frame.

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a> CellB Header</span>

   The packetization of the CellB bytestream is designed to make the
   resulting packet stream robust to packet loss.  To achieve this goal,
   an additional header is added to each RTP packet to uniquely identify
   the location of the first cell of the packet within the current
   frame.  In addition, the width and height of the frame in pixels is
   carried in each CellB packet header.  Although the size can only
   change between frames, it is carried in every packet to simplify the
   packet encoding.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Cell X Location         |      Cell Y Location          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Width of Image          |      Height of Image          |
   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+
   |                     Compressed CellB Data                     |
   |                             ....                              |
   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+

   All fields are 16-bit unsigned integers in network byte order, and
   are placed at the beginning of the payload for each RTP packet.  The
   Cell X and the Cell Y Location coordinates are expressed as cell
   coordinates, not pixel coordinates. Since cells represent 4x4 blocks
   of pixels, the X or Y dimension of the cell coordinates range in
   value from 0 through 1/4 of the of the same dimension in pixel
   coordinates.

<span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a> Packetization Rules</span>

   A packet can be of any size chosen by the implementor, up to a full
   frame.  All multi-byte codes must be completely contained within a
   packet.  In general, the implementor should avoid packet sizes that
   result in fragmentation by the network.







<span class="grey">Speer &amp; Hoffman             Standards Track                     [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc2029">RFC 2029</a>                   RTP Payload Format               October 1996</span>


<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>. References</span>

   1.      &quot;Cell Image Compression Byte Stream Description,&quot;
           <a href="ftp://playground.sun.com:/pub/multimedia/video/cellbytestream.ps.Z">ftp://playground.sun.com:/pub/multimedia/video/</a>
           <a href="ftp://playground.sun.com:/pub/multimedia/video/cellbytestream.ps.Z">cellbytestream.ps.Z</a>

   2.      Turletti, T., and C. Huitema, &quot;RTP Payload Format
           for H.261 Video Streams&quot;, <a href="/doc/html/rfc2032">RFC 2032</a>, October 1996.

   3.      Schulzrinne, H., Casner, S., Frederick, R., and
           V. Jacobson, &quot;RTP: A Transport Protocol for Real-Time
           Applications&quot;, <a href="/doc/html/rfc1889">RFC 1889</a>, January 1996.

   4.      Schulzrinne, H., &quot;RTP Profile for Audio and Video
           Conferences with Minimal Control&quot;, <a href="/doc/html/rfc1890">RFC 1890</a>,
           January 1996.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a> Authors&#x27; Addresses</span>

   Michael F. Speer
   Sun Microsystems Computer Corporation
   2550 Garcia Ave MailStop UMPK14-305
   Mountain View, CA 94043

   Voice: +1 415 786 6368
   Fax: +1 415 786 6445
   EMail: michael.speer@eng.sun.com


   Don Hoffman
   Sun Microsystems Computer Corporation
   2550 Garcia Ave MailStop UMPK14-305
   Mountain View, CA 94043

   Voice: +1 415 786 6370
   Fax: +1 415 786 6445
   EMail: don.hoffman@eng.sun.com














<span class="grey">Speer &amp; Hoffman             Standards Track                     [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc2029">RFC 2029</a>                   RTP Payload Format               October 1996</span>


Appendix A - Structure of the CellB Video Stream

   The CellB bytestream consists of cell codes, skip codes and
   quantization-table specific codes.  These are now described.

<span class="h3"><a class="selflink" id="appendix-A.1" href="#appendix-A.1">A.1</a> CellB Cell Code</span>

   Cell codes are 4 bytes in length, and describe a 4x4 pixel cell.
   There are two possible luminance (Y) levels for each cell, but only
   one pair of chrominance (UV) values.  The CellB cell code is shown
   below:


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |0 M M M M M M M M M M M M M M M|U V U V U V U V|Y Y Y Y Y Y Y Y|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                4x4 Bitmask             U/V Code       Y/Y Code

   The first two bytes of the cell code are a bitmask.  Each bit in the
   mask represents a pixel in a 16-pixel cell.  Bit 0 represents the
   value of the upper right-hand pixel of the cell, and subsequent bits
   represent the pixels in row-major order.  If a pixel&#x27;s bit is set in
   the 4x4 Bitmask, then the pixel will be rendered with the pixel value
   &lt;Y(1), U, V&gt;.  If the pixel&#x27;s bit is not set in the bitmask, then the
   pixel&#x27;s value will be rendered with the value &lt;Y(0), U, V&gt;.  The
   bitmask for the cell is normalized so that the most significant bit
   is always 0 (i.e., corresponding to &lt;Y(0), U, V&gt;).

   The U/V field of the cell code represents the chrominance component.
   This code is in index into a table of vectors that represents two
   independent components of chrominance.

   The Y/Y field of the cell code represents two luminance values (Y(0)
   and Y(1)).  This code is an index into a table of two-compoment
   luminance vectors.

   The derivation of the U/V and Y/Y tables is outside the scope of this
   memo. A complete discussion can be found in [1].











<span class="grey">Speer &amp; Hoffman             Standards Track                     [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc2029">RFC 2029</a>                   RTP Payload Format               October 1996</span>


<span class="h3"><a class="selflink" id="appendix-A.2" href="#appendix-A.2">A.2</a> CellB Skip Code</span>

   The single byte CellB skip code tells the CellB decoder to skip the
   next S+1 cells in the current video frame being decoded.  The maximum
   number of cells that can be skipped is 32.  The format of the skip
   code is shown below.

                         0 1 2 3 4 5 6 7
                        +-+-+-+-+-+-+-+-+
                        |1 0 0 S S S S S|
                        +-+-+-+-+-+-+-+-+

<span class="h3"><a class="selflink" id="appendix-A.3" href="#appendix-A.3">A.3</a> CellB Y/Y Table Code</span>

   The single byte &quot;new Y/Y table&quot; code is used to tell the decoder that
   the next 512 bytes are a new Y/Y quantization table.  The code and
   the representation of the table are shown below.  The sample
   encoder/decoder pair in this document do not implement this feature
   of the CellB compression.  However, future CellB codecs may implement
   this feature.

                         0 1 2 3 4 5 6 7
                        +-+-+-+-+-+-+-+-+
                        |1 1 1 1 1 1 1 0|
                        +-+-+-+-+-+-+-+-+

   The format of the new Y/Y table is:

     0                   1                   2                   3
     0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    Y1_000     |    Y2_000     |   Y1_001      |   Y2_001      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                .
                .
                .

     0                   1                   2                   3
     0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    Y1_254     |    Y2_254     |   Y1_255      |   Y2_255      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+








<span class="grey">Speer &amp; Hoffman             Standards Track                     [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc2029">RFC 2029</a>                   RTP Payload Format               October 1996</span>


<span class="h3"><a class="selflink" id="appendix-A.4" href="#appendix-A.4">A.4</a> CellB U/V Table Code</span>

   The single byte &quot;new U/V table&quot; code is used to tell the decoder that
   the next 512 bytes represent a new U/V quantization table.  The code
   is shown below.  The sample encoder/decoder pair provided in this
   document do not implement this feature of the CellB compression.
   However, future CellB codecs may implement this feature.

                         0 1 2 3 4 5 6 7
                        +-+-+-+-+-+-+-+-+
                        |1 1 1 1 1 1 1 1|
                        +-+-+-+-+-+-+-+-+

   The bytes of the new U/V quantization table are arranged as:

     0                   1                   2                   3
     0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    U_000      |    V_000      |   U_001       |   V_001       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                .
                .
                .

     0                   1                   2                   3
     0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7 0 1 2 3 4 5 6 7
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    U_254      |    V_254      |   U_255       |   V_255       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

Appendix B - Availability of CellB

   It is the viewpoint of Sun Microsystems, Inc, that CellB is
   publically available for use without any license.
















Speer &amp; Hoffman             Standards Track                     [Page 6]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

