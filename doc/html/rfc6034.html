<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc6034
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-mboned-ipv4-uni-based-mcast/">
  <meta name="description" content="Unicast-Prefix-Based IPv4 Multicast Addresses (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc6034.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc6034.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc6034.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc6034/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc6034/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/mboned/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-mboned-ipv4-uni-based-mcast@ietf.org?subject=draft-ietf-mboned-ipv4-uni-based-mcast" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-mboned-ipv4-uni-based-mcast-06.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-mboned-ipv4-uni-based-mcast-06.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-mboned-ipv4-uni-based-mcast-06.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-mboned-ipv4-uni-based-mcast-06">draft-ietf-mboned-ipv4-uni-based-mcast-06</a>        Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                         D. Thaler
Request for Comments: 6034                                     Microsoft
Category: Standards Track                                   October 2010
ISSN: 2070-1721


             <span class="h1">Unicast-Prefix-Based IPv4 Multicast Addresses</span>

Abstract

   This specification defines an extension to the multicast addressing
   architecture of the IP Version 4 protocol.  The extension presented
   in this document allows for unicast-prefix-based assignment of
   multicast addresses.  By delegating multicast addresses at the same
   time as unicast prefixes, network operators will be able to identify
   their multicast addresses without needing to run an inter-domain
   allocation protocol.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="/doc/html/rfc5741#section-2">Section&nbsp;2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc6034">http://www.rfc-editor.org/info/rfc6034</a>.

Copyright Notice

   Copyright (c) 2010 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





<span class="grey">Thaler                       Standards Track                    [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc6034">RFC 6034</a>             Uni-Prefix-Based IPv4 Multicast        October 2010</span>


Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-2">2</a>
   <a href="#section-2">2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  Address Space . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-3">3</a>
   <a href="#section-4">4</a>.  Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-4">4</a>
   <a href="#section-5">5</a>.  Security Considerations . . . . . . . . . . . . . . . . . . . . <a href="#page-4">4</a>
   <a href="#section-6">6</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
   <a href="#section-7">7</a>.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
   <a href="#section-8">8</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
     <a href="#section-8.1">8.1</a>.  Normative References  . . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>
     <a href="#section-8.2">8.2</a>.  Informative References  . . . . . . . . . . . . . . . . . . <a href="#page-5">5</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   <a href="/doc/html/rfc3180">RFC 3180</a> [<a href="/doc/html/rfc3180" title="&quot;GLOP Addressing in 233/8&quot;">RFC3180</a>] defines an allocation mechanism (called &quot;GLOP&quot;) in
   233/8 whereby an Autonomous System (AS) number is embedded in the
   middle 16 bits of an IPv4 multicast address, resulting in 256
   multicast addresses per AS.  Advantages of this mechanism include the
   ability to get multicast address space without an inter-domain
   multicast address allocation protocol, and the ease of determining
   the AS that was assigned the address for debugging and auditing
   purposes.

   Some disadvantages of GLOP include:

   o  <a href="/doc/html/rfc4893">RFC 4893</a> [<a href="/doc/html/rfc4893" title="&quot;BGP Support for Four-octet AS Number Space&quot;">RFC4893</a>] expands the size of an AS number to 4 bytes,
      and GLOP cannot work with 4-byte AS numbers.

   o  When an AS covers multiple sites or organizations, administration
      of the multicast address space within an AS must be handled by
      other mechanisms, such as manual administrative effort or the
      Multicast Address Dynamic Client Allocation Protocol (MADCAP)
      [<a href="/doc/html/rfc2730" title="&quot;Multicast Address Dynamic Client Allocation Protocol (MADCAP)&quot;">RFC2730</a>].

   o  During debugging, identifying the AS does not immediately identify
      the correct organization when an AS covers multiple organizations.

   o  Only 256 addresses are automatically available per AS, and
      obtaining any more requires administrative effort.

   More recently, a mechanism [<a href="/doc/html/rfc3306" title="&quot;Unicast-Prefix-based IPv6 Multicast Addresses&quot;">RFC3306</a>] has been developed for IPv6 that
   provides a multicast range to every IPv6 subnet, which is at a much
   finer granularity than an AS.  As a result, the first three
   disadvantages above are avoided (and the last disadvantage does not
   apply to IPv6 due to the extended size of the address space).





<span class="grey">Thaler                       Standards Track                    [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc6034">RFC 6034</a>             Uni-Prefix-Based IPv4 Multicast        October 2010</span>


   Another advantage of providing multicast space to a subnet, rather
   than just to an entire AS, is that multicast address assignments
   within the range need only be coordinated within the subnet.

   This document specifies a mechanism similar to [<a href="/doc/html/rfc3306" title="&quot;Unicast-Prefix-based IPv6 Multicast Addresses&quot;">RFC3306</a>], whereby a
   range of global IPv4 multicast address space is provided to each
   organization that has unicast address space.  A resulting advantage
   over GLOP is that the mechanisms in IPv4 and IPv6 become more
   similar.

   This document does not obsolete or update <a href="/doc/html/rfc3180">RFC 3180</a>, as the mechanism
   described in <a href="/doc/html/rfc3180">RFC 3180</a> is still required for organizations with prefix
   allocations more specific than /24.  Organizations using <a href="/doc/html/rfc3180">RFC 3180</a>
   allocations may continue to do so.  In fact, it is conceivable that
   an organization might use both <a href="/doc/html/rfc3180">RFC 3180</a> allocations and the
   allocation method described in this document.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Terminology</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
   document are to be interpreted as described in [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Address Space</span>

   A multicast address with the prefix 234/8 indicates that the address
   is a Unicast-Based Multicast (UBM) address.  The remaining 24 bits
   are used as follows:

   Bits:  |   0 thru 7   |         8 thru N        |   N+1 thru 31   |
          +-------+--------------------+-----------------------------+
   Value: |     234      |      Unicast Prefix     |    Group ID     |
          +-------+--------------------+-----------------------------+

   For organizations with a /24 or shorter prefix, the unicast prefix of
   the organization is appended to the common /8.  Any remaining bits
   may be assigned by any mechanism the organization wishes.

   For example, an organization that has a /16 prefix assigned might
   choose to assign multicast addresses manually from the /24 multicast
   prefix derived from the above method.  Alternatively, the
   organization might choose to delegate the use of multicast addresses
   to individual subnets that have a /24 or shorter unicast prefix, or
   it might choose some other method.

   Organizations with a prefix length longer than 24 do not receive any
   multicast address space from this mechanism; in such cases, another
   mechanism must be used.



<span class="grey">Thaler                       Standards Track                    [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc6034">RFC 6034</a>             Uni-Prefix-Based IPv4 Multicast        October 2010</span>


   Compared to GLOP, an AS will receive more address space via this
   mechanism if it has more than a /16 for unicast space.  An AS will
   receive less address space than it does from GLOP if it has less than
   a /16.

   The organization that is assigned a UBM address can be determined by
   taking the multicast address, shifting it left by 8 bits, and
   identifying who has been assigned the address space covering the
   resulting unicast address.

   The embedded unicast prefix MUST be a global unicast prefix (i.e., no
   loopback, multicast, link-local, or private-use IP address space).
   In addition, since global unicast addresses are not permanently
   assigned, UBM addresses MUST NOT be hard-coded in applications.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Examples</span>

   The following are a few examples of the structure of unicast-prefix-
   based multicast addresses.

   o  Consider an organization that has been assigned the global unicast
      address space 192.0.2.0/24.  This means that organization can use
      the global multicast address 234.192.0.2 without coordinating with
      any other entity.  Someone who sees this multicast address and
      wants to find who is using it can mentally shift the address left
      by 8 bits to get 192.0.2.0, and can then look up who has been
      assigned unicast address space that includes that address.

   o  Consider an organization that has been assigned a larger address
      space, x.y.0.0/16.  This organization can use the global multicast
      address space 234.x.y.0/24 without coordinating with any other
      entity, and can assign addresses within this space by any
      mechanism the organization wishes.  Someone who sees a multicast
      address (say) 234.x.y.10 and wants to find who is using it can
      mentally shift the address left by 8 bits to get x.y.10.0, and can
      then look up who has been assigned unicast address space that
      includes that address.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Security Considerations</span>

   The same well-known intra-domain security techniques can be applied
   as with GLOP.  Furthermore, when dynamic allocation is used within a
   prefix, the approach described here may have the effect of reduced
   exposure to denial-of-service attacks, since the topological area
   within which nodes compete for addresses within the same prefix is
   reduced from an entire AS to only within an individual organization
   or an even smaller area.




<span class="grey">Thaler                       Standards Track                    [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc6034">RFC 6034</a>             Uni-Prefix-Based IPv4 Multicast        October 2010</span>


<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  IANA Considerations</span>

   IANA has assigned a /8 in the global IPv4 multicast address space for
   this purpose.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Acknowledgments</span>

   This document was updated based on feedback from the MBoneD working
   group.  In particular, Tim Chown, Toerless Eckert, Prashant Jhingran,
   Peter Koch, John Linn, Dave Meyer, Pekka Savola, Greg Shepherd, and
   Stig Venaas provided valuable suggestions on the text.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  References</span>

<span class="h3"><a class="selflink" id="section-8.1" href="#section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>, March 1997.

<span class="h3"><a class="selflink" id="section-8.2" href="#section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-RFC2730">RFC2730</a>]  Hanna, S., Patel, B., and M. Shah, &quot;Multicast Address
              Dynamic Client Allocation Protocol (MADCAP)&quot;, <a href="/doc/html/rfc2730">RFC 2730</a>,
              December 1999.

   [<a id="ref-RFC3180">RFC3180</a>]  Meyer, D. and P. Lothberg, &quot;GLOP Addressing in 233/8&quot;,
              <a href="/doc/html/bcp53">BCP 53</a>, <a href="/doc/html/rfc3180">RFC 3180</a>, September 2001.

   [<a id="ref-RFC3306">RFC3306</a>]  Haberman, B. and D. Thaler, &quot;Unicast-Prefix-based IPv6
              Multicast Addresses&quot;, <a href="/doc/html/rfc3306">RFC 3306</a>, August 2002.

   [<a id="ref-RFC4893">RFC4893</a>]  Vohra, Q. and E. Chen, &quot;BGP Support for Four-octet AS
              Number Space&quot;, <a href="/doc/html/rfc4893">RFC 4893</a>, May 2007.

Author&#x27;s Address

   Dave Thaler
   Microsoft Corporation
   One Microsoft Way
   Redmond, WA  98052
   USA

   Phone: +1 425 703 8835
   EMail: dthaler@microsoft.com







Thaler                       Standards Track                    [Page 5]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

