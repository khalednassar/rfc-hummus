<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc2449
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-gellens-pop3ext/">
  <meta name="description" content="POP3 Extension Mechanism (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc2449.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc2449.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc2449.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc2449/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc2449/" title="Datatracker information for this document">Tracker</a>] [<a href="mailto:draft-gellens-pop3ext@ietf.org?subject=draft-gellens-pop3ext" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-gellens-pop3ext-08.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-gellens-pop3ext-08.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-gellens-pop3ext-08.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-gellens-pop3ext-08">draft-gellens-pop3ext-08</a>                         Proposed Standard
Updated by: <a href="/doc/html/rfc5034">5034</a>                                                        </pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                         R. Gellens
Request for Comments: 2449                                      Qualcomm
Updates: <a href="/doc/html/rfc1939">1939</a>                                                  C. Newman
Category: Standards Track                                       Innosoft
                                                            L. Lundblade
                                                                Qualcomm
                                                           November 1998


                        <span class="h1">POP3 Extension Mechanism</span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the &quot;Internet
   Official Protocol Standards&quot; (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (1998).  All Rights Reserved.

IESG Note

   This extension to the POP3 protocol is to be used by a server to
   express policy descisions taken by the server administrator.  It is
   not an endorsement of implementations of further POP3 extensions
   generally.  It is the general view that the POP3 protocol should stay
   simple, and for the simple purpose of downloading email from a mail
   server.  If more complicated operations are needed, the IMAP protocol
   [<a href="/doc/html/rfc2060">RFC 2060</a>] should be used.  The first paragraph of <a href="#section-7">section 7</a> should
   be read very carefully.

Table of Contents

    <a href="#section-1">1</a>.  Introduction . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-2">2</a>
    <a href="#section-2">2</a>.  Conventions Used in this Document . . . . . . . . . . . . .   <a href="#page-3">3</a>
    <a href="#section-3">3</a>.  General Command and Response Grammar . . . . . . . . . . . .  <a href="#page-3">3</a>
    <a href="#section-4">4</a>.  Parameter and Response Lengths  . . . . . . . . . . . . . .   <a href="#page-4">4</a>
    <a href="#section-5">5</a>.  The CAPA Command . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-4">4</a>
    <a href="#section-6">6</a>.  Initial Set of Capabilities . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
      <a href="#section-6.1">6.1</a>.  TOP capability . . . . . . . . . . . . . . . . . . . . .  <a href="#page-6">6</a>
      <a href="#section-6.2">6.2</a>.  USER capability . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
      <a href="#section-6.3">6.3</a>.  SASL capability  . . . . . . . . . . . . . . . . . . . .  <a href="#page-7">7</a>
      <a href="#section-6.4">6.4</a>.  RESP-CODES capability . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
      <a href="#section-6.5">6.5</a>.  LOGIN-DELAY capability . . . . . . . . . . . . . . . . .  <a href="#page-8">8</a>
      <a href="#section-6.6">6.6</a>.  PIPELINING capability . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>



<span class="grey">Gellens, et. al.            Standards Track                     [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


      <a href="#section-6.7">6.7</a>.  EXPIRE capability  . . . . . . . . . . . . . . . . . . . <a href="#page-10">10</a>
      <a href="#section-6.8">6.8</a>.  UIDL capability . . . . . . . . . . . . . . . . . . . .  <a href="#page-13">13</a>
      <a href="#section-6.9">6.9</a>.  IMPLEMENTATION capability  . . . . . . . . . . . . . . . <a href="#page-13">13</a>
    <a href="#section-7">7</a>.  Future Extensions to POP3 . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>
    <a href="#section-8">8</a>.  Extended POP3 Response Codes . . . . . . . . . . . . . . . . <a href="#page-14">14</a>
      <a href="#section-8.1">8.1</a>.  Initial POP3 response codes . . . . . . . . . . . . . .  <a href="#page-15">15</a>
        <a href="#section-8.1.1">8.1.1</a>.  The LOGIN-DELAY response code  . . . . . . . . . . . <a href="#page-15">15</a>
        <a href="#section-8.1.2">8.1.2</a>.  The IN-USE response code  . . . . . . . . . . . . .  <a href="#page-16">16</a>
    <a href="#section-9">9</a>.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . <a href="#page-16">16</a>
   <a href="#section-10">10</a>.  Security Considerations . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   <a href="#section-11">11</a>.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . <a href="#page-17">17</a>
   <a href="#section-12">12</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-17">17</a>
   <a href="#section-13">13</a>.  Authors&#x27; Addresses  . . . . . . . . . . . . . . . . . . . .  <a href="#page-18">18</a>
   <a href="#section-14">14</a>.  Full Copyright Statement . . . . . . . . . . . . . . . . . . <a href="#page-19">19</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   The Post Office Protocol version 3 [<a href="#ref-POP3" title="&quot;Post Office Protocol -- Version 3&quot;">POP3</a>] is very widely used.
   However, while it includes some optional commands (and some useful
   protocol extensions have been published), it lacks a mechanism for
   advertising support for these extensions or for behavior variations.

   Currently these optional features and extensions can only be detected
   by probing, if at all.  This is at best inefficient, and possibly
   worse.  As a result, some clients have manual configuration options
   for POP3 server capabilities.

   Because one of the most important characteristics of POP3 is its
   simplicity, it is desirable that extensions be few in number (see
   <a href="#section-7">section 7</a>).  However, some extensions are necessary (such as ones
   that provide improved security [<a href="#ref-POP-AUTH" title="&quot;POP3 AUTHentication command&quot;">POP-AUTH</a>]), while others are very
   desirable in certain situations.  In addition, a means for
   discovering server behavior is needed.

   This memo updates <a href="/doc/html/rfc1939">RFC 1939</a> [<a href="#ref-POP3" title="&quot;Post Office Protocol -- Version 3&quot;">POP3</a>] to define a mechanism to announce
   support for optional commands, extensions, and unconditional server
   behavior.  Included is an initial set of currently deployed
   capabilities which vary between server implementations, and several
   new capabilities (SASL, RESP-CODES, LOGIN-DELAY, PIPELINING, EXPIRE
   and IMPLEMENTATION).  This document also extends POP3 error messages
   so that machine parsable codes can be provided to the client.  An
   initial set of response codes is included.  In addition, an [<a href="#ref-ABNF" title="&quot;Augmented BNF for Syntax Specifications: ABNF&quot;">ABNF</a>]
   specification of POP3 commands and responses is defined.

   Public comments should be sent to the IETF POP3 Extensions mailing
   list, &lt;ietf-pop3ext@imc.org&gt;.  To subscribe, send a message
   containing SUBSCRIBE to &lt;ietf-pop3ext-request@imc.org&gt;.




<span class="grey">Gellens, et. al.            Standards Track                     [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Conventions Used in this Document</span>

   The key words &quot;REQUIRED&quot;, &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;,
   and &quot;MAY&quot; in this document are to be interpreted as described in &quot;Key
   words for use in RFCs to Indicate Requirement Levels&quot; [<a href="#ref-KEYWORDS" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">KEYWORDS</a>].

   In examples, &quot;C:&quot; and &quot;S:&quot; indicate lines sent by the client and
   server respectively.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  General Command and Response Grammar</span>

   The general form of POP3 commands and responses is described using
   [<a href="#ref-ABNF" title="&quot;Augmented BNF for Syntax Specifications: ABNF&quot;">ABNF</a>]:

   POP3 commands:

      command      =  keyword *(SP param) CRLF    ;255 octets maximum
      keyword      =  3*4VCHAR
      param        =  1*VCHAR

   POP3 responses:

      response     =  greeting / single-line / capa-resp / multi-line
      capa-resp    =  single-line *capability &quot;.&quot; CRLF
      capa-tag     =  1*cchar
      capability   =  capa-tag *(SP param) CRLF   ;512 octets maximum
      cchar        =  %x21-2D / %x2F-7F
                          ;printable ASCII, excluding &quot;.&quot;
      dot-stuffed  =  *CHAR CRLF                  ;must be dot-stuffed
      gchar        =  %x21-3B / %x3D-7F
                          ;printable ASCII, excluding &quot;&lt;&quot;
      greeting     =  &quot;+OK&quot; [resp-code] *gchar [timestamp] *gchar CRLF
                          ;512 octets maximum
      multi-line   =  single-line *dot-stuffed &quot;.&quot; CRLF
      rchar        =  %x21-2E / %x30-5C / %x5E-7F
                          ;printable ASCII, excluding &quot;/&quot; and &quot;]&quot;
      resp-code    =  &quot;[&quot; resp-level *(&quot;/&quot; resp-level) &quot;]&quot;
      resp-level   =  1*rchar
      schar        =  %x21-5A / %x5C-7F
                          ;printable ASCII, excluding &quot;[&quot;
      single-line  =  status [SP text] CRLF       ;512 octets maximum
      status       =  &quot;+OK&quot; / &quot;-ERR&quot;
      text         =  *schar / resp-code *CHAR
      timestamp    =  &quot;&lt;&quot; *VCHAR &quot;&gt;&quot;
                          ;MUST conform to <a href="/doc/html/rfc822">RFC-822</a> msg-id






<span class="grey">Gellens, et. al.            Standards Track                     [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Parameter and Response Lengths</span>

   This specification increases the length restrictions on commands and
   parameters imposed by <a href="/doc/html/rfc1939">RFC 1939</a>.

   The maximum length of a command is increased from 47 characters (4
   character command, single space, 40 character argument, CRLF) to 255
   octets, including the terminating CRLF.

   Servers which support the CAPA command MUST support commands up to
   255 octets.  Servers MUST also support the largest maximum command
   length specified by any supported capability.

   The maximum length of the first line of a command response (including
   the initial greeting) is unchanged at 512 octets (including the
   terminating CRLF).

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  The CAPA Command</span>

   The POP3 CAPA command returns a list of capabilities supported by the
   POP3 server.  It is available in both the AUTHORIZATION and
   TRANSACTION states.

   A capability description MUST document in which states the capability
   is announced, and in which states the commands are valid.

   Capabilities available in the AUTHORIZATION state MUST be announced
   in both states.

   If a capability is announced in both states, but the argument might
   differ after authentication, this possibility MUST be stated in the
   capability description.

   (These requirements allow a client to issue only one CAPA command if
   it does not use any TRANSACTION-only capabilities, or any
   capabilities whose values may differ after authentication.)

   If the authentication step negotiates an integrity protection layer,
   the client SHOULD reissue the CAPA command after authenticating, to
   check for active down-negotiation attacks.

   Each capability may enable additional protocol commands, additional
   parameters and responses for existing commands, or describe an aspect
   of server behavior.  These details are specified in the description
   of the capability.






<span class="grey">Gellens, et. al.            Standards Track                     [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   <a href="#section-3">Section 3</a> describes the CAPA response using [<a href="#ref-ABNF" title="&quot;Augmented BNF for Syntax Specifications: ABNF&quot;">ABNF</a>].  When a
   capability response describes an optional command, the &lt;capa-tag&gt;
   SHOULD be identical to the command keyword.  CAPA response tags are
   case-insensitive.

        CAPA

        Arguments:
            none

        Restrictions:
            none

        Discussion:
            An -ERR response indicates the capability command is not
            implemented and the client will have to probe for
            capabilities as before.

            An +OK response is followed by a list of capabilities, one
            per line.  Each capability name MAY be followed by a single
            space and a space-separated list of parameters.  Each
            capability line is limited to 512 octets (including the
            CRLF).  The capability list is terminated by a line
            containing a termination octet (&quot;.&quot;) and a CRLF pair.

         Possible Responses:
             +OK -ERR

         Examples:
             C: CAPA
             S: +OK Capability list follows
             S: TOP
             S: USER
             S: SASL CRAM-MD5 KERBEROS_V4
             S: RESP-CODES
             S: LOGIN-DELAY 900
             S: PIPELINING
             S: EXPIRE 60
             S: UIDL
             S: IMPLEMENTATION Shlemazle-Plotz-v302
             S: .

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Initial Set of Capabilities</span>

   This section defines an initial set of POP3 capabilities.  These
   include the optional POP3 commands, already published POP3
   extensions, and behavior variations between POP3 servers which can
   impact clients.



<span class="grey">Gellens, et. al.            Standards Track                     [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   Note that there is no APOP capability, even though APOP is an
   optional command in [<a href="#ref-POP3" title="&quot;Post Office Protocol -- Version 3&quot;">POP3</a>].  Clients discover server support of APOP
   by the presence in the greeting banner of an initial challenge
   enclosed in angle brackets (&quot;&lt;&gt;&quot;).  Therefore, an APOP capability
   would introduce two ways for a server to announce the same thing.

<span class="h3"><a class="selflink" id="section-6.1" href="#section-6.1">6.1</a>.  TOP capability</span>

   CAPA tag:
       TOP

   Arguments:
       none

   Added commands:
       TOP

   Standard commands affected:
       none

   Announced states / possible differences:
       both / no

   Commands valid in states:
       TRANSACTION

   Specification reference:
       [<a href="#ref-POP3" title="&quot;Post Office Protocol -- Version 3&quot;">POP3</a>]

   Discussion:
       The TOP capability indicates the optional TOP command is
       available.

<span class="h3"><a class="selflink" id="section-6.2" href="#section-6.2">6.2</a>.  USER capability</span>

   CAPA tag:
       USER

   Arguments:
       none

   Added commands:
       USER PASS

   Standard commands affected:
       none





<span class="grey">Gellens, et. al.            Standards Track                     [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   Announced states / possible differences:
       both / no

   Commands valid in states:
       AUTHENTICATION

   Specification reference:
       [<a href="#ref-POP3" title="&quot;Post Office Protocol -- Version 3&quot;">POP3</a>]

   Discussion:
       The USER capability indicates that the USER and PASS commands
       are supported, although they may not be available to all users.

<span class="h3"><a class="selflink" id="section-6.3" href="#section-6.3">6.3</a>.  SASL capability</span>

   CAPA tag:
       SASL

   Arguments:
       Supported SASL mechanisms

   Added commands:
       AUTH

   Standard commands affected:
       none

   Announced states / possible differences:
       both / no

   Commands valid in states:
       AUTHENTICATION

   Specification reference:
       [<a href="#ref-POP-AUTH" title="&quot;POP3 AUTHentication command&quot;">POP-AUTH</a>, <a href="#ref-SASL" title="&quot;Simple Authentication and Security Layer (SASL)&quot;">SASL</a>]

   Discussion:
       The POP3 AUTH command [<a href="#ref-POP-AUTH" title="&quot;POP3 AUTHentication command&quot;">POP-AUTH</a>] permits the use of [<a href="#ref-SASL" title="&quot;Simple Authentication and Security Layer (SASL)&quot;">SASL</a>]
       authentication mechanisms with POP3.  The SASL capability
       indicates that the AUTH command is available and that it supports
       an optional base64 encoded second argument for an initial client
       response as described in the SASL specification.  The argument to
       the SASL capability is a space separated list of SASL mechanisms
       which are supported.







<span class="grey">Gellens, et. al.            Standards Track                     [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


<span class="h3"><a class="selflink" id="section-6.4" href="#section-6.4">6.4</a>.  RESP-CODES capability</span>

   CAPA tag:
       RESP-CODES

   Arguments:
       none

   Added commands:
       none

   Standard commands affected:
       none

   Announced states / possible differences:
       both / no

   Commands valid in states:
       n/a

   Specification reference:
       this document

   Discussion:
       The RESP-CODES capability indicates that any response text issued
       by this server which begins with an open square bracket (&quot;[&quot;) is
       an extended response code (see <a href="#section-8">section 8</a>).

<span class="h3"><a class="selflink" id="section-6.5" href="#section-6.5">6.5</a>.  LOGIN-DELAY capability</span>

   CAPA tag:
       LOGIN-DELAY

   Arguments:
       minimum seconds between logins; optionally followed by USER in
       AUTHENTICATION state.

   Added commands:
       none

   Standard commands affected:
       USER PASS APOP AUTH

   Announced states / possible differences:
       both / yes

   Commands valid in states:
       n/a



<span class="grey">Gellens, et. al.            Standards Track                     [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   Specification reference:
       this document

   Discussion:
       POP3 clients often login frequently to check for new mail.
       Unfortunately, the process of creating a connection,
       authenticating the user, and opening the user&#x27;s maildrop can be
       very resource intensive on the server.  A number of deployed POP3
       servers try to reduce server load by requiring a delay between
       logins.  The LOGIN-DELAY capability includes an integer argument
       which indicates the number of seconds after an &quot;+OK&quot; response to
       a PASS, APOP, or AUTH command before another authentication will
       be accepted.  Clients which permit the user to configure a mail
       check interval SHOULD use this capability to determine the
       minimum permissible interval.  Servers which advertise LOGIN-
       DELAY SHOULD enforce it.

       If the minimum login delay period could differ per user (that is,
       the LOGIN-DELAY argument might change after authentication), the
       server MUST announce in AUTHENTICATION state the largest value
       which could be set for any user.  This might be the largest value
       currently in use for any user (so only one value per server), or
       even the largest value which the server permits to be set for any
       user.  The server SHOULD append the token &quot;USER&quot; to the LOGIN-
       DELAY parameter in AUTHENTICATION state, to inform the client
       that a more accurate value is available after authentication.
       The server SHOULD announce the more accurate value in TRANSACTION
       state. (The &quot;USER&quot; token allows the client to decide if a second
       CAPA command is needed or not.)

       Servers enforce LOGIN-DELAY by rejecting an authentication
       command with or without the LOGIN-DELAY error response.  See
       <a href="#section-8.1.1">section 8.1.1</a> for more information.

<span class="h3"><a class="selflink" id="section-6.6" href="#section-6.6">6.6</a>.  PIPELINING capability</span>

   CAPA tag:
       PIPELINING

   Arguments:
       none

   Added commands:
       none

   Standard commands affected:
       all




<span class="grey">Gellens, et. al.            Standards Track                     [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   Announced states / possible differences:
       both / no

   Commands valid in states:
       n/a

   Specification reference:
       this document

   Discussion:
       The PIPELINING capability indicates the server is capable of
       accepting multiple commands at a time; the client does not have
       to wait for the response to a command before issuing a subsequent
       command.  If a server supports PIPELINING, it MUST process each
       command in turn.  If a client uses PIPELINING, it MUST keep track
       of which commands it has outstanding, and match server responses
       to commands in order.  If either the client or server uses
       blocking writes, it MUST not exceed the window size of the
       underlying transport layer.

       Some POP3 clients have an option to indicate the server supports
       &quot;Overlapped POP3 commands.&quot; This capability removes the need to
       configure this at the client.

       This is roughly synonymous with the ESMTP PIPELINING extension
       [<a href="#ref-PIPELINING" title="&quot;SMTP Service Extension for Command Pipelining&quot;">PIPELINING</a>], however, since SMTP [<a href="#ref-SMTP" title="&quot;Simple Mail Transfer Protocol&quot;">SMTP</a>] tends to have short
       commands and responses, the benefit is in grouping multiple
       commands and sending them as a unit.  While there are cases of
       this in POP (for example, USER and PASS could be batched,
       multiple RETR and/or DELE commands could be sent as a group),
       because POP has short commands and sometimes lengthy responses,
       there is also an advantage is sending new commands while still
       receiving the response to an earlier command (for example,
       sending RETR and/or DELE commands while processing a UIDL reply).

<span class="h3"><a class="selflink" id="section-6.7" href="#section-6.7">6.7</a>.  EXPIRE capability</span>

   CAPA tag:
       EXPIRE

   Arguments:
       server-guaranteed minimum retention days, or NEVER; optionally
       followed by USER in AUTHENTICATION state

   Added commands:
       none





<span class="grey">Gellens, et. al.            Standards Track                    [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   Standard commands affected:
       none

   Announced states / possible differences:
       both / yes

   Commands valid in states:
       n/a

   Specification reference:
       this document

   Discussion:
       While POP3 allows clients to leave messages on the server, <a href="/doc/html/rfc1939">RFC</a>
       <a href="/doc/html/rfc1939">1939</a> [<a href="#ref-POP3" title="&quot;Post Office Protocol -- Version 3&quot;">POP3</a>] warns about the problems that may arise from this,
       and allows servers to delete messages based on site policy.

       The EXPIRE capability avoids the problems mentioned in <a href="/doc/html/rfc1939">RFC 1939</a>,
       by allowing the server to inform the client as to the policy in
       effect.  The argument to the EXPIRE capability indicates the
       minimum server retention period, in days, for messages on the
       server.

       EXPIRE 0 indicates the client is not permitted to leave mail on
       the server; when the session enters the UPDATE state the server
       MAY assume an implicit DELE for each message which was downloaded
       with RETR.

       EXPIRE NEVER asserts that the server does not delete messages.

       The concept of a &quot;retention period&quot; is intentionally vague.
       Servers may start counting days to expiration when a message is
       added to a maildrop, when a client becomes aware of the existence
       of a message through the LIST or UIDL commands, when a message
       has been acted upon in some way (for example, TOP or RETR), or at
       some other event.  The EXPIRE capability cannot provide a precise
       indication as to exactly when any specific message will expire.
       The capability is intended to make it easier for clients to
       behave in ways which conform to site policy and user wishes.  For
       example, a client might display a warning for attempts to
       configure a &quot;leave mail on server&quot; period which is greater than
       or equal to some percentage of the value announced by the server.

       If a site uses any automatic deletion policy, it SHOULD use the
       EXPIRE capability to announce this.






<span class="grey">Gellens, et. al.            Standards Track                    [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


       The EXPIRE capability, with a parameter other than 0 or NEVER, is
       intended to let the client know that the server does permit mail
       to be left on the server, and to present a value which is the
       smallest which might be in force.

       Sites which permit users to retain messages indefinitely SHOULD
       announce this with the EXPIRE NEVER response.

       If the expiration policy differs per user (that is, the EXPIRE
       argument might change after authentication), the server MUST
       announce in AUTHENTICATION state the smallest value which could
       be set for any user.  This might be the smallest value currently
       in use for any user (so only one value per server), or even the
       smallest value which the server permits to be set for any user.
       The server SHOULD append the token &quot;USER&quot; to the EXPIRE parameter
       in AUTHENTICATION state, to inform the client that a more
       accurate value is available after authentication.  The server
       SHOULD announce the more accurate value in TRANSACTION state.
       (The &quot;USER&quot; token allows the client to decide if a second CAPA
       command is needed or not.)

       A site may have a message expiration policy which treats messages
       differently depending on which user actions have been performed,
       or based on other factors.  For example, a site might delete
       unseen messages after 60 days, and completely- or partially-seen
       messages after 15 days.

       The announced EXPIRE value is the smallest retention period which
       is or might be used by any category or condition of the current
       site policy, for any user (in AUTHENTICATION state) or the
       specific user (in TRANSACTION state).  That is, EXPIRE informs
       the client of the minimum number of days messages may remain on
       the server under any circumstances.

       Examples:
           EXPIRE 5 USER
           EXPIRE 30
           EXPIRE NEVER
           EXPIRE 0

       The first example indicates the server might delete messages
       after five days, but the period differs per user, and so a more
       accurate value can be obtained by issuing a second CAPA command
       in TRANSACTION state.  The second example indicates the server
       could delete messages after 30 days.  In the third example, the
       server announces it does not delete messages.  The fourth example
       specifies that the site does not permit messages to be left on
       the server.



<span class="grey">Gellens, et. al.            Standards Track                    [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


<span class="h3"><a class="selflink" id="section-6.8" href="#section-6.8">6.8</a>.  UIDL capability</span>

   CAPA tag:
       UIDL

   Arguments:
       none

   Added commands:
       UIDL

   Standard commands affected:
       none

   Announced states / possible differences:
       both / no

   Commands valid in states:
       TRANSACTION

   Specification reference:
       [<a href="#ref-POP3" title="&quot;Post Office Protocol -- Version 3&quot;">POP3</a>]

   Discussion:
       The UIDL capability indicates that the optional UIDL command is
       supported.

<span class="h3"><a class="selflink" id="section-6.9" href="#section-6.9">6.9</a>.  IMPLEMENTATION capability</span>

   CAPA tag:
       IMPLEMENTATION

   Arguments:
       string giving server implementation information

   Added commands:
       none

   Standard commands affected:
       none

   Announced states / possible differences:
       both (optionally TRANSACTION only) / no

   Commands valid in states:
       n/a





<span class="grey">Gellens, et. al.            Standards Track                    [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   Specification reference:
       this document

   Discussion:
       It is often useful to identify an implementation of a particular
       server (for example, when logging).  This is commonly done in the
       welcome banner, but one must guess if a string is an
       implementation ID or not.

       The argument to the IMPLEMENTATION capability consists of one or
       more tokens which identify the server. (Note that since CAPA
       response tag arguments are space-separated, it may be convenient
       for the IMPLEMENTATION capability argument to not contain spaces,
       so that it is a single token.)

       Normally, servers announce IMPLEMENTATION in both states.
       However, a server MAY chose to do so only in TRANSACTION state.

       A server MAY include the implementation identification both in
       the welcome banner and in the IMPLEMENTATION capability.

       Clients MUST NOT modify their behavior based on the server
       implementation.  Instead the server and client should agree on a
       private extension.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Future Extensions to POP3</span>

   Future extensions to POP3 are in general discouraged, as POP3&#x27;s
   usefulness lies in its simplicity.  POP3 is intended as a download-
   and-delete protocol; mail access capabilities are available in IMAP
   [<a href="#ref-IMAP4" title="&quot;Internet Message Access Protocol -- Version 4rev1&quot;">IMAP4</a>].  Extensions which provide support for additional mailboxes,
   allow uploading of messages to the server, or which deviate from
   POP&#x27;s download-and-delete model are strongly discouraged and unlikely
   to be permitted on the IETF standards track.

   Clients MUST NOT require the presence of any extension for basic
   functionality, with the exception of the authentication commands
   (APOP, AUTH [<a href="#section-6.3">section 6.3</a>] and USER/PASS).

   <a href="#section-9">Section 9</a> specifies how additional capabilities are defined.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  Extended POP3 Response Codes</span>

   Unextended POP3 is only capable of indicating success or failure to
   most commands.  Unfortunately, clients often need to know more
   information about the cause of a failure in order to gracefully
   recover.  This is especially important in response to a failed login




<span class="grey">Gellens, et. al.            Standards Track                    [Page 14]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-15" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   (there are widely-deployed clients which attempt to decode the error
   text of a PASS command result, to try and distinguish between &quot;unable
   to get maildrop lock&quot; and &quot;bad login&quot;).

   This specification amends the POP3 standard to permit an optional
   response code, enclosed in square brackets, at the beginning of the
   human readable text portion of an &quot;+OK&quot; or &quot;-ERR&quot; response.  Clients
   supporting this extension MAY remove any information enclosed in
   square brackets prior to displaying human readable text to the user.
   Immediately following the open square bracket &quot;[&quot; character is a
   response code which is interpreted in a case-insensitive fashion by
   the client.

   The response code is hierarchical, with a &quot;/&quot; separating levels of
   detail about the error.  Clients MUST ignore unknown hierarchical
   detail about the response code.  This is important, as it could be
   necessary to provide further detail for response codes in the future.

   <a href="#section-3">Section 3</a> describes response codes using [<a href="#ref-ABNF" title="&quot;Augmented BNF for Syntax Specifications: ABNF&quot;">ABNF</a>].

   If a server supports extended response codes, it indicates this by
   including the RESP-CODES capability in the CAPA response.

   Examples:
           C: APOP mrose c4c9334bac560ecc979e58001b3e22fb
           S: -ERR [IN-USE] Do you have another POP session running?

<span class="h3"><a class="selflink" id="section-8.1" href="#section-8.1">8.1</a>.  Initial POP3 response codes</span>

   This specification defines two POP3 response codes which can be used
   to determine the reason for a failed login.  <a href="#section-9">Section 9</a> specifies how
   additional response codes are defined.

<span class="h4"><a class="selflink" id="section-8.1.1" href="#section-8.1.1">8.1.1</a>.  The LOGIN-DELAY response code</span>

   This occurs on an -ERR response to an AUTH, USER (see note), PASS or
   APOP command and indicates that the user has logged in recently and
   will not be allowed to login again until the login delay period has
   expired.

   NOTE:  Returning the LOGIN-DELAY response code to the USER command
   avoids the work of authenticating the user but reveals to the client
   that the specified user exists.  Unless the server is operating in an
   environment where user names are not secret (for example, many
   popular email clients advertise the POP server and user name in an
   outgoing mail header), or where server access is restricted, or the
   server can verify that the connection is to the same user, it is




<span class="grey">Gellens, et. al.            Standards Track                    [Page 15]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-16" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   strongly recommended that the server not issue this response code to
   the USER command.  The server still saves the cost of opening the
   maildrop, which in some environments is the most expensive step.

<span class="h4"><a class="selflink" id="section-8.1.2" href="#section-8.1.2">8.1.2</a>.  The IN-USE response code</span>

   This occurs on an -ERR response to an AUTH, APOP, or PASS command.
   It indicates the authentication was successful, but the user&#x27;s
   maildrop is currently in use (probably by another POP3 client).

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  IANA Considerations</span>

   This document requests that IANA maintain two new registries:  POP3
   capabilities and POP3 response codes.

   New POP3 capabilities MUST be defined in a standards track or IESG
   approved experimental RFC, and MUST NOT begin with the letter &quot;X&quot;.

   New POP3 capabilities MUST include the following information:
        CAPA tag
        Arguments
        Added commands
        Standard commands affected
        Announced states / possible differences
        Commands valid in states
        Specification reference
        Discussion

   In addition, new limits for POP3 command and response lengths may
   need to be included.

   New POP3 response codes MUST be defined in an RFC or other permanent
   and readily available reference, in sufficient detail so that
   interoperability between independent implementations is possible.
   (This is the &quot;Specification Required&quot; policy described in [<a href="#ref-IANA" title="">IANA</a>]).

   New POP3 response code specifications MUST include the following
   information: the complete response code, for which responses (+OK
   or -ERR) and commands it is valid, and a definition of its meaning and
   expected client behavior.











<span class="grey">Gellens, et. al.            Standards Track                    [Page 16]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-17" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


<span class="h2"><a class="selflink" id="section-10" href="#section-10">10</a>.  Security Considerations</span>

   A capability list can reveal information about the server&#x27;s
   authentication mechanisms which can be used to determine if certain
   attacks will be successful.  However, allowing clients to
   automatically detect availability of stronger mechanisms and alter
   their configurations to use them can improve overall security at a
   site.

   <a href="#section-8.1">Section 8.1</a> discusses the security issues related to use of the
   LOGIN-DELAY response code with the USER command.

<span class="h2"><a class="selflink" id="section-11" href="#section-11">11</a>.  Acknowledgments</span>

   This document has been revised in part based on comments and
   discussions which took place on and off the IETF POP3 Extensions
   mailing list.  The help of those who took the time to review this
   memo and make suggestions is appreciated, especially that of Alexey
   Melnikov, Harald Alvestrand, and Mike Gahrns.

<span class="h2"><a class="selflink" id="section-12" href="#section-12">12</a>.  References</span>

   [<a id="ref-ABNF">ABNF</a>]       Crocker, D. and P. Overell, &quot;Augmented BNF for Syntax
                Specifications:  ABNF&quot;, <a href="/doc/html/rfc2234">RFC 2234</a>, November 1997.

   [<a id="ref-IANA">IANA</a>]       Narten, T. and H. Alvestrand, &quot;Guidelines for Writing an
                IANA Considerations Section in RFCs&quot;, <a href="/doc/html/bcp26">BCP 26</a>, <a href="/doc/html/rfc2434">RFC 2434</a>,
                October 1998.

   [<a id="ref-IMAP4">IMAP4</a>]      Crispin, M., &quot;Internet Message Access Protocol --
                Version 4rev1&quot;, <a href="/doc/html/rfc2060">RFC 2060</a>, December 1996.

   [<a id="ref-KEYWORDS">KEYWORDS</a>]   Bradner, S., &quot;Key words for use in RFCs to Indicate
                Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-PIPELINING">PIPELINING</a>] Freed, N., &quot;SMTP Service Extension for Command
                Pipelining&quot;, <a href="/doc/html/rfc2197">RFC 2197</a>, September 1997.

   [<a id="ref-POP3">POP3</a>]       Myers, J. and M. Rose, &quot;Post Office Protocol -- Version
                3&quot;, STD 53, <a href="/doc/html/rfc1939">RFC 1939</a>, May 1996.

   [<a id="ref-POP-AUTH">POP-AUTH</a>]   Myers, J., &quot;POP3 AUTHentication command&quot;, <a href="/doc/html/rfc1734">RFC 1734</a>,
                December 1994.

   [<a id="ref-SASL">SASL</a>]       Myers, J., &quot;Simple Authentication and Security Layer
                (SASL)&quot;, <a href="/doc/html/rfc2222">RFC 2222</a>, October 1997.





<span class="grey">Gellens, et. al.            Standards Track                    [Page 17]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-18" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


   [<a id="ref-SMTP">SMTP</a>]       Postel, J., &quot;Simple Mail Transfer Protocol&quot;, STD 10, <a href="/doc/html/rfc821">RFC</a>
                <a href="/doc/html/rfc821">821</a>, August 1982.

<span class="h2"><a class="selflink" id="section-13" href="#section-13">13</a>.  Authors&#x27; Addresses</span>

   Randall Gellens
   QUALCOMM Incorporated
   6455 Lusk Blvd.
   San Diego, CA  92121-2779
   USA

   Phone: +1 619 651 5115
   Fax:   +1 619 845 7268
   EMail: randy@qualcomm.com


   Chris Newman
   Innosoft International, Inc.
   1050 Lakes Drive
   West Covina, CA 91790
   USA

   EMail: chris.newman@innosoft.com


   Laurence Lundblade
   QUALCOMM Incorporated
   6455 Lusk Blvd.
   San Diego, Ca, 92121-2779
   USA

   Phone: +1 619 658 3584
   Fax:   +1 619 845 7268
   EMail: lgl@qualcomm.com

















<span class="grey">Gellens, et. al.            Standards Track                    [Page 18]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-19" ></span>
<span class="grey"><a href="/doc/html/rfc2449">RFC 2449</a>                POP3 Extension Mechanism           November 1998</span>


<span class="h2"><a class="selflink" id="section-14" href="#section-14">14</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (1998).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
























Gellens, et. al.            Standards Track                    [Page 19]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

