<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc8909
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-regext-data-escrow/">
  <meta name="description" content="Registry Data Escrow Specification (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc8909.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc8909.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/rfc8909.xml" title="XML source for this document">xml</a>|<a href="https://www.rfc-editor.org/rfc/rfc8909.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc8909/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc8909/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/regext/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-regext-data-escrow@ietf.org?subject=draft-ietf-regext-data-escrow" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-regext-data-escrow-10.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-regext-data-escrow-10.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-regext-data-escrow-10.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-regext-data-escrow-10">draft-ietf-regext-data-escrow-10</a>                 Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                         G. Lozano
Request for Comments: 8909                                         ICANN
Category: Standards Track                                  November 2020
ISSN: 2070-1721


                   <span class="h1">Registry Data Escrow Specification</span>

Abstract

   This document specifies the format and contents of data escrow
   deposits targeted primarily for domain name registries.  The
   specification is designed to be independent of the underlying objects
   that are being escrowed, and therefore it could also be used for
   purposes other than domain name registries.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="/doc/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8909">https://www.rfc-editor.org/info/rfc8909</a>.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction
   2.  Terminology
   3.  Problem Scope
   4.  Conventions Used in This Document
     4.1.  Date and Time
   5.  Protocol Description
     5.1.  Root Element &lt;deposit&gt;
     5.2.  Rebuilding the Registry from Data Escrow Deposits
   6.  Formal Syntax
     6.1.  RDE Schema
   7.  Internationalization Considerations
   8.  IANA Considerations
   9.  Security Considerations
   10. Privacy Considerations
   11. Example of a Full Deposit
   12. Example of a Differential Deposit
   13. Example of an Incremental Deposit
   14. References
     14.1.  Normative References
     14.2.  Informative References
   Acknowledgments
   Author&#x27;s Address

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   Registry Data Escrow (RDE) is the process by which a registry
   periodically submits data deposits to a third party called an escrow
   agent.  These deposits comprise the minimum data needed by a third
   party to resume operations if the registry cannot function and is
   unable or unwilling to facilitate an orderly transfer of service.
   For example, for a domain name registry or registrar, the data to be
   deposited would include all of the objects related to registered
   domain names, e.g., names, contacts, name servers.

   The goal of data escrow is higher resiliency of registration
   services, for the benefit of Internet users.  The beneficiaries of a
   registry are not just those registering information there but also
   the users of services relying on the registry data.

   In the context of domain name registries, registration data escrow is
   a requirement for generic Top-Level Domains (gTLDs) (e.g.,
   Specification 2 of the ICANN Base Registry Agreement; see
   [<a href="#ref-ICANN-GTLD-RA-20170731">ICANN-GTLD-RA-20170731</a>]), and some country code TLD (ccTLD) managers
   are also currently escrowing data.  There is also a similar
   requirement for ICANN-accredited domain registrars.

   This document specifies a format for data escrow deposits independent
   of the objects being escrowed.  An independent specification is
   required for each type of registry/set of objects that is expected to
   be escrowed.

   The format for data escrow deposits is specified using version 1.0 of
   the Extensible Markup Language (XML) as described in
   [<a href="#ref-W3C.REC-xml-20081126">W3C.REC-xml-20081126</a>], and XML Schema notation as described in
   [<a href="#ref-W3C.REC-xmlschema-1-20041028">W3C.REC-xmlschema-1-20041028</a>] and [<a href="#ref-W3C.REC-xmlschema-2-20041028">W3C.REC-xmlschema-2-20041028</a>].

   Readers are advised to read <a href="#section-2">Section 2</a> (&quot;Terminology&quot;) carefully to
   understand the precise meanings of Differential and Incremental
   Deposits, as the definitions used in this document are different from
   the definitions typically used in the domain of data backups.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Terminology</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in
   <a href="/doc/html/bcp14">BCP 14</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] [<a href="/doc/html/rfc8174" title="&quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;">RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.

   Deposit:  There are three kinds of deposits: Full, Differential, and
      Incremental.  For all three kinds of deposits, the universe of
      registry objects to be considered for data escrow is comprised of
      any objects required to offer the registry services.

   Differential Deposit:  A Differential Deposit contains data that
      reflects all transactions involving the database that were not
      reflected in the last previous Full, Incremental, or Differential
      Deposit, as the case may be.  Differential Deposit files will
      contain information from all database objects that were added,
      modified, or deleted since the previous deposit was completed as
      of its defined Timeline Watermark.

   Domain Name:  See the definition of &quot;domain name&quot; in [<a href="/doc/html/rfc8499" title="&quot;DNS Terminology&quot;">RFC8499</a>].

   Escrow Agent:  An escrow agent is the organization designated by the
      registry or the third-party beneficiary to receive and guard data
      escrow deposits from the registry.

   Full Deposit:  A Full Deposit contains the registry data that
      reflects the current and complete registry database and will
      consist of data that reflects the state of the registry as of a
      defined Timeline Watermark for the deposit.

   Incremental Deposit:  An Incremental Deposit contains data that
      reflects all transactions involving the database that were not
      reflected in the last previous Full Deposit.  Incremental Deposit
      files will contain information from all database objects that were
      added, modified, or deleted since the previous Full Deposit was
      completed as of its defined Timeline Watermark.  If the Timeline
      Watermark of an Incremental Deposit were to cover the Timeline
      Watermark of another Incremental or Differential Deposit since the
      last Full Deposit (i.e., one or more Incremental or Differential
      Deposits exist for the period between the Timeline Watermark of a
      Full Deposit and an Incremental or Differential Deposit), the more
      recent deposit MUST contain all of the transactions of the earlier
      deposit.

   Registrar:  See the definition of &quot;registrar&quot; in [<a href="/doc/html/rfc8499" title="&quot;DNS Terminology&quot;">RFC8499</a>].

   Registry:  See the definition of &quot;registry&quot; in [<a href="/doc/html/rfc8499" title="&quot;DNS Terminology&quot;">RFC8499</a>].

   Third-Party Beneficiary:  A third-party beneficiary is the
      organization that, under extraordinary circumstances, would
      receive the escrow deposits the registry transferred to the escrow
      agent.  This organization could be a backup registry, registry
      regulator, contracting party of the registry, etc.

   Timeline Watermark:  The Timeline Watermark is the point in time on
      which to base the collecting of database objects for a deposit.
      Deposits are expected to be consistent with that point in time.

   Top-Level Domain (TLD):  See the definition of &quot;Top-Level Domain&quot; in
      [<a href="/doc/html/rfc8499" title="&quot;DNS Terminology&quot;">RFC8499</a>].

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Problem Scope</span>

   In the past few years, the issue of registry continuity has been
   carefully considered in the gTLD and ccTLD spaces.  Various
   organizations have carried out risk analyses and developed business
   continuity plans to deal with those risks, should they materialize.

   One of the solutions considered and used, especially in the gTLD
   space, is Registry Data Escrow as a way to ensure the continuity of
   registry services in the extreme case of registry failure.

   So far, almost every registry that uses Registry Data Escrow has its
   own specification.  It is anticipated that more registries will be
   implementing escrow, especially with an increasing number of domain
   registries coming into service, adding complexity to this issue.

   It would seem beneficial to have a standardized specification for
   Registry Data Escrow that can be used by any registry to submit its
   deposits.

   While the domain name industry has been the main target for this
   specification, it has been designed to be as general as possible.

   Specifications covering the objects used by registration
   organizations shall identify the format and contents of the deposits
   a registry has to make, such that a different registry would be able
   to rebuild the registration services of the former, without its help,
   in a timely manner and with minimum disruption to its users.

   Since the details of the registration services provided vary from
   registry to registry, specifications covering the objects used by
   registration organizations shall provide mechanisms that allow
   extensibility to accommodate variations and extensions of the
   registration services.

   Given the requirement for confidentiality and the importance of
   accuracy of the information that is handled in order to offer
   registration services, parties using this specification shall define
   confidentiality and integrity mechanisms for handling the
   registration data.

   Specifications covering the objects used by registration
   organizations shall not include in the specification transient
   objects that can be recreated by the new registry, particularly those
   of delicate confidentiality, e.g., DNSSEC KSK/ZSK (Key Signing Key /
   Zone Signing Key) private keys.

   Details that are a matter of policy should be identified as such for
   the benefit of the implementers.

   Non-technical issues concerning data escrow, such as whether to
   escrow data and for what purposes the data may be used, are outside
   the scope of this document.

   Parties using this specification shall use a signaling mechanism to
   control the transmission, reception, and validation of data escrow
   deposits.  The definition of such a signaling mechanism is outside
   the scope of this document.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Conventions Used in This Document</span>

   The XML namespace prefix &quot;rde&quot; is used for the namespace
   &quot;urn:ietf:params:xml:ns:rde-1.0&quot;, but implementations MUST NOT depend
   on it; instead, they should employ a proper namespace-aware XML
   parser and serializer to interpret and output the XML documents.

   The XML namespace prefixes &quot;rdeObj1&quot; and &quot;rdeObj2&quot;, with the
   corresponding namespaces &quot;urn:example:params:xml:ns:rdeObj1-1.0&quot; and
   &quot;urn:example:params:xml:ns:rdeObj2-1.0&quot;, are used as example data
   escrow objects.

<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a>.  Date and Time</span>

   Numerous fields indicate &quot;dates&quot;, such as the creation and expiry
   dates for objects.  These fields SHALL contain timestamps indicating
   the date and time in UTC, specified in Internet Date/Time Format (see
   <a href="/doc/html/rfc3339#section-5.6">[RFC3339], Section&nbsp;5.6</a>) with the time-offset parameter specified as
   &quot;Z&quot;.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Protocol Description</span>

   The format for data escrow deposits as produced by a registry is
   defined below.  The deposits are represented in XML (<a href="#section-6">Section 6</a>).
   Only the format of the objects deposited is defined.  This document
   does not prescribe the method used to transfer such deposits between
   the registry and the escrow agent or vice versa.

   The protocol intends to be object agnostic, allowing the &quot;overload&quot;
   of abstract elements using the &quot;substitutionGroup&quot; attribute
   [<a href="#ref-W3C.REC-xmlschema-1-20041028">W3C.REC-xmlschema-1-20041028</a>] of the XML Schema element to define
   the actual elements of an object to be escrowed.

   The specification for each object to be escrowed MUST declare the
   identifier to be used to reference the object to be deleted or added/
   modified.

<span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a>.  Root Element &lt;deposit&gt;</span>

   The container or root element for a Registry Data Escrow deposit is
   &lt;deposit&gt;.

   The &lt;deposit&gt; element contains the following attributes:

   *  A REQUIRED &quot;type&quot; attribute that is used to identify the kind of
      deposit:

      -  FULL: Full.

      -  INCR: Incremental.

      -  DIFF: Differential.

   *  A REQUIRED &quot;id&quot; attribute that is used to uniquely identify the
      escrow deposit.  Each registry is responsible for maintaining its
      own escrow deposits&#x27; identifier space to ensure uniqueness.

   *  A &quot;prevId&quot; attribute that can be used to identify the previous
      Incremental, Differential, or Full Deposit.  This attribute is
      REQUIRED in Differential Deposits (&quot;DIFF&quot; type), is OPTIONAL in
      Incremental Deposits (&quot;INCR&quot; type), and is not used in Full
      Deposits (&quot;FULL&quot; type).

   *  An OPTIONAL &quot;resend&quot; attribute that is incremented each time the
      escrow deposit failed the verification procedure at the receiving
      party and a new escrow deposit needs to be generated by the
      registry for that specific date.  The first time a deposit is
      generated, the attribute either (1) is omitted or (2) MUST be &quot;0&quot;.
      If a deposit needs to be generated again, the attribute MUST be
      set to &quot;1&quot;, and so on.

   The &lt;deposit&gt; element contains the following child elements:

<span class="h4"><a class="selflink" id="section-5.1.1" href="#section-5.1.1">5.1.1</a>.  Child &lt;watermark&gt; Element</span>

   A REQUIRED &lt;watermark&gt; element contains the date-time [<a href="/doc/html/rfc3339" title="&quot;Date and Time on the Internet: Timestamps&quot;">RFC3339</a>]
   corresponding to the Timeline Watermark of the deposit.

<span class="h4"><a class="selflink" id="section-5.1.2" href="#section-5.1.2">5.1.2</a>.  Child &lt;rdeMenu&gt; Element</span>

   This element contains auxiliary information regarding the data escrow
   deposit.

   A REQUIRED &lt;rdeMenu&gt; element contains the following child elements:

   *  A REQUIRED &lt;version&gt; element that identifies the RDE protocol
      version.  This value MUST be 1.0.

   *  One or more &lt;objURI&gt; elements that contain namespace URIs
      representing the &lt;contents&gt; and &lt;deletes&gt; element objects.

<span class="h4"><a class="selflink" id="section-5.1.3" href="#section-5.1.3">5.1.3</a>.  Child &lt;deletes&gt; Element</span>

   For Differential Deposits, this element contains the list of objects
   that have been deleted since the previous deposit of any type.  For
   Incremental Deposits, this element contains the list of objects that
   have been deleted since the previous Full Deposit.

   This section of the deposit MUST NOT be present in Full Deposits.

<span class="h4"><a class="selflink" id="section-5.1.4" href="#section-5.1.4">5.1.4</a>.  Child &lt;contents&gt; Element</span>

   For Full Deposits, this element contains all objects.  For
   Differential Deposits, this element contains the list of objects that
   have been added or modified since the previous deposit of any type.
   For Incremental Deposits, this element contains the list of objects
   that have been added or modified since the previous Full Deposit.

<span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a>.  Rebuilding the Registry from Data Escrow Deposits</span>

   When applying Incremental or Differential Deposits (when rebuilding
   the registry from data escrow deposits), the relative order of the
   &lt;deletes&gt; and &lt;contents&gt; elements is important because dependencies
   may exist between the objects.  All of the &lt;deletes&gt; elements MUST be
   applied first, in the order in which they appear.  All of the
   &lt;contents&gt; elements MUST be applied next, in the order in which they
   appear.

   If an object is present in the &lt;contents&gt; or &lt;deletes&gt; section of
   several deposits (e.g., Full and Differential), the registry data
   from the latest deposit (as defined by the Timeline Watermark) SHOULD
   be used when rebuilding the registry.  An object SHOULD NOT exist
   multiple times in either the &lt;contents&gt; or &lt;deletes&gt; elements in a
   single deposit.

   When rebuilding a registry, the &lt;deletes&gt; section MUST be ignored if
   present in a Full Deposit.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Formal Syntax</span>

   RDE is specified in XML Schema notation.  The formal syntax presented
   here is a complete schema representation of RDE suitable for
   automated validation of RDE XML instances.

   The &lt;CODE BEGINS&gt; and &lt;CODE ENDS&gt; tags are not part of the schema;
   they are used to note the beginning and ending of the schema for URI
   registration purposes.

<span class="h3"><a class="selflink" id="section-6.1" href="#section-6.1">6.1</a>.  RDE Schema</span>

   &lt;CODE BEGINS&gt;
   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;schema targetNamespace=&quot;urn:ietf:params:xml:ns:rde-1.0&quot;
     xmlns:rde=&quot;urn:ietf:params:xml:ns:rde-1.0&quot;
     xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;
     elementFormDefault=&quot;qualified&quot;&gt;

     &lt;annotation&gt;
       &lt;documentation&gt;
         Registry Data Escrow schema
       &lt;/documentation&gt;
     &lt;/annotation&gt;

     &lt;!-- Root element --&gt;
     &lt;element name=&quot;deposit&quot; type=&quot;rde:escrowDepositType&quot;/&gt;

     &lt;!-- RDE types --&gt;
     &lt;complexType name=&quot;escrowDepositType&quot;&gt;
       &lt;sequence&gt;
         &lt;element name=&quot;watermark&quot; type=&quot;dateTime&quot;/&gt;
         &lt;element name=&quot;rdeMenu&quot; type=&quot;rde:rdeMenuType&quot;/&gt;
         &lt;element name=&quot;deletes&quot; type=&quot;rde:deletesType&quot; minOccurs=&quot;0&quot;/&gt;
         &lt;element name=&quot;contents&quot; type=&quot;rde:contentsType&quot;
           minOccurs=&quot;0&quot;/&gt;
       &lt;/sequence&gt;
       &lt;attribute name=&quot;type&quot; type=&quot;rde:depositTypeType&quot;
         use=&quot;required&quot;/&gt;
       &lt;attribute name=&quot;id&quot; type=&quot;rde:depositIdType&quot; use=&quot;required&quot;/&gt;
       &lt;attribute name=&quot;prevId&quot; type=&quot;rde:depositIdType&quot;/&gt;
       &lt;attribute name=&quot;resend&quot; type=&quot;unsignedShort&quot; default=&quot;0&quot;/&gt;
     &lt;/complexType&gt;

     &lt;!-- Menu type --&gt;
     &lt;complexType name=&quot;rdeMenuType&quot;&gt;
       &lt;sequence&gt;
         &lt;element name=&quot;version&quot; type=&quot;rde:versionType&quot;/&gt;
         &lt;element name=&quot;objURI&quot; type=&quot;anyURI&quot; maxOccurs=&quot;unbounded&quot;/&gt;
       &lt;/sequence&gt;
     &lt;/complexType&gt;

     &lt;!-- Deletes type --&gt;
     &lt;complexType name=&quot;deletesType&quot;&gt;
       &lt;sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
         &lt;element ref=&quot;rde:delete&quot;/&gt;
       &lt;/sequence&gt;
     &lt;/complexType&gt;

     &lt;element name=&quot;delete&quot; type=&quot;rde:deleteType&quot; abstract=&quot;true&quot;/&gt;
     &lt;complexType name=&quot;deleteType&quot;&gt;
       &lt;complexContent&gt;
         &lt;restriction base=&quot;anyType&quot;/&gt;
       &lt;/complexContent&gt;
     &lt;/complexType&gt;

     &lt;!-- Contents type --&gt;
     &lt;complexType name=&quot;contentsType&quot;&gt;
       &lt;sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
         &lt;element ref=&quot;rde:content&quot;/&gt;
       &lt;/sequence&gt;
     &lt;/complexType&gt;

     &lt;element name=&quot;content&quot; type=&quot;rde:contentType&quot; abstract=&quot;true&quot;/&gt;
     &lt;complexType name=&quot;contentType&quot;&gt;
       &lt;complexContent&gt;
         &lt;restriction base=&quot;anyType&quot;/&gt;
       &lt;/complexContent&gt;
     &lt;/complexType&gt;

     &lt;!-- Type of deposit --&gt;
     &lt;simpleType name=&quot;depositTypeType&quot;&gt;
       &lt;restriction base=&quot;token&quot;&gt;
         &lt;enumeration value=&quot;FULL&quot;/&gt;
         &lt;enumeration value=&quot;INCR&quot;/&gt;
         &lt;enumeration value=&quot;DIFF&quot;/&gt;
       &lt;/restriction&gt;
     &lt;/simpleType&gt;

     &lt;!-- Deposit identifier type --&gt;
     &lt;simpleType name=&quot;depositIdType&quot;&gt;
       &lt;restriction base=&quot;token&quot;&gt;
         &lt;pattern value=&quot;\w{1,13}&quot;/&gt;
       &lt;/restriction&gt;
     &lt;/simpleType&gt;

     &lt;!-- A RDE version number is a dotted pair of decimal numbers --&gt;
     &lt;simpleType name=&quot;versionType&quot;&gt;
       &lt;restriction base=&quot;token&quot;&gt;
         &lt;pattern value=&quot;[1-9]+\.[0-9]+&quot;/&gt;
         &lt;enumeration value=&quot;1.0&quot;/&gt;
       &lt;/restriction&gt;
     &lt;/simpleType&gt;

   &lt;/schema&gt;
   &lt;CODE ENDS&gt;

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Internationalization Considerations</span>

   Data escrow deposits are represented in XML, which provides native
   support for encoding information using the Unicode character set and
   its more compact representations, including UTF-8.  Conformant XML
   processors recognize both UTF-8 and UTF-16.  Though XML includes
   provisions to identify and use other character encodings through the
   use of an &quot;encoding&quot; attribute in an &lt;?xml?&gt; declaration, the use of
   UTF-8 is RECOMMENDED.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  IANA Considerations</span>

   This document uses URNs to describe XML namespaces and XML schemas
   conforming to a registry mechanism described in [<a href="/doc/html/rfc3688" title="&quot;The IETF XML Registry&quot;">RFC3688</a>].  Two URI
   assignments have been registered by the IANA.

   Registration for the RDE namespace:

   URI:  urn:ietf:params:xml:ns:rde-1.0
   Registrant Contact:  IESG
   XML:  None.  Namespace URIs do not represent an XML specification.

   Registration for the RDE XML schema:

   URI:  urn:ietf:params:xml:schema:rde-1.0
   Registrant Contact:  IESG

   See <a href="#section-6">Section 6</a> (&quot;Formal Syntax&quot;) of this document.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  Security Considerations</span>

   This specification does not define the security mechanisms to be used
   in the transmission of the data escrow deposits, since it only
   specifies the minimum necessary to enable the rebuilding of a
   registry from deposits without intervention from the original
   registry.

   Depending on local policies, some elements -- or, most likely, the
   whole deposit -- will be considered confidential.  As such, the
   parties SHOULD take all necessary precautions, such as encrypting the
   data at rest and in transit to avoid inadvertent disclosure of
   private data.  Regardless of the precautions taken by the parties
   regarding data at rest and in transit, authentication credentials
   MUST NOT be escrowed.

   Authentication of the parties passing data escrow deposit files is
   also of the utmost importance.  The escrow agent MUST properly
   authenticate the identity of the registry before accepting data
   escrow deposits.  Similarly, the registry MUST authenticate the
   identity of the escrow agent before submitting any data.

   Additionally, the registry and the escrow agent MUST use integrity-
   checking mechanisms to ensure that the data transmitted is what the
   source intended.  Validation of the contents by the escrow agent is
   RECOMMENDED to ensure not only that the file was transmitted
   correctly from the registry but also that the contents are
   &quot;meaningful&quot;.

      |  Note: If Transport Layer Security (TLS) is used when providing
      |  an escrow service, the recommendations in [<a href="/doc/html/rfc7525" title="&quot;Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)&quot;">RFC7525</a>] MUST be
      |  implemented.

<span class="h2"><a class="selflink" id="section-10" href="#section-10">10</a>.  Privacy Considerations</span>

   This specification defines a format that may be used to escrow
   personal data.  The process of data escrow is governed by a legal
   document agreed upon by the parties, and such a legal document must
   ensure that privacy-sensitive and/or personal data receives the
   required protection.

<span class="h2"><a class="selflink" id="section-11" href="#section-11">11</a>.  Example of a Full Deposit</span>

   Example of a Full Deposit with the two example objects rdeObj1 and
   rdeObj2:

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;rde:deposit
     xmlns:rde=&quot;urn:ietf:params:xml:ns:rde-1.0&quot;
     xmlns:rdeObj1=&quot;urn:example:params:xml:ns:rdeObj1-1.0&quot;
     xmlns:rdeObj2=&quot;urn:example:params:xml:ns:rdeObj2-1.0&quot;
     type=&quot;FULL&quot;
     id=&quot;20191018001&quot;&gt;
     &lt;rde:watermark&gt;2019-10-17T23:59:59Z&lt;/rde:watermark&gt;
     &lt;rde:rdeMenu&gt;
       &lt;rde:version&gt;1.0&lt;/rde:version&gt;
       &lt;rde:objURI&gt;urn:example:params:xml:ns:rdeObj1-1.0&lt;/rde:objURI&gt;
       &lt;rde:objURI&gt;urn:example:params:xml:ns:rdeObj2-1.0&lt;/rde:objURI&gt;
     &lt;/rde:rdeMenu&gt;
     &lt;rde:contents&gt;
       &lt;rdeObj1:rdeObj1&gt;
         &lt;rdeObj1:name&gt;EXAMPLE&lt;/rdeObj1:name&gt;
       &lt;/rdeObj1:rdeObj1&gt;
       &lt;rdeObj2:rdeObj2&gt;
         &lt;rdeObj2:id&gt;fsh8013-EXAMPLE&lt;/rdeObj2:id&gt;
       &lt;/rdeObj2:rdeObj2&gt;
     &lt;/rde:contents&gt;
   &lt;/rde:deposit&gt;

<span class="h2"><a class="selflink" id="section-12" href="#section-12">12</a>.  Example of a Differential Deposit</span>

   Example of a Differential Deposit with the two example objects
   rdeObj1 and rdeObj2:

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;rde:deposit
     xmlns:rde=&quot;urn:ietf:params:xml:ns:rde-1.0&quot;
     xmlns:rdeObj1=&quot;urn:example:params:xml:ns:rdeObj1-1.0&quot;
     xmlns:rdeObj2=&quot;urn:example:params:xml:ns:rdeObj2-1.0&quot;
     type=&quot;DIFF&quot;
     id=&quot;20191019001&quot; prevId=&quot;20191018001&quot;&gt;
     &lt;rde:watermark&gt;2019-10-18T23:59:59Z&lt;/rde:watermark&gt;
     &lt;rde:rdeMenu&gt;
       &lt;rde:version&gt;1.0&lt;/rde:version&gt;
         &lt;rde:objURI&gt;urn:example:params:xml:ns:rdeObj1-1.0&lt;/rde:objURI&gt;
         &lt;rde:objURI&gt;urn:example:params:xml:ns:rdeObj2-1.0&lt;/rde:objURI&gt;
     &lt;/rde:rdeMenu&gt;
     &lt;rde:contents&gt;
       &lt;rdeObj1:rdeObj1&gt;
         &lt;rdeObj1:name&gt;EXAMPLE2&lt;/rdeObj1:name&gt;
       &lt;/rdeObj1:rdeObj1&gt;
       &lt;rdeObj2:rdeObj2&gt;
         &lt;rdeObj2:id&gt;sh8014-EXAMPLE&lt;/rdeObj2:id&gt;
       &lt;/rdeObj2:rdeObj2&gt;
     &lt;/rde:contents&gt;
   &lt;/rde:deposit&gt;

<span class="h2"><a class="selflink" id="section-13" href="#section-13">13</a>.  Example of an Incremental Deposit</span>

   Example of an Incremental Deposit with the two example objects
   rdeObj1 and rdeObj2:

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;rde:deposit
     xmlns:rde=&quot;urn:ietf:params:xml:ns:rde-1.0&quot;
     xmlns:rdeObj1=&quot;urn:example:params:xml:ns:rdeObj1-1.0&quot;
     xmlns:rdeObj2=&quot;urn:example:params:xml:ns:rdeObj2-1.0&quot;
     type=&quot;INCR&quot;
     id=&quot;20200317001&quot; prevId=&quot;20200314001&quot;&gt;
     &lt;rde:watermark&gt;2020-03-16T23:59:59Z&lt;/rde:watermark&gt;
     &lt;rde:rdeMenu&gt;
       &lt;rde:version&gt;1.0&lt;/rde:version&gt;
       &lt;rde:objURI&gt;urn:example:params:xml:ns:rdeObj1-1.0&lt;/rde:objURI&gt;
       &lt;rde:objURI&gt;urn:example:params:xml:ns:rdeObj2-1.0&lt;/rde:objURI&gt;
     &lt;/rde:rdeMenu&gt;
     &lt;rde:deletes&gt;
       &lt;rdeObj1:delete&gt;
         &lt;rdeObj1:name&gt;EXAMPLE1&lt;/rdeObj1:name&gt;
       &lt;/rdeObj1:delete&gt;
       &lt;rdeObj2:delete&gt;
         &lt;rdeObj2:id&gt;fsh8013-EXAMPLE&lt;/rdeObj2:id&gt;
       &lt;/rdeObj2:delete&gt;
     &lt;/rde:deletes&gt;
     &lt;rde:contents&gt;
       &lt;rdeObj1:rdeObj1&gt;
         &lt;rdeObj1:name&gt;EXAMPLE2&lt;/rdeObj1:name&gt;
       &lt;/rdeObj1:rdeObj1&gt;
       &lt;rdeObj2:rdeObj2&gt;
         &lt;rdeObj2:id&gt;sh8014-EXAMPLE&lt;/rdeObj2:id&gt;
       &lt;/rdeObj2:rdeObj2&gt;
     &lt;/rde:contents&gt;
   &lt;/rde:deposit&gt;

<span class="h2"><a class="selflink" id="section-14" href="#section-14">14</a>.  References</span>

<span class="h3"><a class="selflink" id="section-14.1" href="#section-14.1">14.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3339">RFC3339</a>]  Klyne, G. and C. Newman, &quot;Date and Time on the Internet:
              Timestamps&quot;, <a href="/doc/html/rfc3339">RFC 3339</a>, DOI 10.17487/RFC3339, July 2002,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3339">https://www.rfc-editor.org/info/rfc3339</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in <a href="/doc/html/rfc2119">RFC</a>
              <a href="/doc/html/rfc2119">2119</a> Key Words&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc8174">RFC 8174</a>, DOI 10.17487/RFC8174,
              May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-RFC8499">RFC8499</a>]  Hoffman, P., Sullivan, A., and K. Fujiwara, &quot;DNS
              Terminology&quot;, <a href="/doc/html/bcp219">BCP 219</a>, <a href="/doc/html/rfc8499">RFC 8499</a>, DOI 10.17487/RFC8499,
              January 2019, &lt;<a href="https://www.rfc-editor.org/info/rfc8499">https://www.rfc-editor.org/info/rfc8499</a>&gt;.

   [<a id="ref-W3C.REC-xml-20081126">W3C.REC-xml-20081126</a>]
              Bray, T., Ed., Paoli, J., Ed., Sperberg-McQueen, C.M.,
              Ed., Maler, E., Ed., and F. Yergeau, Ed., &quot;Extensible
              Markup Language (XML) 1.0 (Fifth Edition)&quot;, REC-xml-
              20081126, November 2008,
              &lt;<a href="https://www.w3.org/TR/2008/REC-xml-20081126/">https://www.w3.org/TR/2008/REC-xml-20081126/</a>&gt;.

   [<a id="ref-W3C.REC-xmlschema-1-20041028">W3C.REC-xmlschema-1-20041028</a>]
              Thompson, H.S., Ed., Beech, D., Ed., Maloney, M., Ed., and
              N. Mendelsohn, Ed., &quot;XML Schema Part 1: Structures Second
              Edition&quot;, REC-xmlschema-1-20041028, October 2004,
              &lt;<a href="https://www.w3.org/TR/2004/REC-xmlschema-1-20041028/">https://www.w3.org/TR/2004/REC-xmlschema-1-20041028/</a>&gt;.

   [<a id="ref-W3C.REC-xmlschema-2-20041028">W3C.REC-xmlschema-2-20041028</a>]
              Biron, P. V., Ed. and A. Malhotra, Ed., &quot;XML Schema Part
              2: Datatypes Second Edition&quot;, REC-xmlschema-2-20041028,
              October 2004,
              &lt;<a href="https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/">https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/</a>&gt;.

<span class="h3"><a class="selflink" id="section-14.2" href="#section-14.2">14.2</a>.  Informative References</span>

   [<a id="ref-ICANN-GTLD-RA-20170731">ICANN-GTLD-RA-20170731</a>]
              ICANN, &quot;Base Registry Agreement&quot;, 31 July 2017,
              &lt;<a href="https://newgtlds.icann.org/sites/default/files/agreements/agreement-approved-31jul17-en.pdf">https://newgtlds.icann.org/sites/default/files/</a>
              <a href="https://newgtlds.icann.org/sites/default/files/agreements/agreement-approved-31jul17-en.pdf">agreements/agreement-approved-31jul17-en.pdf</a>&gt;.

   [<a id="ref-RFC3688">RFC3688</a>]  Mealling, M., &quot;The IETF XML Registry&quot;, <a href="/doc/html/bcp81">BCP 81</a>, <a href="/doc/html/rfc3688">RFC 3688</a>,
              DOI 10.17487/RFC3688, January 2004,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;.

   [<a id="ref-RFC7525">RFC7525</a>]  Sheffer, Y., Holz, R., and P. Saint-Andre,
              &quot;Recommendations for Secure Use of Transport Layer
              Security (TLS) and Datagram Transport Layer Security
              (DTLS)&quot;, <a href="/doc/html/bcp195">BCP 195</a>, <a href="/doc/html/rfc7525">RFC 7525</a>, DOI 10.17487/RFC7525, May
              2015, &lt;<a href="https://www.rfc-editor.org/info/rfc7525">https://www.rfc-editor.org/info/rfc7525</a>&gt;.

Acknowledgments

   Special suggestions that were incorporated into this document were
   provided by James Gould, Edward Lewis, Jaap Akkerhuis, Lawrence
   Conroy, Marc Groeneweg, Michael Young, Chris Wright, Patrick Mevzek,
   Stephen Morris, Scott Hollenbeck, Stephane Bortzmeyer, Warren Kumari,
   Paul Hoffman, Vika Mpisane, Bernie Hoeneisen, Jim Galvin, Andrew
   Sullivan, Hiro Hotta, Christopher Browne, Daniel Kalchev, David
   Conrad, James Mitchell, Francisco Obispo, Bhadresh Modi, and
   Alexander Mayrhofer.

   Shoji Noguchi and Francisco Arias participated as coauthors through
   version 07 of <a href="/doc/html/draft-arias-noguchi-registry-data-escrow">draft-arias-noguchi-registry-data-escrow</a> (the precursor
   to this document) and provided invaluable support for this document.

Author&#x27;s Address

   Gustavo Lozano
   Internet Corporation for Assigned Names and Numbers
   12025 Waterfront Drive, Suite 300
   Los Angeles, CA 90292
   United States of America

   Phone: +1.310.823.9358
   Email: gustavo.lozano@icann.org
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

