<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc8832
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-rtcweb-data-protocol/">
  <meta name="description" content="WebRTC Data Channel Establishment Protocol (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc8832.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc8832.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/rfc8832.xml" title="XML source for this document">xml</a>|<a href="https://www.rfc-editor.org/rfc/rfc8832.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc8832/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc8832/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/rtcweb/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-rtcweb-data-protocol@ietf.org?subject=draft-ietf-rtcweb-data-protocol" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-rtcweb-data-protocol-09.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-rtcweb-data-protocol-09.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-rtcweb-data-protocol-09.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-rtcweb-data-protocol-09">draft-ietf-rtcweb-data-protocol-09</a>               Proposed Standard
                                                            <a class="text-warning" href="https://www.rfc-editor.org/errata_search.php?rfc=8832&amp;rec_status=0">Errata exist</a></pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                          R. Jesup
Request for Comments: 8832                                       Mozilla
Category: Standards Track                                      S. Loreto
ISSN: 2070-1721                                                 Ericsson
                                                                M. Tüxen
                                         Münster Univ. of Appl. Sciences
                                                            January 2021


               <span class="h1">WebRTC Data Channel Establishment Protocol</span>

Abstract

   The WebRTC framework specifies protocol support for direct
   interactive rich communication using audio, video, and data between
   two peers&#x27; web browsers.  This document specifies a simple protocol
   for establishing symmetric data channels between the peers.  It uses
   a two-way handshake and allows sending of user data without waiting
   for the handshake to complete.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="/doc/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8832">https://www.rfc-editor.org/info/rfc8832</a>.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction
   2.  Conventions
   3.  Terminology
   4.  Protocol Overview
   5.  Message Formats
     5.1.  DATA_CHANNEL_OPEN Message
     5.2.  DATA_CHANNEL_ACK Message
   6.  Procedures
   7.  Security Considerations
   8.  IANA Considerations
     8.1.  SCTP Payload Protocol Identifier
     8.2.  New Standalone Registry for DCEP
       8.2.1.  New Message Type Registry
       8.2.2.  New Channel Type Registry
   9.  References
     9.1.  Normative References
     9.2.  Informative References
   Acknowledgements
   Authors&#x27; Addresses

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   The Data Channel Establishment Protocol (DCEP) is designed to
   provide, in the WebRTC data channel context [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>], a simple in-
   band method for opening symmetric data channels.  As discussed in
   [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>], the protocol uses the Stream Control Transmission Protocol
   (SCTP) [<a href="/doc/html/rfc4960" title="&quot;Stream Control Transmission Protocol&quot;">RFC4960</a>] encapsulated in Datagram Transport Layer Security
   (DTLS) (described in [<a href="/doc/html/rfc8261" title="&quot;Datagram Transport Layer Security (DTLS) Encapsulation of SCTP Packets&quot;">RFC8261</a>]).  This allows DCEP to benefit from
   the already standardized transport and security features of SCTP and
   DTLS.  DTLS 1.0 is defined in [<a href="/doc/html/rfc4347" title="&quot;Datagram Transport Layer Security&quot;">RFC4347</a>]; the present latest version,
   DTLS 1.2, is defined in [<a href="/doc/html/rfc6347" title="&quot;Datagram Transport Layer Security Version 1.2&quot;">RFC6347</a>]; and an upcoming version, DTLS 1.3,
   is defined in [<a href="#ref-TLS-DTLS13">TLS-DTLS13</a>].

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Conventions</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in
   BCP?14 [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] [<a href="/doc/html/rfc8174" title="&quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;">RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Terminology</span>

   This document uses the following terms:

   Association:  An SCTP association.

   Stream:  A unidirectional stream of an SCTP association.  It is
      uniquely identified by an SCTP stream identifier (0-65534).  Note:
      The SCTP stream identifier 65535 is reserved due to SCTP INIT and
      INIT-ACK chunks only allowing a maximum of 65535 streams to be
      negotiated (0-65534).

   Stream Identifier:  The SCTP stream identifier uniquely identifying a
      stream.

   Data Channel:  Two streams with the same stream identifier, one in
      each direction, which are managed together.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Protocol Overview</span>

   The Data Channel Establishment Protocol is a simple, low-overhead way
   to establish bidirectional data channels over an SCTP association
   with a consistent set of properties.

   The set of consistent properties includes:

   *  reliable or unreliable message transmission.  In case of
      unreliable transmissions, the same level of unreliability is used.

   *  in-order or out-of-order message delivery.

   *  the priority of the data channel.

   *  an optional label for the data channel.

   *  an optional protocol for the data channel.

   *  the streams.

   This protocol uses a two-way handshake to open a data channel.  The
   handshake pairs one incoming and one outgoing stream, both having the
   same stream identifier, into a single bidirectional data channel.
   The peer that initiates opening a data channel selects a stream
   identifier for which the corresponding incoming and outgoing streams
   are unused and sends a DATA_CHANNEL_OPEN message on the outgoing
   stream.  The peer responds with a DATA_CHANNEL_ACK message on its
   corresponding outgoing stream.  Then the data channel is open.  DCEP
   messages are sent on the same stream as the user messages belonging
   to the data channel.  The demultiplexing is based on the SCTP Payload
   Protocol Identifier (PPID), since DCEP uses a specific PPID.

      |  Note: The opening side MAY send user messages before the
      |  DATA_CHANNEL_ACK is received.

   To avoid collisions where both sides try to open a data channel with
   the same stream identifiers, each side MUST use streams with either
   even or odd stream identifiers when sending a DATA_CHANNEL_OPEN
   message.  When using SCTP over DTLS [<a href="/doc/html/rfc8261" title="&quot;Datagram Transport Layer Security (DTLS) Encapsulation of SCTP Packets&quot;">RFC8261</a>], the method used to
   determine which side uses odd or even is based on the underlying DTLS
   connection role: the side acting as the DTLS client MUST use streams
   with even stream identifiers; the side acting as the DTLS server MUST
   use streams with odd stream identifiers.

      |  Note: There is no attempt to ensure uniqueness for the label;
      |  if both sides open a data channel labeled &quot;x&quot; at the same time,
      |  there will be two data channels labeled &quot;x&quot; -- one on an even
      |  stream pair, one on an odd pair.

   The purpose of the protocol field is to ease cross-application
   interoperation (&quot;federation&quot;) by identifying the user data being
   passed by means of an IANA-registered string from the &quot;WebSocket
   Subprotocol Name Registry&quot; defined in [<a href="/doc/html/rfc6455" title="&quot;The WebSocket Protocol&quot;">RFC6455</a>].  The field may be
   useful for homogeneous applications that may create more than one
   type of data channel.  Note that there is no attempt to ensure
   uniqueness for the protocol field.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Message Formats</span>

   Every DCEP message starts with a one-byte field called &quot;Message Type&quot;
   that indicates the type of the message.  The corresponding values are
   managed by IANA (see <a href="#section-8.2.1">Section 8.2.1</a>).

<span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a>.  DATA_CHANNEL_OPEN Message</span>

   This message is initially sent using the data channel on the stream
   used for user messages.

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |  Message Type |  Channel Type |            Priority           |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                    Reliability Parameter                      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |         Label Length          |       Protocol Length         |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     \                                                               /
     |                             Label                             |
     /                                                               \
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     \                                                               /
     |                            Protocol                           |
     /                                                               \
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Message Type: 1 byte (unsigned integer)
      This field holds the IANA-defined message type for the
      DATA_CHANNEL_OPEN message.  The value of this field is 0x03, as
      specified in <a href="#section-8.2.1">Section 8.2.1</a>.

   Channel Type: 1 byte (unsigned integer)
      This field specifies the type of data channel to be opened.  The
      values are managed by IANA (see <a href="#section-8.2.2">Section 8.2.2</a>):

      DATA_CHANNEL_RELIABLE (0x00):  The data channel provides a
         reliable in-order bidirectional communication.

      DATA_CHANNEL_RELIABLE_UNORDERED (0x80):  The data channel provides
         a reliable unordered bidirectional communication.

      DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT (0x01):  The data channel
         provides a partially reliable in-order bidirectional
         communication.  User messages will not be retransmitted more
         times than specified in the Reliability Parameter.

      DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT_UNORDERED (0x81):  The data
         channel provides a partially reliable unordered bidirectional
         communication.  User messages will not be retransmitted more
         times than specified in the Reliability Parameter.

      DATA_CHANNEL_PARTIAL_RELIABLE_TIMED (0x02):  The data channel
         provides a partially reliable in-order bidirectional
         communication.  User messages might not be transmitted or
         retransmitted after a specified lifetime given in milliseconds
         in the Reliability Parameter.  This lifetime starts when
         providing the user message to the protocol stack.

      DATA_CHANNEL_PARTIAL_RELIABLE_TIMED_UNORDERED (0x82):  The data
         channel provides a partially reliable unordered bidirectional
         communication.  User messages might not be transmitted or
         retransmitted after a specified lifetime given in milliseconds
         in the Reliability Parameter.  This lifetime starts when
         providing the user message to the protocol stack.

   Priority: 2 bytes (unsigned integer)
      The priority of the data channel, as described in [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>].

   Reliability Parameter: 4 bytes (unsigned integer)
      For reliable data channels, this field MUST be set to 0 on the
      sending side and MUST be ignored on the receiving side.  If a
      partially reliable data channel with a limited number of
      retransmissions is used, this field specifies the number of
      retransmissions.  If a partially reliable data channel with a
      limited lifetime is used, this field specifies the maximum
      lifetime in milliseconds.  The following table summarizes this:

     +================================================+=============+
     | Channel Type                                   | Reliability |
     |                                                |  Parameter  |
     +================================================+=============+
     | DATA_CHANNEL_RELIABLE                          |   Ignored   |
     +------------------------------------------------+-------------+
     | DATA_CHANNEL_RELIABLE_UNORDERED                |   Ignored   |
     +------------------------------------------------+-------------+
     | DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT           |  Number of  |
     |                                                |     RTX     |
     +------------------------------------------------+-------------+
     | DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT_UNORDERED |  Number of  |
     |                                                |     RTX     |
     +------------------------------------------------+-------------+
     | DATA_CHANNEL_PARTIAL_RELIABLE_TIMED            | Lifetime in |
     |                                                |      ms     |
     +------------------------------------------------+-------------+
     | DATA_CHANNEL_PARTIAL_RELIABLE_TIMED_UNORDERED  | Lifetime in |
     |                                                |      ms     |
     +------------------------------------------------+-------------+

                                 Table 1

   Label Length: 2 bytes (unsigned integer)
      The length of the label field in bytes.

   Protocol Length: 2 bytes (unsigned integer)
      The length of the protocol field in bytes.

   Label: Variable Length (sequence of characters)
      The name of the data channel as a UTF-8-encoded string, as
      specified in [<a href="/doc/html/rfc3629" title="&quot;UTF-8, a transformation format of ISO 10646&quot;">RFC3629</a>].  This may be an empty string.

   Protocol: Variable Length (sequence of characters)
      If this is an empty string, the protocol is unspecified.  If it is
      a non-empty string, it specifies a protocol registered in the
      &quot;WebSocket Subprotocol Name Registry&quot; created in [<a href="/doc/html/rfc6455" title="&quot;The WebSocket Protocol&quot;">RFC6455</a>].  This
      string is UTF-8 encoded, as specified in [<a href="/doc/html/rfc3629" title="&quot;UTF-8, a transformation format of ISO 10646&quot;">RFC3629</a>].

<span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a>.  DATA_CHANNEL_ACK Message</span>

   This message is sent in response to a DATA_CHANNEL_OPEN_RESPONSE
   message.  It is sent on the stream used for user messages using the
   data channel.  Reception of this message tells the opener that the
   data channel setup handshake is complete.

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |  Message Type |
     +-+-+-+-+-+-+-+-+

   Message Type: 1 byte (unsigned integer)
      This field holds the IANA-defined message type for the
      DATA_CHANNEL_ACK message.  The value of this field is 0x02, as
      specified in <a href="#section-8.2.1">Section 8.2.1</a>.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Procedures</span>

   All DCEP messages MUST be sent using ordered delivery and reliable
   transmission.  They MUST be sent on the same outgoing stream as the
   user messages belonging to the corresponding data channel.
   Multiplexing and demultiplexing is done by using the SCTP PPID.
   Therefore, a DCEP message MUST be sent with the assigned PPID for the
   Data Channel Establishment Protocol (see <a href="#section-8.1">Section 8.1</a>).  Other
   messages MUST NOT be sent using this PPID.

   The peer that initiates opening a data channel selects a stream
   identifier for which the corresponding incoming and outgoing streams
   are unused.  If the side is acting as the DTLS client, it MUST choose
   an even stream identifier; if the side is acting as the DTLS server,
   it MUST choose an odd one.  The initiating peer fills in the
   parameters of the DATA_CHANNEL_OPEN message and sends it on the
   chosen stream.

   If a DATA_CHANNEL_OPEN message is received on an unused stream, the
   stream identifier corresponds to the role of the peer, and all
   parameters in the DATA_CHANNEL_OPEN message are valid, then a
   corresponding DATA_CHANNEL_ACK message is sent on the stream with the
   same stream identifier as the one the DATA_CHANNEL_OPEN message was
   received on.

   If the DATA_CHANNEL_OPEN message doesn&#x27;t satisfy the conditions
   above, the receiver MUST close the corresponding data channel using
   the procedure described in [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>] and MUST NOT send a
   DATA_CHANNEL_ACK message in response to the received message.  This
   might occur if, for example, a DATA_CHANNEL_OPEN message is received
   on an already used stream, there are problems with parameters within
   the DATA_CHANNEL_OPEN message, the odd/even rule is violated, or the
   DATA_CHANNEL_OPEN message itself is not well formed.  Therefore,
   receiving an SCTP stream-reset request for a stream on which no
   DATA_CHANNEL_ACK message has been received indicates to the sender of
   the corresponding DATA_CHANNEL_OPEN message the failure of the data
   channel setup procedure.  After also successfully resetting the
   corresponding outgoing stream, which concludes the data channel
   closing initiated by the peer, a new DATA_CHANNEL_OPEN message can be
   sent on the stream.

   After the DATA_CHANNEL_OPEN message has been sent, the sender of that
   message MAY start sending messages containing user data without
   waiting for the reception of the corresponding DATA_CHANNEL_ACK
   message.  However, before the DATA_CHANNEL_ACK message or any other
   message has been received on a data channel, all other messages
   containing user data and belonging to this data channel MUST be sent
   ordered, no matter whether the data channel is ordered or not.  After
   the DATA_CHANNEL_ACK or any other message has been received on the
   data channel, messages containing user data MUST be sent ordered on
   ordered data channels and MUST be sent unordered on unordered data
   channels.  Therefore, receiving a message containing user data on an
   unused stream indicates an error.  In that case, the corresponding
   data channel MUST be closed, as described in [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>].

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Security Considerations</span>

   The DATA_CHANNEL_OPEN message contains two variable-length fields:
   the protocol and the label.  A receiver must be prepared to receive
   DATA_CHANNEL_OPEN messages where these fields have the maximum length
   of 65535 bytes.  Error cases such as using inconsistent lengths of
   fields, using unknown parameter values, or violating the odd/even
   rule must also be handled by closing the corresponding data channel.
   An end point must also be prepared for the peer to open the maximum
   number of data channels.

   This protocol does not provide privacy, integrity, or authentication.
   It needs to be used as part of a protocol suite that contains all
   these things.  Such a protocol suite is specified in [<a href="/doc/html/rfc8261" title="&quot;Datagram Transport Layer Security (DTLS) Encapsulation of SCTP Packets&quot;">RFC8261</a>].

   For general considerations, see [<a href="/doc/html/rfc8826" title="&quot;Security Considerations for WebRTC&quot;">RFC8826</a>] and [<a href="/doc/html/rfc8827" title="&quot;WebRTC Security Architecture&quot;">RFC8827</a>].

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  IANA Considerations</span>

   IANA has updated the reference of an already existing SCTP PPID
   assignment (<a href="#section-8.1">Section 8.1</a>) and created a new standalone registry with
   its own URL for DCEP (<a href="#section-8.2">Section 8.2</a>) containing two new registration
   tables (Sections <a href="#section-8.2.1">8.2.1</a> and <a href="#section-8.2.2">8.2.2</a>).

<span class="h3"><a class="selflink" id="section-8.1" href="#section-8.1">8.1</a>.  SCTP Payload Protocol Identifier</span>

   This document uses an SCTP Payload Protocol Identifier (PPID)
   previously registered as &quot;WebRTC Control&quot;.  [<a href="/doc/html/rfc4960" title="&quot;Stream Control Transmission Protocol&quot;">RFC4960</a>] created the
   &quot;SCTP Payload Protocol Identifiers&quot; registry, in which this
   identifier was assigned.  IANA has updated the PPID name from &quot;WebRTC
   Control&quot; to &quot;WebRTC DCEP&quot; and has updated the reference to point to
   this document.  The corresponding date has been kept.

   Therefore, this assignment now appears as follows:

           +=============+===========+===========+============+
           | Value       | SCTP PPID | Reference | Date       |
           +=============+===========+===========+============+
           | WebRTC DCEP | 50        | <a href="/doc/html/rfc8832">RFC 8832</a>  | 2013-09-20 |
           +-------------+-----------+-----------+------------+

                                 Table 2

<span class="h3"><a class="selflink" id="section-8.2" href="#section-8.2">8.2</a>.  New Standalone Registry for DCEP</span>

   IANA has created the &quot;Data Channel Establishment Protocol (DCEP)
   Parameters&quot; registry.  It contains the two tables provided in
   Sections <a href="#section-8.2.1">8.2.1</a> and <a href="#section-8.2.2">8.2.2</a>.

<span class="h4"><a class="selflink" id="section-8.2.1" href="#section-8.2.1">8.2.1</a>.  New Message Type Registry</span>

   IANA has created the &quot;Message Types&quot; registry for DCEP to manage the
   one-byte &quot;Message Type&quot; field in DCEP messages (see <a href="#section-5">Section 5</a>).  This
   registration table is a subregistry of the registry described in
   <a href="#section-8.2">Section 8.2</a>.

   The assignment of new message types is done through an RFC Required
   action, as defined in [<a href="/doc/html/rfc8126" title="">RFC8126</a>].  Documentation of new message types
   MUST contain the following information:

   1.  A name for the new message type.

   2.  A detailed procedural description of how each message type is
       used with within DCEP.

   The following are the initial registrations:

               +===================+===========+===========+
               | Name              | Type      | Reference |
               +===================+===========+===========+
               | Reserved          | 0x00      | <a href="/doc/html/rfc8832">RFC 8832</a>  |
               +-------------------+-----------+-----------+
               | Reserved          | 0x01      | <a href="/doc/html/rfc8832">RFC 8832</a>  |
               +-------------------+-----------+-----------+
               | DATA_CHANNEL_ACK  | 0x02      | <a href="/doc/html/rfc8832">RFC 8832</a>  |
               +-------------------+-----------+-----------+
               | DATA_CHANNEL_OPEN | 0x03      | <a href="/doc/html/rfc8832">RFC 8832</a>  |
               +-------------------+-----------+-----------+
               | Unassigned        | 0x04-0xfe |           |
               +-------------------+-----------+-----------+
               | Reserved          | 0xff      | <a href="/doc/html/rfc8832">RFC 8832</a>  |
               +-------------------+-----------+-----------+

                                  Table 3

   Note that values 0x00 and 0x01 are reserved to avoid interoperability
   problems, since they have been used in draft versions of the
   document.  The value 0xff has been reserved for future extensibility.
   The range of possible values is from 0x00 to 0xff.

<span class="h4"><a class="selflink" id="section-8.2.2" href="#section-8.2.2">8.2.2</a>.  New Channel Type Registry</span>

   IANA has created the &quot;Channel Types&quot; registry for DCEP to manage the
   one-byte &quot;Channel Type&quot; field in DATA_CHANNEL_OPEN messages (see
   <a href="#section-5.1">Section 5.1</a>).  This registration table is a subregistry within the
   registry described in <a href="#section-8.2">Section 8.2</a>.

   The assignment of new message types is done through an RFC Required
   action, as defined in [<a href="/doc/html/rfc8126" title="">RFC8126</a>].  Documentation of new Channel Types
   MUST contain the following information:

   1.  A name for the new Channel Type.

   2.  A detailed procedural description of the user message handling
       for data channels using this new Channel Type.

   If new Channel Types support ordered and unordered message delivery,
   the high-order bit MUST be used to indicate whether or not the
   message delivery is unordered.

   The following are the initial registrations:

   +================================================+======+===========+
   | Name                                           | Type | Reference |
   +================================================+======+===========+
   | DATA_CHANNEL_RELIABLE                          | 0x00 | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | DATA_CHANNEL_RELIABLE_UNORDERED                | 0x80 | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT           | 0x01 | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT_UNORDERED | 0x81 | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | DATA_CHANNEL_PARTIAL_RELIABLE_TIMED            | 0x02 | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | DATA_CHANNEL_PARTIAL_RELIABLE_TIMED_UNORDERED  | 0x82 | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | Reserved                                       | 0x7f | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | Reserved                                       | 0xff | <a href="/doc/html/rfc8832">RFC 8832</a>  |
   +------------------------------------------------+------+-----------+
   | Unassigned                                     | rest |           |
   +------------------------------------------------+------+-----------+

                                  Table 4

   Values 0x7f and 0xff have been reserved for future extensibility.
   The range of possible values is from 0x00 to 0xff.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  References</span>

<span class="h3"><a class="selflink" id="section-9.1" href="#section-9.1">9.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in <a href="/doc/html/rfc2119">RFC</a>
              <a href="/doc/html/rfc2119">2119</a> Key Words&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc8174">RFC 8174</a>, DOI 10.17487/RFC8174,
              May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-RFC3629">RFC3629</a>]  Yergeau, F., &quot;UTF-8, a transformation format of ISO
              10646&quot;, STD 63, <a href="/doc/html/rfc3629">RFC 3629</a>, DOI 10.17487/RFC3629, November
              2003, &lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;.

   [<a id="ref-RFC4960">RFC4960</a>]  Stewart, R., Ed., &quot;Stream Control Transmission Protocol&quot;,
              <a href="/doc/html/rfc4960">RFC 4960</a>, DOI 10.17487/RFC4960, September 2007,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4960">https://www.rfc-editor.org/info/rfc4960</a>&gt;.

   [<a id="ref-RFC8126">RFC8126</a>]  Cotton, M., Leiba, B., and T. Narten, &quot;Guidelines for
              Writing an IANA Considerations Section in RFCs&quot;, <a href="/doc/html/bcp26">BCP 26</a>,
              <a href="/doc/html/rfc8126">RFC 8126</a>, DOI 10.17487/RFC8126, June 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;.

   [<a id="ref-RFC8261">RFC8261</a>]  Tuexen, M., Stewart, R., Jesup, R., and S. Loreto,
              &quot;Datagram Transport Layer Security (DTLS) Encapsulation of
              SCTP Packets&quot;, <a href="/doc/html/rfc8261">RFC 8261</a>, DOI 10.17487/RFC8261, November
              2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8261">https://www.rfc-editor.org/info/rfc8261</a>&gt;.

   [<a id="ref-RFC8831">RFC8831</a>]  Jesup, R., Loreto, S., and M. Tüxen, &quot;WebRTC Data
              Channels&quot;, <a href="/doc/html/rfc8831">RFC 8831</a>, DOI 10.17487/RFC8831, January 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8831">https://www.rfc-editor.org/info/rfc8831</a>&gt;.

<span class="h3"><a class="selflink" id="section-9.2" href="#section-9.2">9.2</a>.  Informative References</span>

   [<a id="ref-RFC4347">RFC4347</a>]  Rescorla, E. and N. Modadugu, &quot;Datagram Transport Layer
              Security&quot;, <a href="/doc/html/rfc4347">RFC 4347</a>, DOI 10.17487/RFC4347, April 2006,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4347">https://www.rfc-editor.org/info/rfc4347</a>&gt;.

   [<a id="ref-RFC6347">RFC6347</a>]  Rescorla, E. and N. Modadugu, &quot;Datagram Transport Layer
              Security Version 1.2&quot;, <a href="/doc/html/rfc6347">RFC 6347</a>, DOI 10.17487/RFC6347,
              January 2012, &lt;<a href="https://www.rfc-editor.org/info/rfc6347">https://www.rfc-editor.org/info/rfc6347</a>&gt;.

   [<a id="ref-RFC6455">RFC6455</a>]  Fette, I. and A. Melnikov, &quot;The WebSocket Protocol&quot;,
              <a href="/doc/html/rfc6455">RFC 6455</a>, DOI 10.17487/RFC6455, December 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6455">https://www.rfc-editor.org/info/rfc6455</a>&gt;.

   [<a id="ref-RFC8826">RFC8826</a>]  Rescorla, E., &quot;Security Considerations for WebRTC&quot;,
              <a href="/doc/html/rfc8826">RFC 8826</a>, DOI 10.17487/RFC8826, January 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8826">https://www.rfc-editor.org/info/rfc8826</a>&gt;.

   [<a id="ref-RFC8827">RFC8827</a>]  Rescorla, E., &quot;WebRTC Security Architecture&quot;, <a href="/doc/html/rfc8827">RFC 8827</a>,
              DOI 10.17487/RFC8827, January 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8827">https://www.rfc-editor.org/info/rfc8827</a>&gt;.

   [<a id="ref-TLS-DTLS13">TLS-DTLS13</a>]
              Rescorla, E., Tschofenig, H., and N. Modadugu, &quot;The
              Datagram Transport Layer Security (DTLS) Protocol Version
              1.3&quot;, Work in Progress, Internet-Draft, <a href="/doc/html/draft-ietf-tls-dtls13-39">draft-ietf-tls-</a>
              <a href="/doc/html/draft-ietf-tls-dtls13-39">dtls13-39</a>, 2 November 2020,
              &lt;<a href="https://tools.ietf.org/html/draft-ietf-tls-dtls13-39">https://tools.ietf.org/html/draft-ietf-tls-dtls13-39</a>&gt;.

Acknowledgements

   The authors wish to thank Harald Alvestrand, Richard Barnes, Adam
   Bergkvist, Spencer Dawkins, Barry Dingle, Stefan Håkansson, Cullen
   Jennings, Paul Kyzivat, Doug Leonard, Alexey Melnikov, Pete Resnick,
   Irene Rüngeler, Randall Stewart, Peter Thatcher, Martin Thomson,
   Justin Uberti, and many others for their invaluable comments.

Authors&#x27; Addresses

   Randell Jesup
   Mozilla
   United States of America

   Email: randell-ietf@jesup.org


   Salvatore Loreto
   Ericsson
   Hirsalantie 11
   FI-02420 Jorvas
   Finland

   Email: salvatore.loreto@ericsson.com


   Michael Tüxen
   Münster University of Applied Sciences
   Stegerwaldstrasse 39
   48565  Steinfurt
   Germany

   Email: tuexen@fh-muenster.de
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

