<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc8151
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-nvo3-use-case/">
  <meta name="description" content="Use Cases for Data Center Network Virtualization Overlay Networks (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgorange"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc8151.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc8151.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc8151.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc8151/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc8151/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/nvo3/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-nvo3-use-case@ietf.org?subject=draft-ietf-nvo3-use-case" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-nvo3-use-case-17.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-nvo3-use-case-17.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-nvo3-use-case-17.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-nvo3-use-case-17">draft-ietf-nvo3-use-case-17</a>                          Informational</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                           L. Yong
Request for Comments: 8151                                     L. Dunbar
Category: Informational                                           Huawei
ISSN: 2070-1721                                                   M. Toy
                                                                 Verizon
                                                                A. Isaac
                                                        Juniper Networks
                                                               V. Manral
                                                             Nano Sec Co
                                                                May 2017


   <span class="h1">Use Cases for Data Center Network Virtualization Overlay Networks</span>

Abstract

   This document describes Network Virtualization over Layer 3 (NVO3)
   use cases that can be deployed in various data centers and serve
   different data-center applications.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Not all documents
   approved by the IESG are a candidate for any level of Internet
   Standard; see <a href="/doc/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc8151">http://www.rfc-editor.org/info/rfc8151</a>.
















<span class="grey">Yong, et al.                  Informational                     [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Terminology ................................................<a href="#page-4">4</a>
      <a href="#section-1.2">1.2</a>. NVO3 Background ............................................<a href="#page-5">5</a>
   <a href="#section-2">2</a>. DC with a Large Number of Virtual Networks ......................<a href="#page-6">6</a>
   <a href="#section-3">3</a>. DC NVO3 Virtual Network and External Network Interconnection ....<a href="#page-6">6</a>
      <a href="#section-3.1">3.1</a>. DC NVO3 Virtual Network Access via the Internet ............<a href="#page-7">7</a>
      <a href="#section-3.2">3.2</a>. DC NVO3 Virtual Network and SP WAN VPN Interconnection .....<a href="#page-8">8</a>
   <a href="#section-4">4</a>. DC Applications Using NVO3 ......................................<a href="#page-9">9</a>
      <a href="#section-4.1">4.1</a>. Supporting Multiple Technologies ...........................<a href="#page-9">9</a>
      <a href="#section-4.2">4.2</a>. DC Applications Spanning Multiple Physical Zones ..........<a href="#page-10">10</a>
      <a href="#section-4.3">4.3</a>. Virtual Data Center (vDC) .................................<a href="#page-10">10</a>
   <a href="#section-5">5</a>. Summary ........................................................<a href="#page-12">12</a>
   <a href="#section-6">6</a>. Security Considerations ........................................<a href="#page-12">12</a>
   <a href="#section-7">7</a>. IANA Considerations ............................................<a href="#page-12">12</a>
   <a href="#section-8">8</a>. Informative References .........................................<a href="#page-13">13</a>
   Acknowledgements...................................................<a href="#page-14">14</a>
   Contributors ......................................................<a href="#page-15">15</a>
   Authors&#x27; Addresses.................................................<a href="#page-16">16</a>
















<span class="grey">Yong, et al.                  Informational                     [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   Server virtualization has changed the Information Technology (IT)
   industry in terms of the efficiency, cost, and speed of providing new
   applications and/or services such as cloud applications.  However,
   traditional data center (DC) networks have limits in supporting cloud
   applications and multi-tenant networks [<a href="/doc/html/rfc7364" title="&quot;Problem Statement: Overlays for Network Virtualization&quot;">RFC7364</a>].  The goal of data
   center Network Virtualization over Layer 3 (NVO3) networks is to
   decouple the communication among tenant systems from DC physical
   infrastructure networks and to allow one physical network
   infrastructure to:

   o  carry many NVO3 virtual networks and isolate the traffic of
      different NVO3 virtual networks on a physical network.

   o  provide independent address space in individual NVO3 virtual
      network such as Media Access Control (MAC) and IP.

   o  Support flexible Virtual Machines (VMs) and/or workload placement
      including the ability to move them from one server to another
      without requiring VM address changes and physical infrastructure
      network configuration changes, and the ability to perform a &quot;hot
      move&quot; with no disruption to the live application running on those
      VMs.

   These characteristics of NVO3 virtual networks (VNs) help address the
   issues that cloud applications face in data centers [<a href="/doc/html/rfc7364" title="&quot;Problem Statement: Overlays for Network Virtualization&quot;">RFC7364</a>].

   Hosts in one NVO3 VN may communicate with hosts in another NVO3 VN
   that is carried by the same physical network, or different physical
   network, via a gateway.  The use-case examples for the latter are as
   follows:

   1) DCs that migrate toward an NVO3 solution will be done in steps,
      where a portion of tenant systems in a VN are on virtualized
      servers while others exist on a LAN.

   2) many DC applications serve Internet users who are on different
      physical networks;

   3) some applications are CPU bound, such as Big Data analytics, and
      may not run on virtualized resources.

   The inter-VN policies are usually enforced by the gateway.

   This document describes general NVO3 VN use cases that apply to
   various data centers.  The use cases described here represent the DC
   provider&#x27;s interests and vision for their cloud services.  The



<span class="grey">Yong, et al.                  Informational                     [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   document groups the use cases into three categories from simple to
   sophisticated in terms of implementation.  However, the
   implementation details of these use cases are outside the scope of
   this document.  These three categories are described below:

   o  Basic NVO3 VNs (<a href="#section-2">Section 2</a>).  All Tenant Systems (TSs) in the
      network are located within the same DC.  The individual networks
      can be either Layer 2 (L2) or Layer 3 (L3).  The number of NVO3
      VNs in a DC is much larger than the number that traditional VLAN-
      based virtual networks [<a href="#ref-IEEE802.1Q" title="&quot;IEEE Standard for Local and metropolitan area networks -- Media Access Control (MAC) Bridges and Virtual Bridged Local Area Networks&quot;">IEEE802.1Q</a>] can support.

   o  A virtual network that spans across multiple DCs and/or to
      customer premises where NVO3 virtual networks are constructed and
      interconnect other virtual or physical networks outside the DC.
      An enterprise customer may use a traditional carrier-grade VPN or
      an IPsec tunnel over the Internet to communicate with its systems
      in the DC.  This is described in <a href="#section-3">Section 3</a>.

   o  DC applications or services require an advanced network that
      contains several NVO3 virtual networks that are interconnected by
      gateways.  Three scenarios are described in <a href="#section-4">Section 4</a>:
      (1) supporting multiple technologies;
      (2) constructing several virtual networks as a tenant network; and
      (3) applying NVO3 to a virtual Data Center (vDC).

   The document uses the architecture reference model defined in
   [<a href="/doc/html/rfc7365" title="&quot;Framework for Data Center (DC) Network Virtualization&quot;">RFC7365</a>] to describe the use cases.

<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a>.  Terminology</span>

   This document uses the terminology defined in [<a href="/doc/html/rfc7365" title="&quot;Framework for Data Center (DC) Network Virtualization&quot;">RFC7365</a>] and
   [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>].  Some additional terms used in the document are listed
   here.

   ASBR:        Autonomous System Border Router.

   DC:          Data Center.

   DMZ:         Demilitarized Zone.  A computer or small subnetwork
                between a more-trusted internal network, such as a
                corporate private LAN, and an untrusted or less-trusted
                external network, such as the public Internet.

   DNS:         Domain Name Service [<a href="/doc/html/rfc1035" title="&quot;Domain names - implementation and specification&quot;">RFC1035</a>].







<span class="grey">Yong, et al.                  Informational                     [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   DC Operator: An entity that is responsible for constructing and
                managing all resources in DCs, including, but not
                limited to, computing, storage, networking, etc.

   DC Provider: An entity that uses its DC infrastructure to offer
                services to its customers.

   NAT:         Network Address Translation [<a href="/doc/html/rfc3022" title="&quot;Traditional IP Network Address Translator (Traditional NAT)&quot;">RFC3022</a>].

   vGW:         virtual GateWay.  A gateway component used for an NVO3
                virtual network to interconnect with another
                virtual/physical network.

   NVO3:        Network Virtualization over Layer 3.  A virtual network
                that is implemented based on the NVO3 architecture.

   PE:          Provider Edge.

   SP:          Service Provider.

   TS:          A Tenant System, which can be instantiated on a physical
                server or virtual machine (VM).

   VRF-LITE:    Virtual Routing and Forwarding - LITE [<a href="#ref-VRF-LITE" title="&quot;Configuring VRF-lite&quot;">VRF-LITE</a>].

   VN:          Virtual Network

   VoIP:        Voice over IP

   WAN VPN:     Wide Area Network Virtual Private Network [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>]
                [<a href="/doc/html/rfc7432" title="&quot;BGP MPLS- Based Ethernet VPN&quot;">RFC7432</a>].

<span class="h3"><a class="selflink" id="section-1.2" href="#section-1.2">1.2</a>.  NVO3 Background</span>

   An NVO3 virtual network is in a DC that is implemented based on the
   NVO3 architecture [<a href="/doc/html/rfc8014" title="&quot;An Architecture for Data-Center Network Virtualization over Layer 3 (NVO3)&quot;">RFC8014</a>].  This architecture is often referred to
   as an overlay architecture.  The traffic carried by an NVO3 virtual
   network is encapsulated at a Network Virtualization Edge (NVE)
   [<a href="/doc/html/rfc8014" title="&quot;An Architecture for Data-Center Network Virtualization over Layer 3 (NVO3)&quot;">RFC8014</a>] and carried by a tunnel to another NVE where the traffic is
   decapsulated and sent to a destination Tenant System (TS).  The NVO3
   architecture decouples NVO3 virtual networks from the DC physical
   network configuration.  The architecture uses common tunnels to carry
   NVO3 traffic that belongs to multiple NVO3 virtual networks.

   An NVO3 virtual network may be an L2 or L3 domain.  The network
   provides switching (L2) or routing (L3) capability to support host
   (i.e., TS) communications.  An NVO3 virtual network may be required
   to carry unicast traffic and/or multicast or broadcast/unknown-



<span class="grey">Yong, et al.                  Informational                     [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   unicast (for L2 only) traffic to/from TSs.  There are several ways to
   transport NVO3 virtual network Broadcast, Unknown Unicast, and
   Multicast (BUM) traffic [<a href="#ref-NVO3MCAST" title="&quot;A Framework for Multicast in Network Virtualization Overlays&quot;">NVO3MCAST</a>].

   An NVO3 virtual network provides communications among TSs in a DC.  A
   TS can be a physical server/device or a VM on a server end-device
   [<a href="/doc/html/rfc7365" title="&quot;Framework for Data Center (DC) Network Virtualization&quot;">RFC7365</a>].

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  DC with a Large Number of Virtual Networks</span>

   A DC provider often uses NVO3 virtual networks for internal
   applications where each application runs on many VMs or physical
   servers and the provider requires applications to be segregated from
   each other.  A DC may run a larger number of NVO3 virtual networks to
   support many applications concurrently, where a traditional VLAN
   solution based on IEEE 802.1Q is limited to 4094 VLANs.

   Applications running on VMs may require a different quantity of
   computing resources, which may result in a computing-resource
   shortage on some servers and other servers being nearly idle.  A
   shortage of computing resources may impact application performance.
   DC operators desire VM or workload movement for resource-usage
   optimization.  VM dynamic placement and mobility results in frequent
   changes of the binding between a TS and an NVE.  The TS reachability
   update mechanisms should take significantly less time than the
   typical retransmission Timeout window of a reliable transport
   protocol such as TCP and Stream Control Transmission Protocol (SCTP),
   so that endpoints&#x27; transport connections won&#x27;t be impacted by a TS
   becoming bound to a different NVE.  The capability of supporting many
   TSs in a virtual network and many virtual networks in a DC is
   critical for an NVO3 solution.

   When NVO3 virtual networks segregate VMs belonging to different
   applications, DC operators can independently assign MAC and/or IP
   address space to each virtual network.  This addressing is more
   flexible than requiring all hosts in all NVO3 virtual networks to
   share one address space.  In contrast, typical use of IEEE 802.1Q
   VLANs requires a single common MAC address space.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  DC NVO3 Virtual Network and External Network Interconnection</span>

   Many customers (enterprises or individuals) who utilize a DC
   provider&#x27;s compute and storage resources to run their applications
   need to access their systems hosted in a DC through Internet or
   Service Providers&#x27; Wide Area Networks (WAN).  A DC provider can
   construct a NVO3 virtual network that provides connectivity to all
   the resources designated for a customer, and it allows the customer




<span class="grey">Yong, et al.                  Informational                     [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   to access the resources via a virtual GateWay (vGW).  WAN
   connectivity to the vGW can be provided by VPN technologies such as
   IPsec VPNs [<a href="/doc/html/rfc4301" title="&quot;Security Architecture for the Internet Protocol&quot;">RFC4301</a>] and BGP/MPLS IP VPNs [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>].

   If a virtual network spans multiple DC sites, one design using NVO3
   is to allow the network to seamlessly span the sites without DC
   gateway routers&#x27; termination.  In this case, the tunnel between a
   pair of NVEs can be carried within other intermediate tunnels over
   the Internet or other WANs, or an intra-DC tunnel and inter-DC
   tunnel(s) can be stitched together to form an end-to-end tunnel
   between the pair of NVEs that are in different DC sites.  Both cases
   will form one NVO3 virtual network across multiple DC sites.

   Two use cases are described in the following sections.

<span class="h3"><a class="selflink" id="section-3.1" href="#section-3.1">3.1</a>.  DC NVO3 Virtual Network Access via the Internet</span>

   A customer can connect to an NVO3 virtual network via the Internet in
   a secure way.  Figure 1 illustrates an example of this case.  The
   NVO3 virtual network has an instance at NVE1 and NVE2, and the two
   NVEs are connected via an IP tunnel in the DC.  A set of TSs are
   attached to NVE1 on a server.  NVE2 resides on a DC Gateway device.
   NVE2 terminates the tunnel and uses the VN Identifier (VNID) on the
   packet to pass the packet to the corresponding vGW entity on the DC
   GW (the vGW is the default gateway for the virtual network).  A
   customer can access their systems, i.e., TS1 or TSn, in the DC via
   the Internet by using an IPsec tunnel [<a href="/doc/html/rfc4301" title="&quot;Security Architecture for the Internet Protocol&quot;">RFC4301</a>].  The IPsec tunnel is
   configured between the vGW and the customer gateway at the customer
   site.  Either a static route or Internal Border Gateway Protocol
   (IBGP) may be used for prefix advertisement.  The vGW provides IPsec
   functionality such as authentication scheme and encryption; IBGP
   traffic is carried within the IPsec tunnel.  Some vGW features are
   listed below:

   o  The vGW maintains the TS/NVE mappings and advertises the TS prefix
      to the customer via static route or IBGP.

   o  Some vGW functions such as the firewall and load-balancer (LB) can
      be performed by locally attached network appliance devices.

   o  If the NVO3 virtual network uses different address space than
      external users, then the vGW needs to provide the NAT function.

   o  More than one IPsec tunnel can be configured for redundancy.







<span class="grey">Yong, et al.                  Informational                     [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   o  The vGW can be implemented on a server or VM.  In this case, IP
      tunnels or IPsec tunnels can be used over the DC infrastructure.

   o  DC operators need to construct a vGW for each customer.

   Server+---------------+
         |   TS1 TSn     |
         |    |...|      |
         |  +-+---+-+    |             Customer Site
         |  |  NVE1 |    |               +-----+
         |  +---+---+    |               | GW  |
         +------+--------+               +--+--+
                |                           *
            L3 Tunnel                       *
                |                           *
   DC GW +------+---------+            .--.  .--.
         |  +---+---+     |           (    &#x27;*   &#x27;.--.
         |  |  NVE2 |     |        .-.&#x27;   *          )
         |  +---+---+     |       (    *  Internet    )
         |  +---+---+.    |        ( *               /
         |  |  vGW  | * * * * * * * * &#x27;-&#x27;          &#x27;-&#x27;
         |  +-------+ |   | IPsec       \../ \.--/&#x27;
         |   +--------+   | Tunnel
         +----------------+

           DC Provider Site

           Figure 1: DC Virtual Network Access via the Internet

<span class="h3"><a class="selflink" id="section-3.2" href="#section-3.2">3.2</a>.  DC NVO3 Virtual Network and SP WAN VPN Interconnection</span>

   In this case, an enterprise customer wants to use a Service Provider
   (SP) WAN VPN [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>] [<a href="/doc/html/rfc7432" title="&quot;BGP MPLS- Based Ethernet VPN&quot;">RFC7432</a>] to interconnect its sites with an
   NVO3 virtual network in a DC site.  The SP constructs a VPN for the
   enterprise customer.  Each enterprise site peers with an SP PE.  The
   DC provider and VPN SP can build an NVO3 virtual network and a WAN
   VPN independently, and then interconnect them via a local link or a
   tunnel between the DC GW and WAN PE devices.  The control plane
   interconnection options between the DC and WAN are described in
   [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>].  Using the option &quot;a&quot; specified in [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>] with VRF-LITE
   [<a href="#ref-VRF-LITE" title="&quot;Configuring VRF-lite&quot;">VRF-LITE</a>], both ASBRs, i.e., DC GW and SP PE, maintain a
   routing/forwarding table (VRF).  Using the option &quot;b&quot; specified in
   [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>], the DC ASBR and SP ASBR do not maintain the VRF table;
   they only maintain the NVO3 virtual network and VPN identifier
   mappings, i.e., label mapping, and swap the label on the packets in
   the forwarding process.  Both option &quot;a&quot; and option &quot;b&quot; allow the se
   of NVO3 VNs and VPNs using their own identifiers, and two identifiers
   are mapped at the DC GW.  With the option &quot;c&quot; in [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>], the VN



<span class="grey">Yong, et al.                  Informational                     [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   and VPN use the same identifier and both ASBRs perform the tunnel
   stitching, i.e., tunnel segment mapping.  Each option has pros and
   cons [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>] and has been deployed in SP networks depending on the
   application requirements.  BGP is used in these options for route
   distribution between DCs and SP WANs.  Note that if the DC is the
   SP&#x27;s DC, the DC GW and SP PE can be merged into one device that
   performs the interworking of the VN and VPN within an Autonomous
   System.

   These solutions allow the enterprise networks to communicate with the
   tenant systems attached to the NVO3 virtual network in the DC without
   interfering with the DC provider&#x27;s underlying physical networks and
   other NVO3 virtual networks in the DC.  The enterprise can use its
   own address space in the NVO3 virtual network.  The DC provider can
   manage which VM and storage elements attach to the NVO3 virtual
   network.  The enterprise customer manages which applications run on
   the VMs without knowing the location of the VMs in the DC.  (See
   <a href="#section-4">Section 4</a> for more information.)

   Furthermore, in this use case, the DC operator can move the VMs
   assigned to the enterprise from one sever to another in the DC
   without the enterprise customer being aware, i.e., with no impact on
   the enterprise&#x27;s &quot;live&quot; applications.  Such advanced technologies
   bring DC providers great benefits in offering cloud services, but add
   some requirements for NVO3 [<a href="/doc/html/rfc7364" title="&quot;Problem Statement: Overlays for Network Virtualization&quot;">RFC7364</a>] as well.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  DC Applications Using NVO3</span>

   NVO3 technology provides DC operators with the flexibility in
   designing and deploying different applications in an end-to-end
   virtualization overlay environment.  The operators no longer need to
   worry about the constraints of the DC physical network configuration
   when creating VMs and configuring a network to connect them.  A DC
   provider may use NVO3 in various ways, in conjunction with other
   physical networks and/or virtual networks in the DC.  This section
   highlights some use cases for this goal.

<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a>.  Supporting Multiple Technologies</span>

   Servers deployed in a large DC are often installed at different
   times, and they may have different capabilities/features.  Some
   servers may be virtualized, while others may not; some may be
   equipped with virtual switches, while others may not.  For the
   servers equipped with Hypervisor-based virtual switches, some may
   support a standardized NVO3 encapsulation, some may not support any
   encapsulation, and some may support a documented encapsulation
   protocol (e.g., Virtual eXtensible Local Area Network (VXLAN)
   [<a href="/doc/html/rfc7348" title="&quot;Virtual eXtensible Local Area Network (VXLAN): A Framework for Overlaying Virtualized Layer 2 Networks over Layer 3 Networks&quot;">RFC7348</a>] and Network Virtualization using Generic Routing



<span class="grey">Yong, et al.                  Informational                     [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   Encapsulation (NVGRE) [<a href="/doc/html/rfc7637" title="&quot;NVGRE: Network Virtualization Using Generic Routing Encapsulation&quot;">RFC7637</a>]) or proprietary encapsulations.  To
   construct a tenant network among these servers and the Top-of-Rack
   (ToR) switches, operators can construct one traditional VLAN network
   and two virtual networks where one uses VXLAN encapsulation and the
   other uses NVGRE, and interconnect these three networks via a gateway
   or virtual GW.  The GW performs packet encapsulation/decapsulation
   translation between the networks.

   Another case is that some software of a tenant has high CPU and
   memory consumption, which only makes sense to run on standalone
   servers; other software of the tenant may be good to run on VMs.
   However, provider DC infrastructure is configured to use NVO3 to
   connect VMs and VLANs [<a href="#ref-IEEE802.1Q" title="&quot;IEEE Standard for Local and metropolitan area networks -- Media Access Control (MAC) Bridges and Virtual Bridged Local Area Networks&quot;">IEEE802.1Q</a>] to physical servers.  The tenant
   network requires interworking between NVO3 and traditional VLAN.

<span class="h3"><a class="selflink" id="section-4.2" href="#section-4.2">4.2</a>.  DC Applications Spanning Multiple Physical Zones</span>

   A DC can be partitioned into multiple physical zones, with each zone
   having different access permissions and running different
   applications.  For example, a three-tier zone design has a front zone
   (Web tier) with Web applications, a mid zone (application tier) where
   service applications such as credit payment or ticket booking run,
   and a back zone (database tier) with Data.  External users are only
   able to communicate with the Web application in the front zone; the
   back zone can only receive traffic from the application zone.  In
   this case, communications between the zones must pass through one or
   more security functions in a physical DMZ zone.  Each zone can be
   implemented by one NVO3 virtual network and the security functions in
   DMZ zone can be used to between two NVO3 virtual networks, i.e., two
   zones.  If network functions (NFs), especially the security functions
   in the physical DMZ, can&#x27;t process encapsulated NVO3 traffic, the
   NVO3 tunnels have to be terminated for the NF to perform its
   processing on the application traffic.

<span class="h3"><a class="selflink" id="section-4.3" href="#section-4.3">4.3</a>.  Virtual Data Center (vDC)</span>

   An enterprise DC may deploy routers, switches, and network appliance
   devices to construct its internal network, DMZ, and external network
   access; it may have many servers and storage running various
   applications.  With NVO3 technology, a DC provider can construct a
   vDC over its physical DC infrastructure and offer a vDC service to
   enterprise customers.  A vDC at the DC provider site provides the
   same capability as the physical DC at a customer site.  A customer
   manages its own applications running in its vDC.  A DC provider can
   further offer different network service functions to the customer.
   The network service functions may include a firewall, DNS, LB,
   gateway, etc.




<span class="grey">Yong, et al.                  Informational                    [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   Figure 2 illustrates one such scenario at the service-abstraction
   level.  In this example, the vDC contains several L2 VNs (L2VNx,
   L2VNy, L2VNz) to group the tenant systems together on a per-
   application basis, and one L3 VN (L3VNa) for the internal routing.  A
   network firewall and gateway runs on a VM or server that connects to
   L3VNa and is used for inbound and outbound traffic processing.  An LB
   is used in L2VNx.  A VPN is also built between the gateway and
   enterprise router.  An Enterprise customer runs Web/Mail/Voice
   applications on VMs within the vDC.  The users at the Enterprise site
   access the applications running in the vDC via the VPN; Internet
   users access these applications via the gateway/firewall at the DC
   provider site.

                Internet                    ^ Internet
                                            |
                   ^                     +--+---+
                   |                     |  GW  |
                   |                     +--+---+
                   |                        |
           +-------+--------+            +--+---+
           |Firewall/Gateway+--- VPN-----+router|
           +-------+--------+            +-+--+-+
                   |                       |  |
                ...+....                   |..|
       +-------: L3 VNa :---------+        LANs
     +-+-+      ........          |
     |LB |          |             |     Enterprise Site
     +-+-+          |             |
    ...+...      ...+...       ...+...
   : L2VNx :    : L2VNy :     : L2VNz :
    .......      .......       .......
      |..|         |..|          |..|
      |  |         |  |          |  |
    Web App.     Mail App.      VoIP App.

             DC Provider Site

              Figure 2: Virtual Data Center Abstraction View

   The enterprise customer decides which applications should be
   accessible only via the intranet and which should be assessable via
   both the intranet and Internet, and it configures the proper security
   policy and gateway function at the firewall/gateway.  Furthermore, an
   enterprise customer may want multi-zones in a vDC (see <a href="#section-4.2">Section 4.2</a>)
   for the security and/or the ability to set different QoS levels for
   the different applications.





<span class="grey">Yong, et al.                  Informational                    [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   The vDC use case requires an NVO3 solution to provide DC operators
   with an easy and quick way to create an NVO3 virtual network and NVEs
   for any vDC design, to allocate TSs and assign TSs to the
   corresponding NVO3 virtual network and to illustrate vDC topology and
   manage/configure individual elements in the vDC in a secure way.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Summary</span>

   This document describes some general NVO3 use cases in DCs.  The
   combination of these cases will give operators the flexibility and
   capability to design more sophisticated support for various cloud
   applications.

   DC services may vary, NVO3 virtual networks make it possible to scale
   a large number of virtual networks in a DC and ensure the network
   infrastructure not impacted by the number of VMs and dynamic workload
   changes in a DC.

   NVO3 uses tunnel techniques to deliver NVO3 traffic over DC physical
   infrastructure network.  A tunnel encapsulation protocol is
   necessary.  An NVO3 tunnel may, in turn, be tunneled over other
   intermediate tunnels over the Internet or other WANs.

   An NVO3 virtual network in a DC may be accessed by external users in
   a secure way.  Many existing technologies can help achieve this.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Security Considerations</span>

   Security is a concern.  DC operators need to provide a tenant with a
   secured virtual network, which means one tenant&#x27;s traffic is isolated
   from other tenants&#x27; traffic and is not leaked to the underlay
   networks.  Tenants are vulnerable to observation and data
   modification/injection by the operator of the underlay and should
   only use operators they trust.  DC operators also need to prevent a
   tenant application attacking their underlay DC networks; further,
   they need to protect a tenant application attacking another tenant
   application via the DC infrastructure network.  For example, a tenant
   application attempts to generate a large volume of traffic to
   overload the DC&#x27;s underlying network.  This can be done by limiting
   the bandwidth of such communications.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  IANA Considerations</span>

   This document does not require any IANA actions.







<span class="grey">Yong, et al.                  Informational                    [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  Informative References</span>

   [<a id="ref-IEEE802.1Q">IEEE802.1Q</a>]   IEEE, &quot;IEEE Standard for Local and metropolitan area
                  networks -- Media Access Control (MAC) Bridges and
                  Virtual Bridged Local Area Networks&quot;, IEEE Std
                  802.1Q-2011, DOI 10.1109/IEEESTD.2011.6009146.

   [<a id="ref-NVO3MCAST">NVO3MCAST</a>]    Ghanwani, A., Dunbar, L., McBride, M., Bannai, V., and
                  R. Krishnan, &quot;A Framework for Multicast in Network
                  Virtualization Overlays&quot;, Work in Progress,
                  <a href="/doc/html/draft-ietf-nvo3-mcast-framework-07">draft-ietf-nvo3-mcast-framework-07</a>, May 2016.

   [<a id="ref-RFC1035">RFC1035</a>]      Mockapetris, P., &quot;Domain names - implementation and
                  specification&quot;, STD 13, <a href="/doc/html/rfc1035">RFC 1035</a>,
                  DOI 10.17487/RFC1035, November 1987,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc1035">http://www.rfc-editor.org/info/rfc1035</a>&gt;.

   [<a id="ref-RFC3022">RFC3022</a>]      Srisuresh, P. and K. Egevang, &quot;Traditional IP Network
                  Address Translator (Traditional NAT)&quot;, <a href="/doc/html/rfc3022">RFC 3022</a>,
                  DOI 10.17487/RFC3022, January 2001,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc3022">http://www.rfc-editor.org/info/rfc3022</a>&gt;.

   [<a id="ref-RFC4301">RFC4301</a>]      Kent, S. and K. Seo, &quot;Security Architecture for the
                  Internet Protocol&quot;, <a href="/doc/html/rfc4301">RFC 4301</a>, DOI 10.17487/RFC4301,
                  December 2005,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc4301">http://www.rfc-editor.org/info/rfc4301</a>&gt;.

   [<a id="ref-RFC4364">RFC4364</a>]      Rosen, E. and Y. Rekhter, &quot;BGP/MPLS IP Virtual Private
                  Networks (VPNs)&quot;, <a href="/doc/html/rfc4364">RFC 4364</a>, DOI 10.17487/RFC4364,
                  February 2006,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc4364">http://www.rfc-editor.org/info/rfc4364</a>&gt;.

   [<a id="ref-RFC7348">RFC7348</a>]      Mahalingam, M., Dutt, D., Duda, K., Agarwal, P.,
                  Kreeger, L., Sridhar, T., Bursell, M., and C. Wright,
                  &quot;Virtual eXtensible Local Area Network (VXLAN): A
                  Framework for Overlaying Virtualized Layer 2 Networks
                  over Layer 3 Networks&quot;, <a href="/doc/html/rfc7348">RFC 7348</a>,
                  DOI 10.17487/RFC7348, August 2014,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc7348">http://www.rfc-editor.org/info/rfc7348</a>&gt;.

   [<a id="ref-RFC7364">RFC7364</a>]      Narten, T., Ed., Gray, E., Ed., Black, D., Fang, L.,
                  Kreeger, L., and M. Napierala, &quot;Problem Statement:
                  Overlays for Network Virtualization&quot;, <a href="/doc/html/rfc7364">RFC 7364</a>,
                  DOI 10.17487/RFC7364, October 2014,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc7364">http://www.rfc-editor.org/info/rfc7364</a>&gt;.






<span class="grey">Yong, et al.                  Informational                    [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


   [<a id="ref-RFC7365">RFC7365</a>]      Lasserre, M., Balus, F., Morin, T., Bitar, N., and Y.
                  Rekhter, &quot;Framework for Data Center (DC) Network
                  Virtualization&quot;, <a href="/doc/html/rfc7365">RFC 7365</a>, DOI 10.17487/RFC7365,
                  October 2014,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc7365">http://www.rfc-editor.org/info/rfc7365</a>&gt;.

   [<a id="ref-RFC7432">RFC7432</a>]      Sajassi, A., Ed., Aggarwal, R., Bitar, N., Isaac, A.,
                  Uttaro, J., Drake, J., and W. Henderickx, &quot;BGP MPLS-
                  Based Ethernet VPN&quot;, <a href="/doc/html/rfc7432">RFC 7432</a>, DOI 10.17487/RFC7432,
                  February 2015,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc7432">http://www.rfc-editor.org/info/rfc7432</a>&gt;.

   [<a id="ref-RFC7637">RFC7637</a>]      Garg, P., Ed., and Y. Wang, Ed., &quot;NVGRE: Network
                  Virtualization Using Generic Routing Encapsulation&quot;,
                  <a href="/doc/html/rfc7637">RFC 7637</a>, DOI 10.17487/RFC7637, September 2015,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc7637">http://www.rfc-editor.org/info/rfc7637</a>&gt;.

   [<a id="ref-RFC8014">RFC8014</a>]      Black, D., Hudson, J., Kreeger, L., Lasserre, M., and
                  T. Narten, &quot;An Architecture for Data-Center Network
                  Virtualization over Layer 3 (NVO3)&quot;, <a href="/doc/html/rfc8014">RFC 8014</a>,
                  DOI 10.17487/RFC8014, December 2016,
                  &lt;<a href="http://www.rfc-editor.org/info/rfc8014">http://www.rfc-editor.org/info/rfc8014</a>&gt;.

   [<a id="ref-VRF-LITE">VRF-LITE</a>]     Cisco, &quot;Configuring VRF-lite&quot;,
                  &lt;<a href="http://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst4500/12-2/31sg/configuration/guide/conf/vrf.pdf">http://www.cisco.com/c/en/us/td/docs/switches/lan/</a>
                  <a href="http://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst4500/12-2/31sg/configuration/guide/conf/vrf.pdf">catalyst4500/12-2/31sg/configuration/guide/conf/</a>
                  <a href="http://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst4500/12-2/31sg/configuration/guide/conf/vrf.pdf">vrf.pdf</a>&gt;.

Acknowledgements

   The authors would like to thank Sue Hares, Young Lee, David Black,
   Pedro Marques, Mike McBride, David McDysan, Randy Bush, Uma Chunduri,
   Eric Gray, David Allan, Joe Touch, Olufemi Komolafe, Matthew Bocci,
   and Alia Atlas for the reviews, comments, and suggestions.

















<span class="grey">Yong, et al.                  Informational                    [Page 14]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-15" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


Contributors

   David Black
   Dell EMC
   176 South Street
   Hopkinton, MA 01748
   United States of America

   Email: David.Black@dell.com


   Vinay Bannai
   PayPal
   2211 N. First Street
   San Jose, CA 95131
   United States of America

   Phone: +1-408-967-7784
   Email: vbannai@paypal.com


   Ram Krishnan
   Brocade Communications
   San Jose, CA 95134
   United States of America

   Phone: +1-408-406-7890
   Email: ramk@brocade.com


   Kieran Milne
   Juniper Networks
   1133 Innovation Way
   Sunnyvale, CA 94089
   United States of America

   Phone: +1-408-745-2000
   Email: kmilne@juniper.net













<span class="grey">Yong, et al.                  Informational                    [Page 15]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-16" ></span>
<span class="grey"><a href="/doc/html/rfc8151">RFC 8151</a>                      NVO3 Use Case                     May 2017</span>


Authors&#x27; Addresses

   Lucy Yong
   Huawei Technologies
   Phone: +1-918-808-1918

   Email: lucy.yong@huawei.com


   Linda Dunbar
   Huawei Technologies,
   5340 Legacy Drive
   Plano, TX 75025
   United States of America

   Phone: +1-469-277-5840
   Email: linda.dunbar@huawei.com


   Mehmet Toy
   Verizon

   Email: mehmet.toy@verizon.com


   Aldrin Isaac
   Juniper Networks
   1133 Innovation Way
   Sunnyvale, CA 94089
   United States of America

   Email: aldrin.isaac@gmail.com


   Vishwas Manral
   Nano Sec Co
   3350 Thomas Rd.
   Santa Clara, CA
   United States of America

   Email: vishwas@nanosec.io










Yong, et al.                  Informational                    [Page 16]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

