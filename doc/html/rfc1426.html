<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc1426
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-smtpext-8bit-mime/">
  <meta name="description" content="SMTP Service Extension for 8bit-MIMEtransport (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgbrown"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc1426.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc1426.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc1426.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc1426/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc1426/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/smtpext/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-smtpext-8bit-mime@ietf.org?subject=draft-ietf-smtpext-8bit-mime" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-smtpext-8bit-mime-01.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-smtpext-8bit-mime-01.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-smtpext-8bit-mime-01.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-smtpext-8bit-mime-01">draft-ietf-smtpext-8bit-mime-01</a>                  Proposed Standard
Obsoleted by: <a href="/doc/html/rfc1652">1652</a>                                                      </pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                               J. Klensin, WG Chair
Request for Comments: 1426                     United Nations University
                                                        N. Freed, Editor
                                            Innosoft International, Inc.
                                                                 M. Rose
                                            Dover Beach Consulting, Inc.
                                                            E. Stefferud
                                     Network Management Associates, Inc.
                                                              D. Crocker
                                                       The Branch Office
                                                           February 1993


                         <span class="h1">SMTP Service Extension</span>
                         <span class="h1">for 8bit-MIMEtransport</span>

Status of this Memo

   This RFC specifies an IAB standards track protocol for the Internet
   community, and requests discussion and suggestions for improvements.
   Please refer to the current edition of the &quot;IAB Official Protocol
   Standards&quot; for the standardization state and status of this protocol.
   Distribution of this memo is unlimited.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Abstract</span>

   This memo defines an extension to the SMTP service whereby an SMTP
   content body containing octets outside of the US ASCII octet range
   (hex 00-7F) may be relayed using SMTP.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Introduction</span>

   Although SMTP is widely and robustly deployed, various extensions
   have been requested by parts of the Internet community. In
   particular, a significant portion of the Internet community wishes to
   exchange messages in which the content body consists of a MIME
   message [<a href="#ref-3" title="&quot;Multipurpose Internet Mail Extensions&quot;">3</a>] containing arbitrary octet-aligned material. This memo
   uses the mechanism described in [<a href="#ref-5" title="&quot;SMTP Service Extensions&quot;">5</a>] to define an extension to the
   SMTP service whereby such contents may be exchanged. Note that this
   extension does NOT eliminate the possibility of an SMTP server
   limiting line length; servers are free to implement this extension
   but nevertheless set a line length limit no lower than 1000 octets.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Framework for the 8bit MIME Transport Extension</span>

   The 8bit MIME transport extension is laid out as follows:





<span class="grey">Klensin, Freed, Rose, Stefferud &amp; Crocker                       [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc1426">RFC 1426</a>                SMTP 8bit-MIMEtransport            February 1993</span>


          (1)  the name of the SMTP service extension defined here is
               8bit-MIMEtransport;

          (2)  the EHLO keyword value associated with the extension is
               8BITMIME;

          (3)  no parameter is used with the 8BITMIME EHLO keyword;

          (4)  one optional parameter using the keyword BODY is added to
               the MAIL FROM command.  The value associated with this
               parameter is a keyword indicating whether a 7bit message
               (in strict compliance with [<a href="#ref-1" title="&quot;Simple Mail Transfer Protocol&quot;">1</a>]) or a MIME message (in
               strict compliance with [<a href="#ref-3" title="&quot;Multipurpose Internet Mail Extensions&quot;">3</a>]) with arbitrary octet content
               is being sent. The syntax of the value is as follows,
               using the ABNF notation of [<a href="#ref-2" title="&quot;Standard for the Format of ARPA Internet Text Messages&quot;">2</a>]:

                    body-value ::= &quot;7BIT&quot; / &quot;8BITMIME&quot;

          (5)  no additional SMTP verbs are defined by this extension;
               and,

          (6)  the next section specifies how support for the extension
               affects the behavior of a server and client SMTP.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  The 8bit-MIMEtransport service extension</span>

   When a client SMTP wishes to submit (using the MAIL command) a
   content body consisting of a MIME message containing arbitrary
   octet-aligned material, it first issues the EHLO command to the
   server SMTP. If the server SMTP responds with code 250 to the EHLO
   command, and the response includes the EHLO keyword value 8BITMIME,
   then the server SMTP is indicating that it supports the extended MAIL
   command and will accept MIME messages containing arbitrary octet-
   aligned material.

   The extended MAIL command is issued by a client SMTP when it wishes
   to transmit a content body consisting of a MIME message containing
   arbitrary octet-aligned material. The syntax for this command is
   identical to the MAIL command in [<a href="#ref-1" title="&quot;Simple Mail Transfer Protocol&quot;">1</a>], except that a BODY parameter
   must appear after the address.

   The complete syntax of this extended command is defined in [<a href="#ref-5" title="&quot;SMTP Service Extensions&quot;">5</a>]. The
   esmtp-keyword is BODY and the syntax for esmtp-value is given by the
   syntax for body-value shown above.

   The value associated with the BODY parameter indicates whether the
   content body which will be passed using the DATA command consists of
   a MIME message containing some arbitrary octet-aligned material



<span class="grey">Klensin, Freed, Rose, Stefferud &amp; Crocker                       [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc1426">RFC 1426</a>                SMTP 8bit-MIMEtransport            February 1993</span>


   (&quot;8BITMIME&quot;) or is encoded entirely in accordance with [<a href="#ref-1" title="&quot;Simple Mail Transfer Protocol&quot;">1</a>] (&quot;7BIT&quot;).

   A server which supports the 8-bit MIME transport service extension
   shall preserve all bits in each octet passed using the DATA command.

   Naturally, the usual SMTP data-stuffing algorithm applies so that a
   content which contains the five-character sequence of

               &lt;CR&gt; &lt;LF&gt; &lt;DOT&gt; &lt;CR&gt; &lt;LF&gt;

   or a content that begins with the three-character sequence of

               &lt;DOT&gt; &lt;CR&gt; &lt;LF&gt;

   does not prematurely terminate the transfer of the content.  Further,
   it should be noted that the CR-LF pair immediately preceeding the
   final dot is considered part of the content.  Finally, although the
   content body contains arbitrary octet-aligned material, the length of
   each line (number of octets between two CR-LF pairs), is still
   subject to SMTP server line length restrictions (which may allow as
   few as 1000 octets on a single line).

   Once a server SMTP supporting the 8bit-MIMEtransport service
   extension accepts a content body containing octets with the high-
   order (8th) bit set, the server SMTP must deliver or relay the
   content in such a way as to preserve all bits in each octet.

   If a server SMTP does not support the 8-bit MIME transport extension
   (either by not responding with code 250 to the EHLO command, or by
   not including the EHLO keyword value 8BITMIME in its response), then
   the client SMTP must not, under any circumstances, attempt to
   transfer a content which contains characters outside the US ASCII
   octet range (hex 00-7F).

   A client SMTP has two options in this case: first,  it may implement
   a gateway transformation to convert the message into valid 7bit MIME,
   or second, or may treat this as a permanent error and handle it in
   the usual manner for delivery failures.  The specifics of the
   transformation from 8bit MIME to 7bit MIME are not described by this
   RFC; the conversion is nevertheless constrained in the following
   ways:

          (1)  it must cause no loss of information; MIME transport
               encodings must be employed as needed to insure this is
               the case, and

          (2)  the resulting message must be valid 7bit MIME.




<span class="grey">Klensin, Freed, Rose, Stefferud &amp; Crocker                       [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc1426">RFC 1426</a>                SMTP 8bit-MIMEtransport            February 1993</span>


<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Usage Example</span>

   The following dialogue illustrates the use of the 8bit-MIMEtransport
   service extension:

          S: &lt;wait for connection on TCP port 25&gt;
          C: &lt;open connection to server&gt;
          S: 220 dbc.mtview.ca.us SMTP service ready
          C: EHLO ymir.claremont.edu
          S: 250-dbc.mtview.ca.us says hello
          S: 250 8BITMIME
          C: MAIL FROM:&lt;ned@ymir.claremont.edu&gt; BODY=8BITMIME
          S: 250 &lt;ned@ymir.claremont.edu&gt;... Sender and 8BITMIME ok
          C: RCPT TO:&lt;mrose@dbc.mtview.ca.us&gt;
          S: 250 &lt;mrose@dbc.mtview.ca.us&gt;... Recipient ok
          C: DATA
          S: 354 Send 8BITMIME message, ending in CRLF.CRLF.
           ...
          C: .
          S: 250 OK
          C: QUIT
          S: 250 Goodbye

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Security Considerations</span>

   This RFC does not discuss security issues and is not believed to
   raise any security issues not already endemic in electronic mail and
   present in fully conforming implementations of [<a href="#ref-1" title="&quot;Simple Mail Transfer Protocol&quot;">1</a>].

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Acknowledgements</span>

   This document represents a synthesis of the ideas of many people and
   reactions to the ideas and proposals of others.  Randall Atkinson,
   Craig Everhart, Risto Kankkunen, and Greg Vaudreuil contributed ideas
   and text sufficient to be considered co-authors.  Other important
   suggestions, text, or encouragement came from Harald Alvestrand, Jim
   Conklin, Mark Crispin, Frank da Cruz, &#x27;Olafur Gudmundsson, Per
   Hedeland, Christian Huitma, Neil Katin, Eliot Lear, Harold A.
   Miller, Keith Moore, Dan Oscarsson, Julian Onions, Neil Rickert, John
   Wagner, Rayan Zachariassen, and the contributions of the entire IETF
   SMTP Working Group. Of course, none of the individuals are
   necessarily responsible for the combination of ideas represented
   here. Indeed, in some cases, the response to a particular criticism
   was to accept the problem identification but to include an entirely
   different solution from the one originally proposed.






<span class="grey">Klensin, Freed, Rose, Stefferud &amp; Crocker                       [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc1426">RFC 1426</a>                SMTP 8bit-MIMEtransport            February 1993</span>


<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  References</span>

   [<a id="ref-1">1</a>] Postel, J., &quot;Simple Mail Transfer Protocol&quot;, STD 10, <a href="/doc/html/rfc821">RFC 821</a>,
       USC/Information Sciences Institute, August 1982.

   [<a id="ref-2">2</a>] Crocker, D., &quot;Standard for the Format of ARPA Internet Text
       Messages&quot;, STD 11, <a href="/doc/html/rfc822">RFC 822</a>, UDEL, August 1982.

   [<a id="ref-3">3</a>] Borenstein, N., and N. Freed, &quot;Multipurpose Internet Mail
       Extensions&quot;, <a href="/doc/html/rfc1341">RFC 1341</a>, Bellcore, Innosoft, June 1992.

   [<a id="ref-4">4</a>] Moore, K., &quot;Representation of Non-ASCII Text in Internet Message
       Headers&quot;, <a href="/doc/html/rfc1342">RFC 1342</a>, University of Tennessee, June 1992.

   [<a id="ref-5">5</a>] Klensin, J., WG Chair, Freed, N., Editor, Rose, M., Stefferud,
       E., and D. Crocker, &quot;SMTP Service Extensions&quot; <a href="/doc/html/rfc1425">RFC 1425</a>, United
       Nations University, Innosoft International, Inc., Dover Beach
       Consulting, Inc., Network Management Associates, Inc., The Branch
       Office, February 1993.

   [<a id="ref-6">6</a>] Partridge, C., &quot;Mail Routing and the Domain System&quot;, <a href="/doc/html/rfc974">RFC 974</a>,
       BBN, January 1986.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  Chair, Editor, and Authors&#x27; Addresses</span>

       John Klensin, WG Chair
       United Nations University
       PO Box 500, Charles Street Station
       Boston, MA 02114-0500  USA

       Phone: +1 617 227 8747
       Fax: +1 617 491 6266
       Email: klensin@infoods.unu.edu


       Ned Freed, Editor
       Innosoft International, Inc.
       250 West First Street, Suite 240
       Claremont, CA 91711  USA

       Phone: +1 909 624 7907
       Fax: +1 909 621 5319
       Email: ned@innosoft.com








<span class="grey">Klensin, Freed, Rose, Stefferud &amp; Crocker                       [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc1426">RFC 1426</a>                SMTP 8bit-MIMEtransport            February 1993</span>


       Marshall T. Rose
       Dover Beach Consulting, Inc.
       420 Whisman Court
       Moutain View, CA  94043-2186  USA

       Phone: +1 415 968 1052
       Fax: +1 415 968 2510
       Email: mrose@dbc.mtview.ca.us


       Einar A. Stefferud
       Network Management Associates, Inc.
       17301 Drey Lane
       Huntington Beach, CA, 92647-5615  USA

       Phone: +1 714 842 3711
       Fax: +1 714 848 2091
       Email: stef@nma.com


       David H. Crocker
       The Branch Office
       USA

       Email: dcrocker@mordor.stanford.edu


























Klensin, Freed, Rose, Stefferud &amp; Crocker                       [Page 6]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

