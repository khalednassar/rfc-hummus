<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc8760
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-sipcore-digest-scheme/">
  <meta name="description" content="The Session Initiation Protocol (SIP) Digest Access Authentication Scheme (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc8760.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc8760.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/rfc8760.xml" title="XML source for this document">xml</a>|<a href="https://www.rfc-editor.org/rfc/rfc8760.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc8760/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc8760/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/sipcore/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-sipcore-digest-scheme@ietf.org?subject=draft-ietf-sipcore-digest-scheme" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-sipcore-digest-scheme-15.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-sipcore-digest-scheme-15.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-sipcore-digest-scheme-15.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-sipcore-digest-scheme-15">draft-ietf-sipcore-digest-scheme-15</a>              Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                    R. Shekh-Yusef
Request for Comments: 8760                                         Avaya
Updates: <a href="/doc/html/rfc3261">3261</a>                                                 March 2020
Category: Standards Track
ISSN: 2070-1721


   <span class="h1">The Session Initiation Protocol (SIP) Digest Access Authentication</span>
                                 <span class="h1">Scheme</span>

Abstract

   This document updates <a href="/doc/html/rfc3261">RFC 3261</a> by modifying the Digest Access
   Authentication scheme used by the Session Initiation Protocol (SIP)
   to add support for more secure digest algorithms, e.g., SHA-256 and
   SHA-512/256, to replace the obsolete MD5 algorithm.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="/doc/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8760">https://www.rfc-editor.org/info/rfc8760</a>.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Table of Contents

   1.  Introduction
     1.1.  Terminology
   2.  Updates to the SIP Digest Access Authentication Scheme
     2.1.  Hash Algorithms
     2.2.  Representation of Digest Values
     2.3.  UAS Behavior
     2.4.  UAC Behavior
     2.5.  Forking
     2.6.  HTTP Digest Authentication Scheme Modifications
     2.7.  ABNF for SIP
   3.  Security Considerations
   4.  IANA Considerations
   5.  References
     5.1.  Normative References
     5.2.  Informative References
   Acknowledgments
   Author&#x27;s Address

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   The Session Initiation Protocol [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] uses the same mechanism as
   the Hypertext Transfer Protocol (HTTP) does for authenticating users.
   This mechanism is called &quot;Digest Access Authentication&quot;.  It is a
   simple challenge-response mechanism that allows a server to challenge
   a client request and allows a client to provide authentication
   information in response to that challenge.  The version of Digest
   Access Authentication that [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] references is specified in
   [<a href="/doc/html/rfc2617" title="&quot;HTTP Authentication: Basic and Digest Access Authentication&quot;">RFC2617</a>].

   The default hash algorithm for Digest Access Authentication is MD5.
   However, it has been demonstrated that the MD5 algorithm is not
   collision resistant and is now considered a bad choice for a hash
   function (see [<a href="/doc/html/rfc6151" title="&quot;Updated Security Considerations for the MD5 Message-Digest and the HMAC-MD5 Algorithms&quot;">RFC6151</a>]).

   The HTTP Digest Access Authentication document [<a href="/doc/html/rfc7616" title="&quot;HTTP Digest Access Authentication&quot;">RFC7616</a>] obsoletes
   [<a href="/doc/html/rfc2617" title="&quot;HTTP Authentication: Basic and Digest Access Authentication&quot;">RFC2617</a>] and adds stronger algorithms that can be used with the
   Digest Access Authentication scheme and establishes a registry for
   these algorithms, known as the &quot;Hash Algorithms for HTTP Digest
   Authentication&quot; IANA registry, so that algorithms can be added in the
   future.

   This document updates the Digest Access Authentication scheme used by
   SIP to support the algorithms listed in the &quot;Hash Algorithms for HTTP
   Digest Authentication&quot; IANA registry defined by [<a href="/doc/html/rfc7616" title="&quot;HTTP Digest Access Authentication&quot;">RFC7616</a>].

<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a>.  Terminology</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in
   <a href="/doc/html/bcp14">BCP 14</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] [<a href="/doc/html/rfc8174" title="&quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;">RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Updates to the SIP Digest Access Authentication Scheme</span>

   This section describes the modifications to the operation of the
   Digest mechanism as specified in [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] in order to support the
   algorithms defined in the &quot;Hash Algorithms for HTTP Digest
   Authentication&quot; IANA registry described in [<a href="/doc/html/rfc7616" title="&quot;HTTP Digest Access Authentication&quot;">RFC7616</a>].

   It replaces the reference used in [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] for Digest Access
   Authentication, substituting [<a href="/doc/html/rfc7616" title="&quot;HTTP Digest Access Authentication&quot;">RFC7616</a>] for the obsolete [<a href="/doc/html/rfc2617" title="&quot;HTTP Authentication: Basic and Digest Access Authentication&quot;">RFC2617</a>],
   and describes the modifications to the usage of the Digest mechanism
   in [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] resulting from that reference update.  It adds support
   for the SHA-256 and SHA-512/256 algorithms [<a href="#ref-SHA2" title="&quot;Secure Hash Standard (SHS)&quot;">SHA2</a>].  It adds required
   support for the &quot;qop&quot; parameter.  It provides additional User Agent
   Client (UAC) and User Agent Server (UAS) procedures regarding usage
   of multiple SIP Authorization, WWW-Authenticate, and Proxy-
   Authenticate header fields, including the order in which to insert
   and process them.  It provides guidance regarding forking.  Finally,
   it updates the SIP ABNF as required by the updates.

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a>.  Hash Algorithms</span>

   The Digest Access Authentication scheme has an &quot;algorithm&quot; parameter
   that specifies the algorithm to be used to compute the digest of the
   response.  The &quot;Hash Algorithms for HTTP Digest Authentication&quot; IANA
   registry specifies the algorithms that correspond to &#x27;algorithm&#x27;
   values.

   [<a id="ref-RFC3261">RFC3261</a>] specifies only one algorithm, MD5, which is used by
   default.  This document extends [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] to allow use of any
   algorithm listed in the &quot;Hash Algorithms for HTTP Digest
   Authentication&quot; IANA registry.

   A UAS prioritizes which algorithm to use based on its policy, which
   is specified in <a href="#section-2.3">Section 2.3</a> and parallels the process used in HTTP
   specified by [<a href="/doc/html/rfc7616" title="&quot;HTTP Digest Access Authentication&quot;">RFC7616</a>].

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a>.  Representation of Digest Values</span>

   The size of the digest depends on the algorithm used.  The bits in
   the digest are converted from the most significant to the least
   significant bit, four bits at a time, to the ASCII representation as
   follows.  Each set of four bits is represented by its familiar
   hexadecimal notation from the characters 0123456789abcdef; that is,
   binary 0000 is represented by the character &#x27;0&#x27;, 0001 is represented
   by &#x27;1&#x27;, and so on up to the representation of 1111 as &#x27;f&#x27;.  If the
   SHA-256 or SHA-512/256 algorithm is used to calculate the digest,
   then the digest will be represented as 64 hexadecimal characters.

<span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a>.  UAS Behavior</span>

   When a UAS receives a request from a UAC, and an acceptable
   Authorization header field is not received, the UAS can challenge the
   originator to provide credentials by rejecting the request with a
   401/407 status code with the WWW-Authenticate/Proxy-Authenticate
   header field, respectively.  The UAS MAY add multiple WWW-
   Authenticate/Proxy-Authenticate header fields to allow the UAS to
   utilize the best available algorithm supported by the client.

   If the UAS challenges the originator using multiple WWW-Authenticate/
   Proxy-Authenticate header fields with the same realm, then each of
   these header fields MUST use a different digest algorithm.  The UAS
   MUST add these header fields to the response in the order in which it
   would prefer to see them used, starting with the most preferred
   algorithm at the top.  The UAS cannot assume that the client will use
   the algorithm specified in the topmost header field.

<span class="h3"><a class="selflink" id="section-2.4" href="#section-2.4">2.4</a>.  UAC Behavior</span>

   When the UAC receives a response with multiple WWW-Authenticate/
   Proxy-Authenticate header fields with the same realm, it SHOULD use
   the topmost header field that it supports unless a local policy
   dictates otherwise.  The client MUST ignore any challenge it does not
   understand.

   When the UAC receives a 401 response with multiple WWW-Authenticate
   header fields with different realms, it SHOULD retry and add an
   Authorization header field containing credentials that match the
   topmost header field of any of the realms unless a local policy
   dictates otherwise.

   If the UAC cannot respond to any of the challenges in the response,
   then it SHOULD abandon attempts to send the request unless a local
   policy dictates otherwise, e.g., the policy might indicate the use of
   non-Digest mechanisms.  For example, if the UAC does not have
   credentials or has stale credentials for any of the realms, the UAC
   will abandon the request.

<span class="h3"><a class="selflink" id="section-2.5" href="#section-2.5">2.5</a>.  Forking</span>

   <a href="/doc/html/rfc3261#section-22.3">Section&nbsp;22.3 of [RFC3261]</a> discusses the operation of the proxy-to-
   user authentication, which describes the operation of the proxy when
   it forks a request.  This section clarifies that operation.

   If a request is forked, various proxy servers and/or UAs may wish to
   challenge the UAC.  In this case, the forking proxy server is
   responsible for aggregating these challenges into a single response.
   Each WWW-Authenticate and Proxy-Authenticate value received in
   response to the forked request MUST be placed into the single
   response that is sent by the forking proxy to the UAC.

   When the forking proxy places multiple WWW-Authenticate and Proxy-
   Authenticate header fields received from one downstream proxy into a
   single response, it MUST maintain the order of these header fields.
   The ordering of values received from different downstream proxies is
   not significant.

<span class="h3"><a class="selflink" id="section-2.6" href="#section-2.6">2.6</a>.  HTTP Digest Authentication Scheme Modifications</span>

   This section describes the modifications and clarifications required
   to apply the HTTP Digest Access Authentication scheme to SIP.  The
   SIP scheme usage is similar to that for HTTP.  For completeness, the
   bullets specified below are mostly copied from <a href="/doc/html/rfc3261#section-22.4">Section&nbsp;22.4 of
   [RFC3261]</a>; the only semantic changes are specified in bullets 1, 7,
   and 8 below.

   SIP clients and servers MUST NOT accept or request Basic
   authentication.

   The rules for Digest Access Authentication follow those defined in
   HTTP, with &quot;HTTP/1.1&quot; [<a href="/doc/html/rfc7616" title="&quot;HTTP Digest Access Authentication&quot;">RFC7616</a>] replaced by &quot;SIP/2.0&quot; in addition to
   the following differences:

   1.  The URI included in the challenge has the following ABNF
       [<a href="/doc/html/rfc5234" title="&quot;Augmented BNF for Syntax Specifications: ABNF&quot;">RFC5234</a>]:

            URI  =  Request-URI ; as defined in <a href="/doc/html/rfc3261#section-25">RFC 3261, Section&nbsp;25</a>

   2.  The &quot;uri&quot; parameter of the Authorization header field MUST be
       enclosed in quotation marks.

   3.  The ABNF for digest-uri-value is:

               digest-uri-value  =  Request-URI

   4.  The example procedure for choosing a nonce based on ETag does not
       work for SIP.

   5.  The text in [<a href="/doc/html/rfc7234" title="&quot;Hypertext Transfer Protocol (HTTP/1.1): Caching&quot;">RFC7234</a>] regarding cache operation does not apply to
       SIP.

   6.  [<a href="/doc/html/rfc7616" title="&quot;HTTP Digest Access Authentication&quot;">RFC7616</a>] requires that a server check that the URI in the
       request line and the URI included in the Authorization header
       field point to the same resource.  In a SIP context, these two
       URIs may refer to different users due to forwarding at some
       proxy.  Therefore, in SIP, a UAS MUST check if the Request-URI in
       the Authorization/Proxy-Authorization header field value
       corresponds to a user for whom the UAS is willing to accept
       forwarded or direct requests; however, it MAY still accept it if
       the two fields are not equivalent.

   7.  As a clarification to the calculation of the A2 value for message
       integrity assurance in the Digest Access Authentication scheme,
       implementers should assume that the hash of the entity-body
       resolves to the hash of an empty string when the entity-body is
       empty (that is, when SIP messages have no body):

       H(entity-body) = &lt;algorithm&gt;(&quot;&quot;)

       For example, when the chosen algorithm is SHA-256, then:

       H(entity-body) = SHA-256(&quot;&quot;) =
      &quot;e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855&quot;

   8.  A UAS MUST be able to properly handle a &quot;qop&quot; parameter received
       in an Authorization/Proxy-Authorization header field, and a UAC
       MUST be able to properly handle a &quot;qop&quot; parameter received in
       WWW-Authenticate and Proxy-Authenticate header fields.  However,
       for backward compatibility reasons, the &quot;qop&quot; parameter is
       optional for clients and servers based on [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] to receive.
       If the &quot;qop&quot; parameter is not specified, then the default value
       is &quot;auth&quot;.

       A UAS MUST always send a &quot;qop&quot; parameter in WWW-Authenticate and
       Proxy-Authenticate header field values, and a UAC MUST send the
       &quot;qop&quot; parameter in any resulting authorization header field.

   The usage of the Authentication-Info header field continues to be
   allowed, since it provides integrity checks over the bodies and
   provides mutual authentication.

<span class="h3"><a class="selflink" id="section-2.7" href="#section-2.7">2.7</a>.  ABNF for SIP</span>

   This document updates the ABNF [<a href="/doc/html/rfc5234" title="&quot;Augmented BNF for Syntax Specifications: ABNF&quot;">RFC5234</a>] for SIP as follows.

   It extends the request-digest as follows to allow for different
   digest sizes:

         request-digest = LDQUOT *LHEX RDQUOT

   The number of hex digits is implied by the length of the value of the
   algorithm used, with a minimum size of 32.  A parameter with an empty
   value (empty string) is allowed when the UAC has not yet received a
   challenge.

   It extends the algorithm parameter as follows to allow any algorithm
   in the registry to be used:

   algorithm =  &quot;algorithm&quot; EQUAL ( &quot;MD5&quot; / &quot;MD5-sess&quot; / &quot;SHA-256&quot; /
   &quot;SHA-256-sess&quot; /
   &quot;SHA-512-256&quot; /  &quot;SHA-512-256-sess&quot; / token )

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Security Considerations</span>

   This specification adds new secure algorithms to be used with the
   Digest mechanism to authenticate users.  The obsolete MD5 algorithm
   remains only for backward compatibility with [<a href="/doc/html/rfc2617" title="&quot;HTTP Authentication: Basic and Digest Access Authentication&quot;">RFC2617</a>], but its use
   is NOT RECOMMENDED.

   This opens the system to the potential for a downgrade attack by an
   on-path attacker.  The most effective way of dealing with this type
   of attack is to either validate the client and challenge it
   accordingly or remove the support for backward compatibility by not
   supporting MD5.

   See <a href="/doc/html/rfc7616#section-5">Section&nbsp;5 of [RFC7616]</a> for a detailed security discussion of the
   Digest Access Authentication scheme.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  IANA Considerations</span>

   [<a id="ref-RFC7616">RFC7616</a>] defines an IANA registry named &quot;Hash Algorithms for HTTP
   Digest Authentication&quot; to simplify the introduction of new algorithms
   in the future.  This document specifies that algorithms defined in
   that registry may be used in SIP digest authentication.

   This document has no actions for IANA.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  References</span>

<span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3261">RFC3261</a>]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M., and E.
              Schooler, &quot;SIP: Session Initiation Protocol&quot;, <a href="/doc/html/rfc3261">RFC 3261</a>,
              DOI 10.17487/RFC3261, June 2002,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3261">https://www.rfc-editor.org/info/rfc3261</a>&gt;.

   [<a id="ref-RFC7234">RFC7234</a>]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
              Ed., &quot;Hypertext Transfer Protocol (HTTP/1.1): Caching&quot;,
              <a href="/doc/html/rfc7234">RFC 7234</a>, DOI 10.17487/RFC7234, June 2014,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7234">https://www.rfc-editor.org/info/rfc7234</a>&gt;.

   [<a id="ref-RFC7616">RFC7616</a>]  Shekh-Yusef, R., Ed., Ahrens, D., and S. Bremer, &quot;HTTP
              Digest Access Authentication&quot;, <a href="/doc/html/rfc7616">RFC 7616</a>,
              DOI 10.17487/RFC7616, September 2015,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7616">https://www.rfc-editor.org/info/rfc7616</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in <a href="/doc/html/rfc2119">RFC</a>
              <a href="/doc/html/rfc2119">2119</a> Key Words&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc8174">RFC 8174</a>, DOI 10.17487/RFC8174,
              May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-SHA2">SHA2</a>]     National Institute of Standards and Technology, &quot;Secure
              Hash Standard (SHS)&quot;, DOI 10.6028/NIST.FIPS.180-4,
              FIPS 180-4, August 2015,
              &lt;<a href="https://doi.org/10.6028/NIST.FIPS.180-4">https://doi.org/10.6028/NIST.FIPS.180-4</a>&gt;.

<span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a>.  Informative References</span>

   [<a id="ref-RFC2617">RFC2617</a>]  Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S.,
              Leach, P., Luotonen, A., and L. Stewart, &quot;HTTP
              Authentication: Basic and Digest Access Authentication&quot;,
              <a href="/doc/html/rfc2617">RFC 2617</a>, DOI 10.17487/RFC2617, June 1999,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2617">https://www.rfc-editor.org/info/rfc2617</a>&gt;.

   [<a id="ref-RFC5234">RFC5234</a>]  Crocker, D., Ed. and P. Overell, &quot;Augmented BNF for Syntax
              Specifications: ABNF&quot;, STD 68, <a href="/doc/html/rfc5234">RFC 5234</a>,
              DOI 10.17487/RFC5234, January 2008,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;.

   [<a id="ref-RFC6151">RFC6151</a>]  Turner, S. and L. Chen, &quot;Updated Security Considerations
              for the MD5 Message-Digest and the HMAC-MD5 Algorithms&quot;,
              <a href="/doc/html/rfc6151">RFC 6151</a>, DOI 10.17487/RFC6151, March 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6151">https://www.rfc-editor.org/info/rfc6151</a>&gt;.

Acknowledgments

   The author would like to thank the following individuals for their
   careful review, comments, and suggestions: Paul Kyzivat, Olle
   Johansson, Dale Worley, Michael Procter, Inaki Baz Castillo, Tolga
   Asveren, Christer Holmberg, Brian Rosen, Jean Mahoney, Adam Roach,
   Barry Leiba, Roni Even, Eric Vyncke, Benjamin Kaduk, Alissa Cooper,
   Roman Danyliw, Alexey Melnikov, and Maxim Sobolev.

Author&#x27;s Address

   Rifaat Shekh-Yusef
   Avaya
   425 Legget Dr.
   Ottawa Ontario
   Canada

   Phone: +1-613-595-9106
   Email: rifaat.ietf@gmail.com
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

