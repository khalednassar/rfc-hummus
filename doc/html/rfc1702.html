<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc1702
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-hanks-ip-gre/">
  <meta name="description" content="Generic Routing Encapsulation over IPv4 networks (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgorange"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc1702.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc1702.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc1702.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc1702/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc1702/" title="Datatracker information for this document">Tracker</a>] [<a href="mailto:draft-hanks-ip-gre@ietf.org?subject=draft-hanks-ip-gre" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-hanks-ip-gre-00.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-hanks-ip-gre-00">draft-hanks-ip-gre-00</a>                                Informational</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                           S. Hanks
Request for Comments: 1702                               NetSmiths, Ltd.
Category: Informational                                            T. Li
                                                            D. Farinacci
                                                               P. Traina
                                                           cisco Systems
                                                            October 1994


            <span class="h1">Generic Routing Encapsulation over IPv4 networks</span>

Status of this Memo

   This memo provides information for the Internet community.  This memo
   does not specify an Internet standard of any kind.  Distribution of
   this memo is unlimited.

Introduction

   In an earlier memo [<a href="/doc/html/rfc1701">RFC 1701</a>], we described GRE, a mechanism for
   encapsulating arbitrary packets within an arbitrary transport
   protocol.  This is a companion memo which describes the use of GRE
   with IP.  This memo addresses the case of using IP as the delivery
   protocol or the payload protocol and the special case of IP as both
   the delivery and payload.  This memo also describes using IP
   addresses and autonomous system numbers as part of a GRE source
   route.

IP as a delivery protocol

   GRE packets which are encapsulated within IP will use IP protocol
   type 47.

IP as a payload protocol

   IP packets will be encapsulated with a Protocol Type field of 0x800.

   For the Address Family value of 0x800, the Routing Information field
   will consist of a list of IP addresses and indicates an IP source
   route.  The first octet of the Routing Information field constitute a
   8 bit integer offset from the start of the Source Route Entry (SRE),
   called the SRE Offset.  The SRE Offset indicates the first octet of
   the next IP address.  The SRE Length field consists of the total
   length of the IP Address List in octets.







<span class="grey">Hanks, Li, Farinacci &amp; Traina                                   [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc1702">RFC 1702</a>                 GRE over IPv4 networks             October 1994</span>


   This has the form:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Address Family         |  SRE Offset   |  SRE Length   |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                        IP Address List ...
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   For the Address Family value of 0xfffe, the Routing Information field
   will consist of a list of Autonomous System numbers and indicates an
   AS source route.  The third octet of the Routing Information field
   contains an 8 bit unsigned integer offset from the start of the
   Source Route Entry (SRE), called the SRE Offset.  The SRE Offset
   indicates the first octet of the next AS number.  THe SRE Length
   field consists of the total length of the AS Number list in octets.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Address Family         |  SRE Offset   |  SRE Length   |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                         AS Number List ...
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

IP as both delivery and payload protocol

   When IP is encapsulated in IP, the TTL, TOS, and IP security options
   MAY be copied from the payload packet into the same fields in the
   delivery packet.  The payload packet&#x27;s TTL MUST be decremented when
   the packet is decapsulated to insure that no packet lives forever.

IP source routes

   When a system is processing a SRE with an Address Family indicating
   an IP source route, it MUST use the SRE Offset to determine the next
   destination IP address.  If the next IP destination is this system,
   the SRE Offset field should be increased by four (the size of an IP
   address).  If the SRE Offset is equal to the SRE Length in this SRE,
   then the Offset field in the GRE header should be adjusted to point
   to the next SRE (if any).  This should be repeated until the next IP
   destination is not this system or until the entire SRE has been
   processed.

   If the source route is incomplete, then the Strict Source Route bit
   is checked.  If the source route is a strict source route and the
   next IP destination is NOT an adjacent system, the packet MUST be



<span class="grey">Hanks, Li, Farinacci &amp; Traina                                   [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc1702">RFC 1702</a>                 GRE over IPv4 networks             October 1994</span>


   dropped.  Otherwise, the system should use the IP address indicated
   by the Offset field to replace the destination address in the
   delivery header and forward the packet.

Autonomous system source routes

   When a system is processing a SRE with an Address Family indicating
   an AS source route, it MUST use the SRE Offset field to determine the
   next autonomous system.  If the next autonomous system is the local
   autonomous system, the SRE Offset field should be increased by two
   (the size of an autonomous system number).  If the SRE Offset is
   equal to the SRE Length in this SRE, then the Offset field in the GRE
   header should be adjusted to point to the next SRE (if any).  This
   should be repeated until the next autonomous system number is not
   equal to the local autonomous system number or until the entire SRE
   has been processed.

   If the source route is incomplete, then the Strict Source Route bit
   is checked.  If the source route is a strict source route and the
   next autonomous system is NOT an adjacent autonomous system, the
   packet should be dropped.  Otherwise, the system should use the
   autonomous system number indicated by the SRE Offset field to replace
   the destination address in the delivery header and forward the
   packet.  The exact mechanism for determining the next delivery
   destination address given the AS number is outside of the scope of
   this document.

Security Considerations

   Security issues are not discussed in this memo.





















<span class="grey">Hanks, Li, Farinacci &amp; Traina                                   [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc1702">RFC 1702</a>                 GRE over IPv4 networks             October 1994</span>


Authors&#x27; Addresses

   Stan Hanks
   NetSmiths, Ltd.
   2025 Lincoln Highway
   Edison, NJ 08817

   EMail: stan@netsmiths.com


   Tony Li
   cisco Systems, Inc.
   1525 O&#x27;Brien Drive
   Menlo Park, CA 94025

   EMail: tli@cisco.com


   Dino Farinacci
   cisco Systems, Inc.
   1525 O&#x27;Brien Drive
   Menlo Park, CA 94025

   EMail: dino@cisco.com


   Paul Traina
   cisco Systems, Inc.
   1525 O&#x27;Brien Drive
   Menlo Park, CA 94025

   EMail: pst@cisco.com

References

   <a href="/doc/html/rfc1701">RFC 1701</a>
      Hanks, S., Li, T, Farinacci, D., and P. Traina, &quot;Generic Routing
      Encapsulation&quot;, <a href="/doc/html/rfc1701">RFC 1701</a>, NetSmiths, Ltd., and cisco Systems,
      October 1994.












Hanks, Li, Farinacci &amp; Traina                                   [Page 4]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

