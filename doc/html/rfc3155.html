<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc3155
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-pilc-error/">
  <meta name="description" content="End-to-end Performance Implications of Links with Errors (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgmagenta"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc3155.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc3155.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc3155.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc3155/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc3155/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/pilc/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-pilc-error@ietf.org?subject=draft-ietf-pilc-error" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-pilc-error-08.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-pilc-error-08.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-pilc-error-08.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-pilc-error-08">draft-ietf-pilc-error-08</a>                     Best Current Practice</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                         S. Dawkins
Request for Comments: 3155                                 G. Montenegro
BCP: 50                                                          M. Kojo
Category: Best Current Practice                                V. Magret
                                                               N. Vaidya
                                                             August 2001


        <span class="h1">End-to-end Performance Implications of Links with Errors</span>

Status of this Memo

   This document specifies an Internet Best Current Practices for the
   Internet Community, and requests discussion and suggestions for
   improvements.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2001).  All Rights Reserved.

Abstract

   This document discusses the specific TCP mechanisms that are
   problematic in environments with high uncorrected error rates, and
   discusses what can be done to mitigate the problems without
   introducing intermediate devices into the connection.

Table of Contents

   <a href="#section-1.0">1.0</a> Introduction .............................................    <a href="#page-2">2</a>
      <a href="#section-1.1">1.1</a> Should you be reading this recommendation?  ...........    <a href="#page-3">3</a>
      <a href="#section-1.2">1.2</a> Relationship of this recommendation to PEPs ...........    <a href="#page-4">4</a>
      1.3 Relationship of this recommendation to Link Layer
          Mechanisms.............................................    <a href="#page-4">4</a>
   <a href="#section-2.0">2.0</a> Errors and Interactions with TCP Mechanisms ..............    <a href="#page-5">5</a>
      <a href="#section-2.1">2.1</a> Slow Start and Congestion Avoidance [<a href="/doc/html/rfc2581">RFC2581</a>] .........    <a href="#page-5">5</a>
      <a href="#section-2.2">2.2</a> Fast Retransmit and Fast Recovery [<a href="/doc/html/rfc2581">RFC2581</a>] ...........    <a href="#page-6">6</a>
      <a href="#section-2.3">2.3</a> Selective Acknowledgements [RFC2018, <a href="/doc/html/rfc2883">RFC2883</a>] .........    <a href="#page-7">7</a>
   <a href="#section-3.0">3.0</a> Summary of Recommendations ...............................    <a href="#page-8">8</a>
   <a href="#section-4.0">4.0</a> Topics For Further Work ..................................    <a href="#page-9">9</a>
      <a href="#section-4.1">4.1</a> Achieving, and maintaining, large windows .............   <a href="#page-10">10</a>
   <a href="#section-5.0">5.0</a> Security Considerations ..................................   <a href="#page-11">11</a>
   <a href="#section-6.0">6.0</a> IANA Considerations ......................................   <a href="#page-11">11</a>
   <a href="#section-7.0">7.0</a> Acknowledgements .........................................   <a href="#page-11">11</a>
   References ...................................................   <a href="#page-11">11</a>
   Authors&#x27; Addresses ...........................................   <a href="#page-14">14</a>
   Full Copyright Statement .....................................   <a href="#page-16">16</a>




<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


<span class="h3"><a class="selflink" id="section-1.0" href="#section-1.0">1.0</a> Introduction</span>

   The rapidly-growing Internet is being accessed by an increasingly
   wide range of devices over an increasingly wide variety of links.  At
   least some of these links do not provide the degree of reliability
   that hosts expect, and this expansion into unreliable links causes
   some Internet protocols, especially TCP [<a href="/doc/html/rfc793">RFC793</a>], to perform poorly.

   Specifically, TCP congestion control [<a href="/doc/html/rfc2581">RFC2581</a>], while appropriate for
   connections that lose traffic primarily because of congestion and
   buffer exhaustion, interacts badly with uncorrected errors when TCP
   connections traverse links with high uncorrected error rates.  The
   result is that sending TCPs may spend an excessive amount of time
   waiting for acknowledgement that do not arrive, and then, although
   these losses are not due to congestion-related buffer exhaustion, the
   sending TCP transmits at substantially reduced traffic levels as it
   probes the network to determine &quot;safe&quot; traffic levels.

   This document does not address issues with other transport protocols,
   for example, UDP.

   Congestion avoidance in the Internet is based on an assumption that
   most packet losses are due to congestion.  TCP&#x27;s congestion avoidance
   strategy treats the absence of acknowledgement as a congestion
   signal.  This has worked well since it was introduced in 1988 [VJ-
   DCAC], because most links and subnets have relatively low error rates
   in normal operation, and congestion is the primary cause of loss in
   these environments.  However, links and subnets that do not enjoy low
   uncorrected error rates are becoming more prevalent in parts of the
   Internet.  In particular, these include terrestrial and satellite
   wireless links.  Users relying on traffic traversing these links may
   see poor performance because their TCP connections are spending
   excessive time in congestion avoidance and/or slow start procedures
   triggered by packet losses due to transmission errors.

   The recommendations in this document aim at improving utilization of
   available path capacity over such high error-rate links in ways that
   do not threaten the stability of the Internet.

   Applications use TCP in very different ways, and these have
   interactions with TCP&#x27;s behavior [<a href="/doc/html/rfc2861">RFC2861</a>].  Nevertheless, it is
   possible to make some basic assumptions about TCP flows.
   Accordingly, the mechanisms discussed here are applicable to all uses
   of TCP, albeit in varying degrees according to different scenarios
   (as noted where appropriate).






<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   This recommendation is based on the explicit assumption that major
   changes to the entire installed base of routers and hosts are not a
   practical possibility.  This constrains any changes to hosts that are
   directly affected by errored links.

<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a> Should you be reading this recommendation?</span>

   All known subnetwork technologies provide an &quot;imperfect&quot; subnetwork
   service - the bit error rate is non-zero.  But there&#x27;s no obvious way
   for end stations to tell the difference between packets discarded due
   to congestion and losses due to transmission errors.

   If a directly-attached subnetwork is reporting transmission errors to
   a host, these reports matter, but we can&#x27;t rely on explicit
   transmission error reports to both hosts.

   Another way of deciding if a subnetwork should be considered to have
   a &quot;high error rate&quot; is by appealing to mathematics.

   An approximate formula for the TCP Reno response function is given in
   [<a href="#ref-PFTK98">PFTK98</a>]:

                                s
   T = --------------------------------------------------
       RTT*sqrt(2p/3) + tRTO*(3*sqrt(3p/8))*p*(1 + 32p**2)

   where

       T = the sending rate in bytes per second
       s = the packet size in bytes
       RTT = round-trip time in seconds
       tRTO = TCP retransmit timeout value in seconds
       p = steady-state packet loss rate

   If one plugs in an observed packet loss rate, does the math and then
   sees predicted bandwidth utilization that is greater than the link
   speed, the connection will not benefit from recommendations in this
   document, because the level of packet losses being encountered won&#x27;t
   affect the ability of TCP to utilize the link.  If, however, the
   predicted bandwidth is less than the link speed, packet losses are
   affecting the ability of TCP to utilize the link.

   If further investigation reveals a subnetwork with significant
   transmission error rates, the recommendations in this document will
   improve the ability of TCP to utilize the link.






<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   A few caveats are in order, when doing this calculation:

   (1)   the RTT is the end-to-end RTT, not the link RTT.
   (2)   Max(1.0, 4*RTT) can be substituted as a simplification for
         tRTO.
   (3)   losses may be bursty - a loss rate measured over an interval
         that includes multiple bursty loss events may understate the
         impact of these loss events on the sending rate.

<span class="h3"><a class="selflink" id="section-1.2" href="#section-1.2">1.2</a> Relationship of this recommendation to PEPs</span>

   This document discusses end-to-end mechanisms that do not require
   TCP-level awareness by intermediate nodes.  This places severe
   limitations on what the end nodes can know about the nature of losses
   that are occurring between the end nodes.  Attempts to apply
   heuristics to distinguish between congestion and transmission error
   have not been successful [<a href="#ref-BV97">BV97</a>, <a href="#ref-BV98">BV98</a>, <a href="#ref-BV98a">BV98a</a>].  This restriction is
   relaxed in an informational document on Performance Enhancing Proxies
   (PEPs) [<a href="/doc/html/rfc3135">RFC3135</a>]. Because PEPs can be placed on boundaries where
   network characteristics change dramatically, PEPs have an additional
   opportunity to improve performance over links with uncorrected
   errors.

   However, generalized use of PEPs contravenes the end-to-end principle
   and is highly undesirable given their deleterious implications, which
   include the following: lack of fate sharing (a PEP adds a third point
   of failure besides the endpoints themselves), end-to-end reliability
   and diagnostics, preventing end-to-end security (particularly network
   layer security such as IPsec), mobility (handoffs are much more
   complex because state must be transferred), asymmetric routing (PEPs
   typically require being on both the forward and reverse paths of a
   connection), scalability (PEPs add more state to maintain), QoS
   transparency and guarantees.

   Not every type of PEP has all the drawbacks listed above.
   Nevertheless, the use of PEPs may have very serious consequences
   which must be weighed carefully.

<span class="h3"><a class="selflink" id="section-1.3" href="#section-1.3">1.3</a> Relationship of this recommendation to Link Layer Mechanisms</span>

   This recommendation is for use with TCP over subnetwork technologies
   (link layers) that have already been deployed.  Subnetworks that are
   intended to carry Internet protocols, but have not been completely
   specified are the subject of a best common practices (BCP) document
   which has been developed or is under development by the Performance






<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   Implications of Link Characteristics WG (PILC) [<a href="#ref-PILC-WEB">PILC-WEB</a>].  This last
   document is aimed at designers who still have the opportunity to
   reduce the number of uncorrected errors TCP will encounter.

<span class="h3"><a class="selflink" id="section-2.0" href="#section-2.0">2.0</a> Errors and Interactions with TCP Mechanisms</span>

   A TCP sender adapts its use of network path capacity based on
   feedback from the TCP receiver.  As TCP is not able to distinguish
   between losses due to congestion and losses due to uncorrected
   errors, it is not able to accurately determine available path
   capacity in the presence of significant uncorrected errors.

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a> Slow Start and Congestion Avoidance [<a href="/doc/html/rfc2581">RFC2581</a>]</span>

   Slow Start and Congestion Avoidance [<a href="/doc/html/rfc2581">RFC2581</a>] are essential to the
   current stability of the Internet.  These mechanisms were designed to
   accommodate networks that do not provide explicit congestion
   notification.  Although experimental mechanisms such as [<a href="/doc/html/rfc2481">RFC2481</a>] are
   moving in the direction of explicit congestion notification, the
   effect of ECN on ECN-aware TCPs is essentially the same as the effect
   of implicit congestion notification through congestion-related loss,
   except that ECN provides this notification before packets are lost,
   and must then be retransmitted.

   TCP connections experiencing high error rates on their paths interact
   badly with Slow Start and with Congestion Avoidance, because high
   error rates make the interpretation of losses ambiguous - the sender
   cannot know whether detected losses are due to congestion or to data
   corruption.  TCP makes the &quot;safe&quot; choice and assumes that the losses
   are due to congestion.

      -  Whenever sending TCPs receive three out-of-order
         acknowledgement, they assume the network is mildly congested
         and invoke fast retransmit/fast recovery (described below).

      -  Whenever TCP&#x27;s retransmission timer expires, the sender assumes
         that the network is congested and invokes slow start.

      -  Less-reliable link layers often use small link MTUs.  This
         slows the rate of increase in the sender&#x27;s window size during
         slow start, because the sender&#x27;s window is increased in units
         of segments.  Small link MTUs alone don&#x27;t improve reliability.
         Path MTU discovery [<a href="/doc/html/rfc1191">RFC1191</a>] must also be used to prevent
         fragmentation.  Path MTU discovery allows the most rapid
         opening of the sender&#x27;s window size during slow start, but a
         number of round trips may still be required to open the window
         completely.




<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   Recommendation: Any standards-conformant TCP will implement Slow
   Start and Congestion Avoidance, which are MUSTs in STD 3 [<a href="/doc/html/rfc1122">RFC1122</a>].
   Recommendations in this document will not interfere with these
   mechanisms.

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a> Fast Retransmit and Fast Recovery [<a href="/doc/html/rfc2581">RFC2581</a>]</span>

   TCP provides reliable delivery of data as a byte-stream to an
   application, so that when a segment is lost (whether due to either
   congestion or transmission loss), the receiver TCP implementation
   must wait to deliver data to the receiving application until the
   missing data is received.  The receiver TCP implementation detects
   missing segments by segments arriving with out-of-order sequence
   numbers.

   TCPs should immediately send an acknowledgement when data is received
   out-of-order [<a href="/doc/html/rfc2581">RFC2581</a>], providing the next expected sequence number
   with no delay, so that the sender can retransmit the required data as
   quickly as possible and the receiver can resume delivery of data to
   the receiving application.  When an acknowledgement carries the same
   expected sequence number as an acknowledgement that has already been
   sent for the last in-order segment received, these acknowledgement
   are called &quot;duplicate ACKs&quot;.

   Because IP networks are allowed to reorder packets, the receiver may
   send duplicate acknowledgments for segments that arrive out of order
   due to routing changes, link-level retransmission, etc.  When a TCP
   sender receives three duplicate ACKs, fast retransmit [<a href="/doc/html/rfc2581">RFC2581</a>]
   allows it to infer that a segment was lost.  The sender retransmits
   what it considers to be this lost segment without waiting for the
   full retransmission timeout, thus saving time.

   After a fast retransmit, a sender halves its congestion window and
   invokes the fast recovery [<a href="/doc/html/rfc2581">RFC2581</a>] algorithm, whereby it invokes
   congestion avoidance from a halved congestion window, but does not
   invoke slow start from a one-segment congestion window as it would do
   after a retransmission timeout.  As the sender is still receiving
   dupacks, it knows the receiver is receiving packets sent, so the full
   reduction after a timeout when no communication has been received is
   not called for.  This relatively safe optimization also saves time.

   It is important to be realistic about the maximum throughput that TCP
   can have over a connection that traverses a high error-rate link.  In
   general, TCP will increase its congestion window beyond the delay-
   bandwidth product.  TCP&#x27;s congestion avoidance strategy is additive-
   increase, multiplicative-decrease, which means that if additional
   errors are encountered before the congestion window recovers
   completely from a 50-percent reduction, the effect can be a &quot;downward



<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   spiral&quot; of the congestion window due to additional 50-percent
   reductions.  Even using Fast Retransmit/Fast Recovery, the sender
   will halve the congestion window each time a window contains one or
   more segments that are lost, and will re-open the window by one
   additional segment for each congestion window&#x27;s worth of
   acknowledgement received.

   If a connection&#x27;s path traverses a link that loses one or more
   segments during this recovery period, the one-half reduction takes
   place again, this time on a reduced congestion window - and this
   downward spiral will continue to hold the congestion window below
   path capacity until the connection is able to recover completely by
   additive increase without experiencing loss.

   Of course, no downward spiral occurs if the error rate is constantly
   high and the congestion window always remains small; the
   multiplicative-increase &quot;slow start&quot; will be exited early, and the
   congestion window remains low for the duration of the TCP connection.
   In links with high error rates, the TCP window may remain rather
   small for long periods of time.

   Not all causes of small windows are related to errors.  For example,
   HTTP/1.0 commonly closes TCP connections to indicate boundaries
   between requested resources.  This means that these applications are
   constantly closing &quot;trained&quot; TCP connections and opening &quot;untrained&quot;
   TCP connections which will execute slow start, beginning with one or
   two segments.  This can happen even with HTTP/1.1, if webmasters
   configure their HTTP/1.1 servers to close connections instead of
   waiting to see if the connection will be useful again.

   A small window - especially a window of less than four segments -
   effectively prevents the sender from taking advantage of Fast
   Retransmits.  Moreover, efficient recovery from multiple losses
   within a single window requires adoption of new proposals (NewReno
   [<a href="/doc/html/rfc2582">RFC2582</a>]).

   Recommendation: Implement Fast Retransmit and Fast Recovery at this
   time.  This is a widely-implemented optimization and is currently at
   Proposed Standard level.  [<a href="/doc/html/rfc2488">RFC2488</a>] recommends implementation of Fast
   Retransmit/Fast Recovery in satellite environments.

<span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a> Selective Acknowledgements [RFC2018, <a href="/doc/html/rfc2883">RFC2883</a>]</span>

   Selective Acknowledgements [<a href="/doc/html/rfc2018">RFC2018</a>] allow the repair of multiple
   segment losses per window without requiring one (or more) round-trips
   per loss.





<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   [<a id="ref-RFC2883">RFC2883</a>] proposes a minor extension to SACK that allows receiving
   TCPs to provide more information about the order of delivery of
   segments, allowing &quot;more robust operation in an environment of
   reordered packets, ACK loss, packet replication, and/or early
   retransmit timeouts&quot;.  Unless explicitly stated otherwise, in this
   document, &quot;Selective Acknowledgements&quot; (or &quot;SACK&quot;) refers to the
   combination of [<a href="/doc/html/rfc2018">RFC2018</a>] and [<a href="/doc/html/rfc2883">RFC2883</a>].

   Selective acknowledgments are most useful in LFNs (&quot;Long Fat
   Networks&quot;) because of the long round trip times that may be
   encountered in these environments, according to <a href="/doc/html/rfc1323#section-1.1">Section&nbsp;1.1 of
   [RFC1323]</a>, and are especially useful if large windows are required,
   because there is a higher probability of multiple segment losses per
   window.

   On the other hand, if error rates are generally low but occasionally
   higher due to channel conditions, TCP will have the opportunity to
   increase its window to larger values during periods of improved
   channel conditions between bursts of errors.  When bursts of errors
   occur, multiple losses within a window are likely to occur.  In this
   case, SACK would provide benefits in speeding the recovery and
   preventing unnecessary reduction of the window size.

   Recommendation: Implement SACK as specified in [<a href="/doc/html/rfc2018">RFC2018</a>] and updated
   by [<a href="/doc/html/rfc2883">RFC2883</a>], both Proposed Standards.  In cases where SACK cannot be
   enabled for both sides of a connection, TCP senders may use NewReno
   [<a href="/doc/html/rfc2582">RFC2582</a>] to better handle partial ACKs and multiple losses within a
   single window.

<span class="h3"><a class="selflink" id="section-3.0" href="#section-3.0">3.0</a> Summary of Recommendations</span>

   The Internet does not provide a widely-available loss feedback
   mechanism that allows TCP to distinguish between congestion loss and
   transmission error.  Because congestion affects all traffic on a path
   while transmission loss affects only the specific traffic
   encountering uncorrected errors, avoiding congestion has to take
   precedence over quickly repairing transmission errors.  This means
   that the best that can be achieved without new feedback mechanisms is
   minimizing the amount of time that is spent unnecessarily in
   congestion avoidance.

   The Fast Retransmit/Fast Recovery mechanism allows quick repair of
   loss without giving up the safety of congestion avoidance.  In order
   for Fast Retransmit/Fast Recovery to work, the window size must be
   large enough to force the receiver to send three duplicate
   acknowledgments before the retransmission timeout interval expires,
   forcing full TCP slow-start.




<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   Selective Acknowledgements (SACK) extend the benefit of Fast
   Retransmit/Fast Recovery to situations where multiple segment losses
   in the window need to be repaired more quickly than can be
   accomplished by executing Fast Retransmit for each segment loss, only
   to discover the next segment loss.

   These mechanisms are not limited to wireless environments.  They are
   usable in all environments.

<span class="h3"><a class="selflink" id="section-4.0" href="#section-4.0">4.0</a> Topics For Further Work</span>

   &quot;Limited Transmit&quot; [<a href="/doc/html/rfc3042">RFC3042</a>] has been specified as an optimization
   extending Fast Retransmit/Fast Recovery for TCP connections with
   small congestion windows that will not trigger three duplicate
   acknowledgments.  This specification is deemed safe, and it also
   provides benefits for TCP connections that experience a large amount
   of packet (data or ACK) loss.  Implementors should evaluate this
   standards track specification for TCP in loss environments.

   Delayed Duplicate Acknowledgements [<a href="#ref-MV97">MV97</a>, <a href="#ref-VMPM99">VMPM99</a>] attempts to prevent
   TCP-level retransmission when link-level retransmission is still in
   progress, adding additional traffic to the network.  This proposal is
   worthy of additional study, but is not recommended at this time,
   because we don&#x27;t know how to calculate appropriate amounts of delay
   for an arbitrary network topology.

   It is not possible to use explicit congestion notification [<a href="/doc/html/rfc2481">RFC2481</a>]
   as a surrogate for explicit transmission error notification (no
   matter how much we wish it was!).  Some mechanism to provide explicit
   notification of transmission error would be very helpful.  This might
   be more easily provided in a PEP environment, especially when the PEP
   is the &quot;first hop&quot; in a connection path, because current checksum
   mechanisms do not distinguish between transmission error to a payload
   and transmission error to the header.  Furthermore, if the header is
   damaged, sending explicit transmission error notification to the
   right endpoint is problematic.

   Losses that take place on the ACK stream, especially while a TCP is
   learning network characteristics, can make the data stream quite
   bursty (resulting in losses on the data stream, as well).  Several
   ways of limiting this burstiness have been proposed, including TCP
   transmit pacing at the sender and ACK rate control within the
   network.

   &quot;Appropriate Byte Counting&quot; (ABC) [<a href="#ref-ALL99">ALL99</a>], has been proposed as a way
   of opening the congestion window based on the number of bytes that
   have been successfully transfered to the receiver, giving more
   appropriate behavior for application protocols that initiate



<span class="grey">Dawkins, et al.          Best Current Practice                  [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   connections with relatively short packets.  For SMTP [<a href="/doc/html/rfc2821">RFC2821</a>], for
   instance, the client might send a short HELO packet, a short MAIL
   packet, one or more short RCPT packets, and a short DATA packet -
   followed by the entire mail body sent as maximum-length packets.  An
   ABC TCP sender would not use ACKs for each of these short packets to
   increase the congestion window to allow additional full-length
   packets.  ABC is worthy of additional study, but is not recommended
   at this time, because ABC can lead to increased burstiness when
   acknowledgments are lost.

<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a> Achieving, and maintaining, large windows</span>

   The recommendations described in this document will aid TCPs in
   injecting packets into ERRORed connections as fast as possible
   without destabilizing the Internet, and so optimizing the use of
   available bandwidth.

   In addition to these TCP-level recommendations, there is still
   additional work to do at the application level, especially with the
   dominant application protocol on the World Wide Web, HTTP.

   HTTP/1.0 (and earlier versions) closes TCP connections to signal a
   receiver that all of a requested resource had been transmitted.
   Because WWW objects tend to be small in size [<a href="#ref-MOGUL">MOGUL</a>], TCPs carrying
   HTTP/1.0 traffic experience difficulty in &quot;training&quot; on available
   path capacity (a substantial portion of the transfer has already
   happened by the time TCP exits slow start).

   Several HTTP modifications have been introduced to improve this
   interaction with TCP (&quot;persistent connections&quot; in HTTP/1.0, with
   improvements in HTTP/1.1 [<a href="/doc/html/rfc2616">RFC2616</a>]).  For a variety of reasons, many
   HTTP interactions are still HTTP/1.0-style - relatively short-lived.

   Proposals which reuse TCP congestion information across connections,
   like TCP Control Block Interdependence [<a href="/doc/html/rfc2140">RFC2140</a>], or the more recent
   Congestion Manager [<a href="#ref-BS00">BS00</a>] proposal, will have the effect of making
   multiple parallel connections impact the network as if they were a
   single connection, &quot;trained&quot; after a single startup transient.  These
   proposals are critical to the long-term stability of the Internet,
   because today&#x27;s users always have the choice of clicking on the
   &quot;reload&quot; button in their browsers and cutting off TCP&#x27;s exponential
   backoff - replacing connections which are building knowledge of the
   available bandwidth with connections with no knowledge at all.








<span class="grey">Dawkins, et al.          Best Current Practice                 [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


<span class="h3"><a class="selflink" id="section-5.0" href="#section-5.0">5.0</a> Security Considerations</span>

   A potential vulnerability introduced by Fast Retransmit/Fast Recovery
   is (as pointed out in [<a href="/doc/html/rfc2581">RFC2581</a>]) that an attacker may force TCP
   connections to grind to a halt, or, more dangerously, behave more
   aggressively.  The latter possibility may lead to congestion
   collapse, at least in some regions of the network.

   Selective acknowledgments is believed to neither strengthen nor
   weaken TCP&#x27;s current security properties [<a href="/doc/html/rfc2018">RFC2018</a>].

   Given that the recommendations in this document are performed on an
   end-to-end basis, they continue working even in the presence of end-
   to-end IPsec.  This is in direct contrast with mechanisms such as
   PEP&#x27;s which are implemented in intermediate nodes (<a href="#section-1.2">section 1.2</a>).

<span class="h3"><a class="selflink" id="section-6.0" href="#section-6.0">6.0</a> IANA Considerations</span>

   This document is a pointer to other, existing IETF standards.  There
   are no new IANA considerations.

<span class="h3"><a class="selflink" id="section-7.0" href="#section-7.0">7.0</a> Acknowledgements</span>

   This recommendation has grown out of <a href="/doc/html/rfc2757">RFC 2757</a>, &quot;Long Thin Networks&quot;,
   which was in turn based on work done in the IETF TCPSAT working
   group.  The authors are indebted to the active members of the PILC
   working group.  In particular, Mark Allman and Lloyd Wood gave us
   copious and insightful feedback, and Dan Grossman and Jamshid Mahdavi
   provided text replacements.

References

   [<a id="ref-ALL99">ALL99</a>]    M. Allman, &quot;TCP Byte Counting Refinements,&quot; ACM Computer
              Communication Review, Volume 29, Number 3, July 1999.
              <a href="http://www.acm.org/sigcomm/ccr/archive/ccr-toc/ccr-toc-99.html">http://www.acm.org/sigcomm/ccr/archive/ccr-toc/ccr-toc-</a>
              <a href="http://www.acm.org/sigcomm/ccr/archive/ccr-toc/ccr-toc-99.html">99.html</a>

   [<a id="ref-BS00">BS00</a>]     Balakrishnan, H. and S. Seshan, &quot;The Congestion Manager&quot;,
              <a href="/doc/html/rfc3124">RFC 3124</a>, June 2001.

   [<a id="ref-BV97">BV97</a>]     S. Biaz and N. Vaidya, &quot;Using End-to-end Statistics to
              Distinguish Congestion and Corruption Losses: A Negative
              Result,&quot; Texas A&amp;M University, Technical Report 97-009,
              August 18, 1997.







<span class="grey">Dawkins, et al.          Best Current Practice                 [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   [<a id="ref-BV98">BV98</a>]     S. Biaz and N. Vaidya, &quot;Sender-Based heuristics for
              Distinguishing Congestion Losses from Wireless
              Transmission Losses,&quot; Texas A&amp;M University, Technical
              Report 98-013, June 1998.

   [<a id="ref-BV98a">BV98a</a>]    S. Biaz and N. Vaidya, &quot;Discriminating Congestion Losses
              from Wireless Losses using Inter-Arrival Times at the
              Receiver,&quot; Texas A&amp;M University, Technical Report 98-014,
              June 1998.

   [<a id="ref-MOGUL">MOGUL</a>]    &quot;The Case for Persistent-Connection HTTP&quot;, J. C. Mogul,
              Research Report 95/4, May 1995. Available as
              <a href="http://www.research.digital.com/wrl/techreports/abstracts/95.4.html">http://www.research.digital.com/wrl/techreports/abstracts/</a>
              <a href="http://www.research.digital.com/wrl/techreports/abstracts/95.4.html">95.4.html</a>

   [<a id="ref-MV97">MV97</a>]     M. Mehta and N. Vaidya, &quot;Delayed Duplicate-
              Acknowledgements:  A Proposal to Improve Performance of
              TCP on Wireless Links,&quot; Texas A&amp;M University, December 24,
              1997.  Available at
              <a href="http://www.cs.tamu.edu/faculty/vaidya/mobile.html">http://www.cs.tamu.edu/faculty/vaidya/mobile.html</a>

   [<a id="ref-PILC-WEB">PILC-WEB</a>] <a href="http://pilc.grc.nasa.gov/">http://pilc.grc.nasa.gov/</a>

   [<a id="ref-PFTK98">PFTK98</a>]   Padhye, J., Firoiu, V., Towsley, D. and J.Kurose, &quot;TCP
              Throughput: A simple model and its empirical validation&quot;,
              SIGCOMM Symposium on Communications Architectures and
              Protocols, August 1998.

   [<a id="ref-RFC793">RFC793</a>]   Postel, J., &quot;Transmission Control Protocol&quot;, STD 7, <a href="/doc/html/rfc793">RFC</a>
              <a href="/doc/html/rfc793">793</a>, September 1981.

   [<a id="ref-RFC2821">RFC2821</a>]  Klensin, J., Editor, &quot;Simple Mail Transfer Protocol&quot;, <a href="/doc/html/rfc2821">RFC</a>
              <a href="/doc/html/rfc2821">2821</a>, April 2001.

   [<a id="ref-RFC1122">RFC1122</a>]  Braden, R., &quot;Requirements for Internet Hosts --
              Communication Layers&quot;, STD 3, <a href="/doc/html/rfc1122">RFC 1122</a>, October 1989.

   [<a id="ref-RFC1191">RFC1191</a>]  Mogul J., and S. Deering, &quot;Path MTU Discovery&quot;, <a href="/doc/html/rfc1191">RFC 1191</a>,
              November 1990.

   [<a id="ref-RFC1323">RFC1323</a>]  Jacobson, V., Braden, R. and D. Borman. &quot;TCP Extensions
              for High Performance&quot;, <a href="/doc/html/rfc1323">RFC 1323</a>, May 1992.

   [<a id="ref-RFC2018">RFC2018</a>]  Mathis, M., Mahdavi, J., Floyd, S. and A. Romanow &quot;TCP
              Selective Acknowledgment Options&quot;, <a href="/doc/html/rfc2018">RFC 2018</a>, October 1996.

   [<a id="ref-RFC2140">RFC2140</a>]  Touch, J., &quot;TCP Control Block Interdependence&quot;, <a href="/doc/html/rfc2140">RFC 2140</a>,
              April 1997.



<span class="grey">Dawkins, et al.          Best Current Practice                 [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   [<a id="ref-RFC2309">RFC2309</a>]  Braden, B., Clark, D., Crowcrfot, J., Davie, B., Deering,
              S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G.,
              Partridge, C., Peterson, L., Ramakrishnan, K., Shecker,
              S., Wroclawski, J. and L, Zhang, &quot;Recommendations on Queue
              Management and Congestion Avoidance in the Internet&quot;, <a href="/doc/html/rfc2309">RFC</a>
              <a href="/doc/html/rfc2309">2309</a>, April 1998.

   [<a id="ref-RFC2481">RFC2481</a>]  Ramakrishnan K. and S. Floyd, &quot;A Proposal to add Explicit
              Congestion Notification (ECN) to IP&quot;, <a href="/doc/html/rfc2481">RFC 2481</a>, January
              1999.

   [<a id="ref-RFC2488">RFC2488</a>]  Allman, M., Glover, D. and L. Sanchez. &quot;Enhancing TCP Over
              Satellite Channels using Standard Mechanisms&quot;, <a href="/doc/html/bcp28">BCP 28</a>, <a href="/doc/html/rfc2488">RFC</a>
              <a href="/doc/html/rfc2488">2488</a>, January 1999.

   [<a id="ref-RFC2581">RFC2581</a>]  Allman, M., Paxson, V. and W. Stevens, &quot;TCP Congestion
              Control&quot;, <a href="/doc/html/rfc2581">RFC 2581</a>, April 1999.

   [<a id="ref-RFC2582">RFC2582</a>]  Floyd, S. and T. Henderson, &quot;The NewReno Modification to
              TCP&#x27;s Fast Recovery Algorithm&quot;, <a href="/doc/html/rfc2582">RFC 2582</a>, April 1999.

   [<a id="ref-RFC2616">RFC2616</a>]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
              Masinter, L., Leach P. and T. Berners-Lee, &quot;Hypertext
              Transfer Protocol -- HTTP/1.1&quot;, <a href="/doc/html/rfc2616">RFC 2616</a>, June 1999.

   [<a id="ref-RFC2861">RFC2861</a>]  Handley, H., Padhye, J. and S., Floyd, &quot;TCP Congestion
              Window Validation&quot;, <a href="/doc/html/rfc2861">RFC 2861</a>, June 2000.

   [<a id="ref-RFC2883">RFC2883</a>]  Floyd, S., Mahdavi, M., Mathis, M. and M. Podlosky, &quot;An
              Extension to the Selective Acknowledgement (SACK) Option
              for TCP&quot;, <a href="/doc/html/rfc2883">RFC 2883</a>, August 1999.

   [<a id="ref-RFC2923">RFC2923</a>]  Lahey, K., &quot;TCP Problems with Path MTU Discovery&quot;, <a href="/doc/html/rfc2923">RFC</a>
              <a href="/doc/html/rfc2923">2923</a>, September 2000.

   [<a id="ref-RFC3042">RFC3042</a>]  Allman, M., Balakrishnan, H. and S. Floyd, &quot;Enhancing
              TCP&#x27;s Loss Recovery Using Limited Transmit&quot;, <a href="/doc/html/rfc3042">RFC 3042</a>,
              January, 2001.

   [<a id="ref-RFC3135">RFC3135</a>]  Border, J., Kojo, M., Griner, J., Montenegro, G. and Z.
              Shelby, &quot;Performance Enhancing Proxies Intended to
              Mitigate Link-Related Degradations&quot;, <a href="/doc/html/rfc3135">RFC 3135</a>, June 2001.

   [<a id="ref-VJ-DCAC">VJ-DCAC</a>]  Jacobson, V., &quot;Dynamic Congestion Avoidance / Control&quot; e-
              mail dated February 11, 1988, available from
              <a href="http://www.kohala.com/~rstevens/vanj.88feb11.txt">http://www.kohala.com/~rstevens/vanj.88feb11.txt</a>





<span class="grey">Dawkins, et al.          Best Current Practice                 [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   [<a id="ref-VMPM99">VMPM99</a>]   N. Vaidya, M. Mehta, C. Perkins, and G. Montenegro,
              &quot;Delayed Duplicate Acknowledgements: A TCP-Unaware
              Approach to Improve Performance of TCP over Wireless,&quot;
              Technical Report 99-003, Computer Science Dept., Texas A&amp;M
              University, February 1999. Also, to appear in Journal of
              Wireless Communications and Wireless Computing (Special
              Issue on Reliable Transport Protocols for Mobile
              Computing).

Authors&#x27; Addresses

   Questions about this document may be directed to:

   Spencer Dawkins
   Fujitsu Network Communications
   2801 Telecom Parkway
   Richardson, Texas 75082

   Phone: +1-972-479-3782
   EMail: spencer.dawkins@fnc.fujitsu.com


   Gabriel E. Montenegro
   Sun Microsystems
   Laboratories, Europe
   29, chemin du Vieux Chene
   38240 Meylan
   FRANCE

   Phone: +33 476 18 80 45
   EMail: gab@sun.com


   Markku Kojo
   Department of Computer Science
   University of Helsinki
   P.O. Box 26 (Teollisuuskatu 23)
   FIN-00014 HELSINKI
   Finland

   Phone: +358-9-1914-4179
   EMail: kojo@cs.helsinki.fi









<span class="grey">Dawkins, et al.          Best Current Practice                 [Page 14]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-15" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


   Vincent Magret
   Alcatel Internetworking, Inc.
   26801 W. Agoura road
   Calabasas, CA, 91301

   Phone: +1 818 878 4485
   EMail: vincent.magret@alcatel.com


   Nitin H. Vaidya
   458 Coodinated Science Laboratory, MC-228
   1308 West Main Street
   Urbana, IL 61801

   Phone: 217-265-5414
   E-mail: nhv@crhc.uiuc.edu



































<span class="grey">Dawkins, et al.          Best Current Practice                 [Page 15]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-16" ></span>
<span class="grey"><a href="/doc/html/rfc3155">RFC 3155</a>                PILC - Links with Errors             August 2001</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2001).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Dawkins, et al.          Best Current Practice                 [Page 16]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

