<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc1997
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-idr-communities/">
  <meta name="description" content="BGP Communities Attribute (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc1997.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc1997.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc1997.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc1997/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc1997/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/idr/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-idr-communities@ietf.org?subject=draft-ietf-idr-communities" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-idr-communities-00.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-idr-communities-00">draft-ietf-idr-communities-00</a>                    Proposed Standard
Updated by: <a href="/doc/html/rfc7606">7606</a>, <a href="/doc/html/rfc8642">8642</a>                                      <a class="text-warning" href="https://www.rfc-editor.org/errata_search.php?rfc=1997&amp;rec_status=0">Errata exist</a></pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                         R. Chandra
Request for Comments: 1997                                     P. Traina
Category: Standards Track                                  cisco Systems
                                                                   T. Li
                                                             August 1996


                       <span class="h1">BGP Communities Attribute</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the &quot;Internet
   Official Protocol Standards&quot; (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Abstract

   Border Gateway Protocol [<a href="#ref-1" title="&quot;A Border Gateway Protocol 4 (BGP-4)&quot;">1</a>] is an inter-autonomous system routing
   protocol designed for TCP/IP internets.

   This document describes an extension to BGP which may be used to pass
   additional information to both neighboring and remote BGP peers.

   The intention of the proposed technique is to aid in policy
   administration and reduce the management complexity of maintaining
   the Internet.

Introduction

   BGP supports transit policies via controlled distribution of routing
   information.  Mechanisms for this are described in [<a href="#ref-1" title="&quot;A Border Gateway Protocol 4 (BGP-4)&quot;">1</a>] and have been
   successfully used by transit service providers.  However, control
   over the distribution of routing information is presently based on
   either IP address prefixes or on the value of the AS_PATH attribute
   (or part of it).

   To facilitate and simplify the control of routing information this
   document suggests a grouping of destinations so that the routing
   decision can also be based on the identity of a group.  Such a scheme
   is expected to significantly simplify a BGP speaker&#x27;s configuration
   that controls distribution of routing information.








<span class="grey">Chandra, et. al.            Standards Track                     [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc1997">RFC 1997</a>               BGP Communities Attribute             August 1996</span>


Terms and Definitions

   Community
      A community is a group of destinations which share some common
      property.

      Each autonomous system administrator may define which communities
      a destination belongs to.  By default, all destinations belong to
      the general Internet community.

Examples

   A property such as &quot;NSFNET sponsored/AUP&quot; could be added to all AUP
   compliant destinations advertised into the NSFNET.  NSFNET operators
   could define a policy that would advertise all routes, tagged or not,
   to directly connected AUP compliant customers and only tagged routes
   to commercial or external sites. This would insure that at least one
   side of a given connection is AUP compliant as a way of enforcing NSF
   transit policy guidelines.

   In this example, we have just eliminated the primary motivation for a
   complex policy routing database that is used to generate huge prefix
   and AS path based filter rules.  We have also eliminated the delays
   caused by the out-of-band maintenance of this database (mailing in
   NACRs, weekly configuration runs, etc.)

   A second example comes from experience with aggregation.  It is often
   useful to advertise both an aggregate prefix and the component more-
   specific prefixes that were used to form the aggregate to optimize
   &quot;next hop&quot; routing.  These component prefixes are only useful to the
   neighboring BGP peer or perhaps the autonomous system of the
   neighboring BGP peer, so it is desirable to filter this information.
   By specifying a community value that the neighboring peer or peers
   will match and filter on, these more specific routes may be
   advertised with the assurance that they will not propagate beyond
   their desired scope.

COMMUNITIES attribute

   This document creates the COMMUNITIES path attribute is an optional
   transitive attribute of variable length.  The attribute consists of a
   set of four octet values, each of which specify a community.  All
   routes with this attribute belong to the communities listed in the
   attribute.

   The COMMUNITIES attribute has Type Code 8.





<span class="grey">Chandra, et. al.            Standards Track                     [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc1997">RFC 1997</a>               BGP Communities Attribute             August 1996</span>


   Communities are treated as 32 bit values,  however for administrative
   assignment,  the following presumptions may be made:

   The community attribute values ranging from 0x0000000 through
   0x0000FFFF and 0xFFFF0000 through 0xFFFFFFFF are hereby reserved.

   The rest of the community attribute values shall be encoded using an
   autonomous system number in the first two octets.  The semantics of
   the final two octets may be defined by the autonomous system (e.g. AS
   690 may define research, educational and commercial community values
   that may be used for policy routing as defined by the operators of
   that AS using community attribute values 0x02B20000 through
   0x02B2FFFF).

Well-known Communities

   The following communities have global significance and their
   operations shall be implemented in any community-attribute-aware BGP
   speaker.

      NO_EXPORT (0xFFFFFF01)
         All routes received carrying a communities attribute
         containing this value MUST NOT be advertised outside a BGP
         confederation boundary (a stand-alone autonomous system that
         is not part of a confederation should be considered a
         confederation itself).
      NO_ADVERTISE (0xFFFFFF02)
         All routes received carrying a communities attribute
         containing this value MUST NOT be advertised to other BGP
         peers.
      NO_EXPORT_SUBCONFED (0xFFFFFF03)
         All routes received carrying a communities attribute
         containing this value MUST NOT be advertised to external BGP
         peers (this includes peers in other members autonomous
         systems inside a BGP confederation).

Operation

   A BGP speaker may use this attribute to control which routing
   information it accepts, prefers or distributes to other neighbors.

   A BGP speaker receiving a route that does not have the COMMUNITIES
   path attribute may append this attribute to the route when
   propagating it to its peers.

   A BGP speaker receiving a route with the COMMUNITIES path attribute
   may modify this attribute according to the local policy.




<span class="grey">Chandra, et. al.            Standards Track                     [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc1997">RFC 1997</a>               BGP Communities Attribute             August 1996</span>


Aggregation

   If a range of routes is to be aggregated and the resultant aggregates
   attribute section does not carry the ATOMIC_AGGREGATE attribute, then
   the resulting aggregate should have a COMMUNITIES path attribute
   which contains all communities from all of the aggregated routes.

Applicability

   The COMMUNITIES path attribute may be used with BGP version 2 and all
   subsequent versions of BGP unless specifically noted otherwise.

Security Considerations

   Security issues are not discussed in this memo.

Acknowledgments

   We&#x27;d like to thank Vince Fuller, Sean Doran, and Andrew Partan for
   bringing to our attention the problems that we believe the BGP
   communities attribute will help solve.  We&#x27;d also like to thank Yakov
   Rekhter his review of this document as well as his constructive and
   valuable comments.

Authors&#x27; Addresses

   Paul Traina
   cisco Systems, Inc.
   170 W. Tasman Dr.
   San Jose, CA 95134

   EMail: pst@cisco.com


   Ravishanker Chandrasekeran
   (Ravi Chandra)
   cisco Systems, Inc.
   170 W. Tasman Dr.
   San Jose, CA 95134

   EMail: rchandra@cisco.com


   Tony Li
   EMail: tli@skat.usc.edu






<span class="grey">Chandra, et. al.            Standards Track                     [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc1997">RFC 1997</a>               BGP Communities Attribute             August 1996</span>


References

   [<a id="ref-1">1</a>] <a href="/doc/html/rfc1771">RFC 1771</a>
      Rekhter, Y., and T. Li, &quot;A Border Gateway Protocol 4 (BGP-4)&quot;,
      March 1995.

   [<a id="ref-2">2</a>] <a href="/doc/html/rfc1965">RFC 1965</a>
      Traina, P., &quot;Autonomous System Confederations for BGP&quot;, June 1996.











































Chandra, et. al.            Standards Track                     [Page 5]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

