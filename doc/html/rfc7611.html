<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc7611
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-l3vpn-acceptown-community/">
  <meta name="description" content="BGP ACCEPT_OWN Community Attribute (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc7611.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc7611.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc7611.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc7611/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc7611/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/bess/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-l3vpn-acceptown-community@ietf.org?subject=draft-ietf-l3vpn-acceptown-community" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-l3vpn-acceptown-community-10.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-l3vpn-acceptown-community-10.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-l3vpn-acceptown-community-10.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-l3vpn-acceptown-community-10">draft-ietf-l3vpn-acceptown-community-10</a>          Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                         J. Uttaro
Request for Comments: 7611                                          AT&amp;T
Category: Standards Track                                   P. Mohapatra
ISSN: 2070-1721                                         Sproute Networks
                                                                D. Smith
                                                           Cisco Systems
                                                               R. Raszuk
                                                           Mirantis Inc.
                                                              J. Scudder
                                                        Juniper Networks
                                                             August 2015


                   <span class="h1">BGP ACCEPT_OWN Community Attribute</span>

Abstract

   Under certain conditions, it is desirable for a Border Gateway
   Protocol (BGP) route reflector to be able to modify the Route Target
   (RT) list of a Virtual Private Network (VPN) route that the route
   reflector distributes, enabling the route reflector to control how a
   route originated within one VPN Routing and Forwarding table (VRF) is
   imported into other VRFs.  This technique works effectively as long
   as the VRF that exports the route is not on the same Provider Edge
   (PE) router as the VRF(s) that imports the route.  However, due to
   the constraints of BGP, it does not work if the two are on the same
   PE.  This document describes a modification to BGP allowing this
   technique to work when the VRFs are on the same PE and to be used in
   a standard manner throughout an autonomous system.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="/doc/html/rfc5741#section-2">Section&nbsp;2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7611">http://www.rfc-editor.org/info/rfc7611</a>.








<span class="grey">Uttaro, et al.               Standards Track                    [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc7611">RFC 7611</a>                       ACCEPT_OWN                    August 2015</span>


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
     <a href="#section-1.1">1.1</a>.  Requirements Language . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  ACCEPT_OWN Community  . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-2.1">2.1</a>.  Route Acceptance  . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-2.2">2.2</a>.  Propagating ACCEPT_OWN between Address Families . . . . .   <a href="#page-4">4</a>
     <a href="#section-2.3">2.3</a>.  Configuration Control . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-3">3</a>.  Decision Process  . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  Deployment Considerations . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-5">5</a>.  Other Applications  . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-6">6</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-7">7</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
   <a href="#section-8">8</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-8.1">8.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
     <a href="#section-8.2">8.2</a>.  Informative References  . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#appendix-A">Appendix A</a>.  Local Extranet Application (Non-normative) . . . . .   <a href="#page-7">7</a>
   Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>
   Authors&#x27; Addresses  . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-8">8</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   In certain scenarios, a BGP speaker may maintain multiple VRFs
   [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>].  Under certain conditions, it is desirable for a route
   reflector to be able to modify the RT list of a VPN route that the
   route reflector distributes, enabling the route reflector to control
   how a route originated within one VRF is imported into other VRFs.
   Though it is possible to perform such control directly on the
   originator, it may be operationally cumbersome in an autonomous
   system with a large number of border routers having complex BGP
   policies.





<span class="grey">Uttaro, et al.               Standards Track                    [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc7611">RFC 7611</a>                       ACCEPT_OWN                    August 2015</span>


   The technique of the route reflector modifying the RT list works
   effectively as long as the VRF that exports the route is not on the
   same PE as the VRF(s) that imports the route.  However, due to
   constraints of BGP, it does not work if the two are on the same PE.
   This is because, per the BGP specification [<a href="/doc/html/rfc4271" title="&quot;A Border Gateway Protocol 4 (BGP-4)&quot;">RFC4271</a>], a BGP speaker
   rejects received prefix advertisements that were originated by
   itself.  In an autonomous system with route reflectors, the route
   reflector attaches the ORIGINATOR_ID attribute to the UPDATE messages
   so that if such prefix advertisements reach the originator, the
   originator can reject them by simply checking the ORIGINATOR_ID
   attribute.  The BGP specification also mandates that a route should
   not be accepted from a peer when the NEXT_HOP attribute matches the
   receiver&#x27;s own IP address.

   This document proposes a modification to BGP&#x27;s behavior by defining a
   new community [<a href="/doc/html/rfc1997" title="&quot;BGP Communities Attribute&quot;">RFC1997</a>] value, in order to allow the technique of RT
   list modification by the route reflector to be used in a standard
   manner throughout an autonomous system, irrespective of whether or
   not the VRFs are on the same or different PEs.

<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a>.  Requirements Language</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
   document are to be interpreted as described in <a href="/doc/html/rfc2119">RFC 2119</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  ACCEPT_OWN Community</span>

   This memo defines ACCEPT_OWN, a new well-known BGP community in the
   First Come First Served [<a href="/doc/html/rfc5226" title="">RFC5226</a>] range, whose value as assigned by
   IANA is 0xFFFF0001.  Processing of the ACCEPT_OWN community SHOULD be
   controlled by configuration.  The functionality SHOULD default to
   being disabled, as further specified in <a href="#section-2.3">Section 2.3</a>.

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a>.  Route Acceptance</span>

   A router MAY accept a route whose ORIGINATOR_ID or NEXT_HOP value
   matches that of the receiving speaker if all of the following are
   true:

   o  Processing of the ACCEPT_OWN community is enabled by
      configuration.

   o  The route in question carries the ACCEPT_OWN community.







<span class="grey">Uttaro, et al.               Standards Track                    [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc7611">RFC 7611</a>                       ACCEPT_OWN                    August 2015</span>


   o  The route in question originated from a source VRF on the router.
      The source VRF is a VRF on the router whose configured Route
      Distinguisher is equal to the Route Distinguisher carried in the
      route.

   o  The route in question is targeted to one or more destination VRFs
      on the router (as determined by inspecting the Route Target(s)).

   o  At least one destination VRF is different from the source VRF.

   A route MUST NOT ever be accepted back into its source VRF, even if
   it carries one or more RTs that match that VRF.

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a>.  Propagating ACCEPT_OWN between Address Families</span>

   The ACCEPT_OWN community controls propagation of routes that can be
   associated with a source VRF by inspection of their Route
   Distinguisher and with a target VRF by inspection of their Route
   Target list (for example, VPN routes with a Subsequent Address Family
   Identifier (SAFI) of 128).  As such, it SHOULD NOT be attached to any
   routes that cannot be associated with a source VRF.  This implies
   that when propagating routes into a VRF, the ACCEPT_OWN community
   SHOULD NOT be propagated.  Likewise, if a route carrying the
   ACCEPT_OWN community is received in an address family that does not
   allow the source VRF to be looked up, the ACCEPT_OWN community MUST
   be discarded.  An OPTIONAL message may be logged in this case.

<span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a>.  Configuration Control</span>

   ACCEPT_OWN handling SHOULD be controlled by configuration, and if
   controlled by configuration, it MUST default to being disabled.  When
   ACCEPT_OWN is disabled by configuration (either explicitly or by
   default), the router MUST NOT apply the special route acceptance
   rules detailed in <a href="#section-2.1">Section 2.1</a>.  The router SHOULD still apply the
   propagation rules detailed in <a href="#section-2.2">Section 2.2</a>.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Decision Process</span>

   If a BGP speaker supports ACCEPT_OWN and is configured for the
   extensions defined in this document, the following step is inserted
   after the LOCAL_PREF comparison step in the BGP decision process:

      When comparing a pair of routes for a BGP destination, the route
      with the ACCEPT_OWN community attached is preferred over the route
      that does not have the community.






<span class="grey">Uttaro, et al.               Standards Track                    [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc7611">RFC 7611</a>                       ACCEPT_OWN                    August 2015</span>


   In all other respects, the decision process remains unchanged.  This
   extra step MUST only be invoked during the best path selection
   process of VPN-IP routes [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>] (i.e., it MUST NOT be invoked for
   the best path selection of imported IP routes in a VRF).  The purpose
   of this extra step is to allow the paths advertised by the route
   reflector with ACCEPT_OWN community to be selected as best over other
   paths that the BGP speaker may have received, hence enabling the
   applications ACCEPT_OWN is designed for.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Deployment Considerations</span>

   The ACCEPT_OWN community as described in this document is useful
   within a single autonomous system that uses a single layer of route
   reflectors.  Its use with hierarchical route reflectors would require
   further specification and is out of the scope of this document.
   Likewise, its use across multiple autonomous systems is out of the
   scope of this document.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Other Applications</span>

   This approach may also be relevant in other scenarios where a BGP
   speaker maintains multiple routing contexts using an approach
   different from that of [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>], as long as the specific approach in
   use has the property that the BGP speaker originates and receives
   routes within a particular context.  In such a case, &quot;VRF&quot; in this
   document should be understood to mean whatever construct provides a
   routing context in the specific technology under consideration.
   Likewise, &quot;Route Distinguisher&quot; should be understood to mean whatever
   construct allows a route&#x27;s originator to associate that route with
   its source context, and &quot;Route Target&quot; should be understood to mean
   whatever construct allows a route to be targeted for import into a
   context other than its source.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Security Considerations</span>

   ACCEPT_OWN as described in this document permits a router&#x27;s own route
   prefix to be advertised to a different VRF on that router.  In this
   respect, such a route is similar to any other BGP route and shares
   the same set of security vulnerabilities and concerns.  This
   extension does not change the underlying security issues inherent in
   BGP VPN [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>].

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  IANA Considerations</span>

   IANA has assigned the value 0xFFFF0001 in the &quot;BGP Well-known
   Communities&quot; registry for the ACCEPT_OWN community.





<span class="grey">Uttaro, et al.               Standards Track                    [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc7611">RFC 7611</a>                       ACCEPT_OWN                    August 2015</span>


<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  References</span>

<span class="h3"><a class="selflink" id="section-8.1" href="#section-8.1">8.1</a>.  Normative References</span>

   [<a id="ref-RFC1997">RFC1997</a>]  Chandra, R., Traina, P., and T. Li, &quot;BGP Communities
              Attribute&quot;, <a href="/doc/html/rfc1997">RFC 1997</a>, DOI 10.17487/RFC1997, August 1996,
              &lt;<a href="http://www.rfc-editor.org/info/rfc1997">http://www.rfc-editor.org/info/rfc1997</a>&gt;.

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC4271">RFC4271</a>]  Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., &quot;A
              Border Gateway Protocol 4 (BGP-4)&quot;, <a href="/doc/html/rfc4271">RFC 4271</a>,
              DOI 10.17487/RFC4271, January 2006,
              &lt;<a href="http://www.rfc-editor.org/info/rfc4271">http://www.rfc-editor.org/info/rfc4271</a>&gt;.

   [<a id="ref-RFC4364">RFC4364</a>]  Rosen, E. and Y. Rekhter, &quot;BGP/MPLS IP Virtual Private
              Networks (VPNs)&quot;, <a href="/doc/html/rfc4364">RFC 4364</a>, DOI 10.17487/RFC4364, February
              2006, &lt;<a href="http://www.rfc-editor.org/info/rfc4364">http://www.rfc-editor.org/info/rfc4364</a>&gt;.

<span class="h3"><a class="selflink" id="section-8.2" href="#section-8.2">8.2</a>.  Informative References</span>

   [<a id="ref-RFC5226">RFC5226</a>]  Narten, T. and H. Alvestrand, &quot;Guidelines for Writing an
              IANA Considerations Section in RFCs&quot;, <a href="/doc/html/bcp26">BCP 26</a>, <a href="/doc/html/rfc5226">RFC 5226</a>,
              DOI 10.17487/RFC5226, May 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5226">http://www.rfc-editor.org/info/rfc5226</a>&gt;.























<span class="grey">Uttaro, et al.               Standards Track                    [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc7611">RFC 7611</a>                       ACCEPT_OWN                    August 2015</span>


<span class="h2"><a class="selflink" id="appendix-A" href="#appendix-A">Appendix A</a>.  Local Extranet Application (Non-normative)</span>

   One of the applications for the BGP well-known community described in
   this document is auto-configuration of extranets within MPLS VPN
   networks.  Consider the following topology:

   CE1 --------+
               |
              (VRF 1, RD 1, RT 1)
                       PE1 ................... RR
              (VRF 2, RD 2, RT 2)
               |
   CE2 --------+

                      Figure 1: Extranet Application

   Within this topology, PE1 receives a prefix X from CE1.  Prefix X is
   installed in VRF 1 and is advertised to the route reflector (RR) with
   Route Distinguisher (RD) 1 and Route Target (RT) 1 as configured on
   PE1.  The requirement is to import prefix X into VRF 2 and advertise
   it to CE2 in support of extranet VPN connectivity between CE1/VRF1
   and CE2/VRF2.  Current BGP mechanisms for MPLS VPNs [<a href="/doc/html/rfc4364" title="&quot;BGP/MPLS IP Virtual Private Networks (VPNs)&quot;">RFC4364</a>] require
   changing the import RT value and/or import policy for VRF 2 on PE1.
   This is operationally cumbersome in a network with a large number of
   border routers having complex BGP policies.

   Alternatively, using the new ACCEPT_OWN community value, the route
   reflector can simply re-advertise prefix X back to PE1 with RT 2
   appended.  In this way, PE1 will accept prefix X despite its
   ORIGINATOR_ID or NEXT_HOP value, import it into VRF 2 as a result of
   the presence of RT 2 in the route&#x27;s Extended Community path
   attribute, and then determine the correct adjacency rewrite within
   VRF 1 based on the RD value and the prefix.  Note that the presence
   of RT 1 in the route&#x27;s Extended Community path attribute will simply
   be ignored since RT 1 is associated with the source VRF 1.  The same
   operation also needs to happen in the reverse direction (VRF 1
   learning a route from VRF 2) to achieve establishment of an extranet
   VPN strictly via the route reflector without changing the BGP policy
   of PE1 in any way.

   A router performing such an extranet application can accept a route
   with its own ORIGINATOR_ID or NEXT_HOP value only if the VRF in which
   the router originated the route is different from the VRF in which
   the router accepts the re-advertised route.







<span class="grey">Uttaro, et al.               Standards Track                    [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc7611">RFC 7611</a>                       ACCEPT_OWN                    August 2015</span>


Acknowledgments

   The authors would like to thank Yakov Rekhter, Jim Guichard, Clarence
   Filsfils, John Mullooly, Jeff Haas, Pranav Mehta, and Tamas Mondal
   for their valuable comments and suggestions.  The decision process
   changes were suggested by Pranav Mehta to solve the remote extranet
   problem.

Authors&#x27; Addresses

   James Uttaro
   AT&amp;T
   200 S. Laurel Avenue
   Middletown, NJ  07748
   United States
   Email: uttaro@att.com


   Pradosh Mohapatra
   Sproute Networks
   Email: mpradosh@yahoo.com


   David J. Smith
   Cisco Systems
   111 Wood Avenue South
   Iselin, NJ  08830
   United States
   Email: djsmith@cisco.com


   Robert Raszuk
   Mirantis Inc.
   615 National Ave. #100
   Mountain View, CA  94043
   United States
   Email: robert@raszuk.net


   John Scudder
   Juniper Networks
   1194 N. Mathilda Ave.
   Sunnyvale, CA  94089
   United States
   Email: jgs@juniper.net






Uttaro, et al.               Standards Track                    [Page 8]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

