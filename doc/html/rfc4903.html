<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc4903
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-iab-multilink-subnet-issues/">
  <meta name="description" content="Multi-Link Subnet Issues (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgorange"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc4903.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc4903.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc4903.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc4903/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc4903/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/iab/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-iab-multilink-subnet-issues@ietf.org?subject=draft-iab-multilink-subnet-issues" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-iab-multilink-subnet-issues-03.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-iab-multilink-subnet-issues-03.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-iab-multilink-subnet-issues-03.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-iab-multilink-subnet-issues-03">draft-iab-multilink-subnet-issues-03</a>                 Informational</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                          D. Thaler
Request for Comments: 4903                   Internet Architecture Board
Category: Informational                                        June 2007


                       <span class="h1">Multi-Link Subnet Issues</span>

Status of This Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The IETF Trust (2007).

Abstract

   There have been several proposals around the notion that a subnet may
   span multiple links connected by routers.  This memo documents the
   issues and potential problems that have been raised with such an
   approach.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Issues ..........................................................<a href="#page-3">3</a>
      <a href="#section-2.1">2.1</a>. IP Model ...................................................<a href="#page-3">3</a>
      <a href="#section-2.2">2.2</a>. TTL/Hop Limit Issues .......................................<a href="#page-4">4</a>
      <a href="#section-2.3">2.3</a>. Link-scoped Multicast and Broadcast ........................<a href="#page-6">6</a>
      <a href="#section-2.4">2.4</a>. Duplicate Address Detection Issues .........................<a href="#page-7">7</a>
   <a href="#section-3">3</a>. Security Considerations .........................................<a href="#page-8">8</a>
   <a href="#section-4">4</a>. Recommendations .................................................<a href="#page-9">9</a>
      <a href="#section-4.1">4.1</a>. IP Link Model ..............................................<a href="#page-9">9</a>
      <a href="#section-4.2">4.2</a>. IPv6 Address Assignment ...................................<a href="#page-10">10</a>
      <a href="#section-4.3">4.3</a>. Duplicate Address Detection Optimizations .................<a href="#page-12">12</a>
   <a href="#section-5">5</a>. Normative References ...........................................<a href="#page-12">12</a>
   <a href="#section-6">6</a>. Informative References .........................................<a href="#page-13">13</a>












<span class="grey">Thaler                       Informational                      [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   The original IPv4 address definition [<a href="/doc/html/rfc791" title="&quot;Internet Protocol&quot;">RFC791</a>] consisted of a Network
   field, identifying a network number, and a Local Address field,
   identifying a host within that network.  As organizations grew to
   want many links within their network, their choices were (from
   [<a href="/doc/html/rfc950" title="&quot;Internet Standard Subnetting Procedure&quot;">RFC950</a>]) to:

      1. Acquire a distinct Internet network number for each cable;
         subnets are not used at all.

      2. Use a single network number for the entire organization, but
         assign host numbers without regard to which LAN a host is on
         (&quot;transparent subnets&quot;).

      3. Use a single network number, and partition the host address
         space by assigning subnet numbers to the LANs (&quot;explicit
         subnets&quot;).

   [<a id="ref-RFC925">RFC925</a>] was a proposal for option 2 that defined a specific type of
   Address Resolution Protocol (ARP) proxy behavior, where the
   forwarding plane had the properties of decrementing the Time To Live
   (TTL) to prevent loops when forwarding, not forwarding packets
   destined to 255.255.255.255, and supporting subnet broadcast by
   requiring that the ARP-based bridge maintain a list of recent
   broadcast packets.  This approach was never standardized, although
   [<a href="/doc/html/rfc1027" title="&quot;Using ARP to Implement Transparent Subnet Gateways&quot;">RFC1027</a>] later documented an implementation of a subset of [<a href="/doc/html/rfc925" title="&quot;Multi-LAN address resolution&quot;">RFC925</a>].

   Instead, the IETF standardized option 3 with [<a href="/doc/html/rfc950" title="&quot;Internet Standard Subnetting Procedure&quot;">RFC950</a>], whereby hosts
   were required to learn a subnet mask, and this became the IPv4 model.

   Over the recent past, there have been several newer protocols
   proposing to extend the notion of a subnet to be able to span
   multiple links, similar to [<a href="/doc/html/rfc925" title="&quot;Multi-LAN address resolution&quot;">RFC925</a>].

   Early versions of the IPv6 scoped address architecture [<a href="#ref-SCOPID" title="&quot;IPv6 Scoped Address Architecture&quot;">SCOPID</a>]
   proposed a subnet scope above the link scope, to allow for multi-link
   subnets.  This notion was rejected by the WG due to the issues
   discussed in this memo, and as a result the final version [<a href="/doc/html/rfc4007" title="&quot;IPv6 Scoped Address Architecture&quot;">RFC4007</a>]
   has no such notion.

   There was also a proposal to define multi-link subnets [<a href="#ref-MLSR" title="&quot;Multi-link Subnet Support in IPv6&quot;">MLSR</a>] for
   IPv6.  However, this notion was abandoned by the IPv6 WG due to the
   issues discussed in this memo, and that proposal was replaced by a
   different mechanism that preserves the notion that a subnet spans
   only one link [<a href="/doc/html/rfc4389" title="&quot;Neighbor Discovery Proxies (ND Proxy)&quot;">RFC4389</a>].





<span class="grey">Thaler                       Informational                      [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   However, other WGs continued to allow for this concept even though it
   had been rejected in the IPv6 WG.  Mobile IPv6 [<a href="/doc/html/rfc3775" title="&quot;Mobility Support in IPv6&quot;">RFC3775</a>] allows
   tunnels to mobile nodes to use the same subnet as a home link, with
   the Home Agent doing layer 3 forwarding between them.

   The notion also arises in Mobile Ad-hoc NETworks (MANETs) with
   proposals that an entire MANET is a subnet, with routers doing layer
   3 forwarding within it.

   The use of multi-link subnets has also been considered by other
   working groups, including NetLMM, 16ng, and Autoconf, and by other
   external organizations such as WiMax.

   In this memo, we document the issues raised in the IPv6 WG which
   motivated the abandonment of the multi-link subnet concept, so that
   designers of other protocols can (and should) be aware of the issues.

   The key words &quot;MUST&quot;, &quot;RECOMMENDED&quot;, and &quot;SHOULD&quot; in this document
   are to be interpreted as described in [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Issues</span>

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a>.  IP Model</span>

   The term &quot;link&quot; is generally used to refer to a topological area
   bounded by routers that decrement the IPv4 TTL or IPv6 Hop Limit when
   forwarding the packet.  A link-local address prefix is defined in
   both IPv4 [<a href="/doc/html/rfc3927" title="&quot;Dynamic Configuration of IPv4 Link-Local Addresses&quot;">RFC3927</a>] and IPv6 [<a href="/doc/html/rfc4291" title="&quot;IP Version 6 Addressing Architecture&quot;">RFC4291</a>].

   The term &quot;subnet&quot; is generally used to refer to a topological area
   that uses the same address prefix, where that prefix is not further
   subdivided except into individual addresses.

   In December 1995, the original IP Version 6 Addressing Architecture
   [<a href="/doc/html/rfc1884" title="&quot;IP Version 6 Addressing Architecture&quot;">RFC1884</a>] was published, stating: &quot;IPv6 continues the IPv4 model that
   a subnet is associated with one link.  Multiple subnets may be
   assigned to the same link.&quot;

   Thus, it explicitly acknowledges that the current IPv4 model has been
   that a subnet is associated with one link and that IPv6 does not
   change this model.  Furthermore, a subnet is sometimes considered to
   be only a subset of a link, when multiple subnets are assigned to the
   same link.

   The IPv6 addressing architecture has since been updated three times,
   first in July 1998 [<a href="/doc/html/rfc2373" title="&quot;IP Version 6 Addressing Architecture&quot;">RFC2373</a>], then April 2003 [<a href="/doc/html/rfc3513" title="&quot;Internet Protocol Version 6 (IPv6) Addressing Architecture&quot;">RFC3513</a>], and finally
   in February 2006 [<a href="/doc/html/rfc4291" title="&quot;IP Version 6 Addressing Architecture&quot;">RFC4291</a>].  All updates include the language:
   &quot;Currently IPv6 continues the IPv4 model that a subnet prefix is



<span class="grey">Thaler                       Informational                      [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   associated with one link.  Multiple subnet prefixes may be assigned
   to the same link.&quot;

   Clearly, the notion of a multi-link subnet would be a change to the
   existing IP model.

   Similarly, the Mobility Related Terminology [<a href="/doc/html/rfc3753" title="&quot;Mobility Related Terminology&quot;">RFC3753</a>] defines a
   Foreign subnet prefix as &quot;a bit string that consists of some number
   of initial bits of an IP address which identifies a node&#x27;s foreign
   link within the Internet topology&quot; with a similar definition for a
   Home subnet prefix.  These both state that the subnet prefix
   identifies a (singular) link.

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a>.  TTL/Hop Limit Issues</span>

   Since a link is bounded by routers that decrement the IPv4 TTL or
   IPv6 Hop Limit, there may be issues with applications and protocols
   that make any assumption about the relationship between TTL/Hop Limit
   and subnet prefix.

   There are two main cases that may arise.  Some applications and
   protocols may send packets with a TTL/Hop Limit of 1.  Other
   applications and protocols may send packets with a TTL/Hop Limit of
   255 and verify that the value is 255 on receipt.  Both are ways of
   limiting communication to within a single link, although the effects
   of these two approaches are quite different.  Setting TTL/Hop Limit
   to 1 ensures that packets that are sent do not leave the link, but it
   does not prevent an off-link attacker from sending a packet that can
   reach the link.  Checking that TTL/Hop Limit is 255 on receipt
   prevents a receiver from accepting packets from an off-link sender,
   but it doesn&#x27;t prevent a sent packet from being forwarded off-link.

   As for assumptions about the relationship between TTL/Hop Limit and
   subnet, let&#x27;s look at some example references familiar to many
   protocol and application developers.

   Stevens&#x27; &quot;Unix Network Programming&quot;, 2nd ed. [<a href="#ref-UNP" title="&quot;Unix Network Programming, Volume 1, Second Edition&quot;">UNP</a>], states on page
   490, &quot;A TTL of 0 means node-local, 1 means link-local&quot; (this of
   course being true by the definition of link).  Then page 498 states,
   regarding IP_MULTICAST_TTL and IPV6_MULTICAST_HOPS, &quot;If this is not
   specified, both default to 1, which restricts the datagram to the
   local subnet.&quot;  Here, Unix programmers learn that TTL=1 packets are
   restricted to a subnet (as opposed to a link).  This is typical of
   many documents that use the terms interchangeably due to the IP model
   described earlier.






<span class="grey">Thaler                       Informational                      [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   Similarly, &quot;TCP/IP Illustrated&quot;, Volume 1 [<a href="#ref-TCPILL" title="&quot;TCP/IP Illustrated, Volume 1&quot;">TCPILL</a>], states on page
   182: &quot;By default, multicast datagrams are sent with a TTL of 1.  This
   restricts the datagram to the same subnet.&quot;

   Steve Deering&#x27;s original multicast README file [<a href="#ref-DEERING" title="&quot;IP Multicast Extensions for 4.3BSD UNIX and related systems (MULTICAST 1.2 Release)&quot;">DEERING</a>] contained
   the statement &quot;multicast datagrams with initial TTL 1 are restricted
   to the same subnet&quot;, and similar statements now appear in many
   vendors&#x27; documentation, including documentation for Windows (e.g.,
   [<a href="#ref-TCPIP2K" title="&quot;Microsoft Windows 2000 TCP/IP Implementation Details&quot;">TCPIP2K</a>]) and Linux (e.g., [<a href="#ref-LINUX" title="&quot;Multicast over TCP/IP HOWTO&quot;">LINUX</a>] says a TTL of 1 is &quot;restricted to
   the same subnet.  Won&#x27;t be forwarded by a router.&quot;)

   The above are only some examples.  There is no shortage of places
   where application developers are being taught that a subnet is
   confined to a single link, and so we must expect that arbitrary
   applications may embed such assumptions.

   Some examples of protocols today that are known to embed some
   assumption about the relationship between TTL and subnet prefix are
   the following:

      o  Neighbor Discovery (ND) [<a href="/doc/html/rfc2461" title="&quot;Neighbor Discovery for IP Version 6 (IPv6)&quot;">RFC2461</a>] uses messages with Hop Limit
         255 checked on receipt, to resolve the link-layer address of
         any IP address in the subnet.

      o  Older clients of Apple&#x27;s Bonjour [<a href="#ref-MDNS" title="&quot;Multicast DNS&quot;">MDNS</a>] use messages with TTL
         255 checked on receipt, and only respond to queries from
         addresses in the same subnet.  (Note that multi-link subnets do
         not necessarily break this, as this behavior is to constrain
         communication to within a subnet, where a subnet is only a
         subset of a link.  However, it will not work across a multi-
         link subnet.)

   Some other examples of protocols today that are known to use a TTL 1
   or 255, but do not appear to explicitly have any assumption about the
   relationship to subnet prefixes (other than the well-known link-local
   prefix) include the following:

      o  Link-Local Multicast Name Resolution [<a href="#ref-LLMNR" title="&quot;Link-local Multicast Name Resolution (LLMNR)&quot;">LLMNR</a>] uses a TTL/Hop
         Limit of 1 for TCP.

      o  Multicast Listener Discovery (MLD) [<a href="/doc/html/rfc3810" title="&quot;Multicast Listener Discovery Version 2 (MLDv2) for IPv6&quot;">RFC3810</a>] uses a Hop Limit
         of 1.

      o  Reverse tunneling for Mobile IPv4 [<a href="/doc/html/rfc3024" title="&quot;Reverse Tunneling for Mobile IP, revised&quot;">RFC3024</a>] uses TTL 255
         checked on receipt for Registration Requests sent to foreign
         agents.





<span class="grey">Thaler                       Informational                      [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


      o  [<a href="/doc/html/rfc3927" title="&quot;Dynamic Configuration of IPv4 Link-Local Addresses&quot;">RFC3927</a>] discusses the use of TTL=1 and TTL=255 within the
         IPv4 link-local address prefix.

   It is unknown whether any implementations of such protocols exist
   that add such assumptions about the relationship to subnet prefixes
   for other reasons.

<span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a>.  Link-scoped Multicast and Broadcast</span>

   Because multicast routing is not ubiquitous, the notion of a subnet
   that spans multiple links tends to result in cases where multicast
   does not work across the subnet.  Per [<a href="/doc/html/rfc2644" title="&quot;Changing the Default for Directed Broadcasts in Routers&quot;">RFC2644</a>], the default behavior
   is that routers do not forward directed broadcast packets either, nor
   do they forward limited broadcasts (see <a href="/doc/html/rfc1812#section-4.2.2.11">[RFC1812], Section&nbsp;4.2.2.11</a>).

   There are many protocols and applications today that use link-scoped
   multicast.  The list of such applications and protocols that have
   been assigned their own link-scoped multicast group address (and may
   also have assumptions about the TTL/Hop Limit as noted above) can be
   found at:

      <a href="http://www.iana.org/assignments/multicast-addresses">http://www.iana.org/assignments/multicast-addresses</a>

      <a href="http://www.iana.org/assignments/ipv6-multicast-addresses">http://www.iana.org/assignments/ipv6-multicast-addresses</a>

   In addition, an arbitrarily large number of other applications may be
   using the all-1&#x27;s broadcast address, or the all-hosts link-scoped
   multicast address, rather than their own group address.

   The well-known examples of protocols using link-scoped multicast or
   broadcast generally fall into one of the following groups:

      o  Routing protocols: Distance Vector Multicast Routing Protocol
         (DVMRP) [<a href="/doc/html/rfc1075" title="&quot;Distance Vector Multicast Routing Protocol&quot;">RFC1075</a>], OSPF [<a href="/doc/html/rfc2328" title="&quot;OSPF Version 2&quot;">RFC2328</a>], RIP  [<a href="/doc/html/rfc2453" title="&quot;RIP Version 2&quot;">RFC2453</a>][RFC2080],
         Enhanced Interior Gateway Routing Protocol (EIGRP) [<a href="#ref-EIGRP" title="&quot;Enhanced Interior Gateway Routing Protocol&quot;">EIGRP</a>],
         etc.  These protocols exchange routes to subnet prefixes.

      o  Address management protocols: Neighbor Discovery, DHCPv4
         [<a href="/doc/html/rfc2131" title="&quot;Dynamic Host Configuration Protocol&quot;">RFC2131</a>], Dynamic Host Configuration Protocol for IPv6
         (DHCPv6) [<a href="/doc/html/rfc3315" title="&quot;Dynamic Host Configuration Protocol for IPv6 (DHCPv6)&quot;">RFC3315</a>], Teredo [<a href="/doc/html/rfc4380" title="&quot;Teredo: Tunneling IPv6 over UDP through Network Address Translations (NATs)&quot;">RFC4380</a>], etc.  By their nature,
         this group tends to embed assumptions about the relationship
         between a link and a subnet prefix.  For example, ND uses
         link-scoped multicast to resolve the link-layer address of an
         IP address in the same subnet prefix, and to do duplicate
         address detection (see <a href="#section-2.4">Section 2.4</a> below) within the subnet.
         DHCP uses link-scoped multicast or broadcast to obtain an
         address in the subnet.  Teredo states that the Teredo IPv4
         Discovery Address is &quot;an IPv4 multicast address used to



<span class="grey">Thaler                       Informational                      [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


         discover other Teredo clients on the same IPv4 subnet.  The
         value of this address is 224.0.0.253&quot;, which is a link-scoped
         multicast address.  It also says that &quot;the client MUST silently
         discard all local discovery bubbles [...] whose IPv4 source
         address does not belong to the local IPv4 subnet&quot;.

      o  Service discovery protocols: Simple Service Discovery Protocol
         (SSDP) [<a href="#ref-SSDP" title="&quot;Simple Service Discovery Protocol (SSDP)&quot;">SSDP</a>], Bonjour, WS-Discovery [<a href="#ref-WSDISC" title="&quot;Web Services Dynamic Discovery (WS-Discovery)&quot;">WSDISC</a>], etc.  These
         often do not define any explicit assumption about the
         relationship to subnet prefix.

      o  Name resolution protocols: NetBios [<a href="/doc/html/rfc1001" title="&quot;Protocol Standard for a NetBIOS Service on a TCP/UDP Transport: Concepts and Methods&quot;">RFC1001</a>], Bonjour, LLMNR,
         etc.  Most often these do not define any explicit assumption
         about the relationship to subnet prefix, but Bonjour only
         responds to queries from addresses within the same subnet
         prefix.

   Note that protocols such as Bonjour and Teredo that drop packets that
   don&#x27;t come from an address within the subnet are not necessarily
   broken by multi-link subnets, as this behavior is meant to constrain
   the behavior to within a subnet, when a link is larger than a single
   subnet.

   However, regardless of whether any assumption about the relationship
   to subnet prefixes exists, all protocols mentioned above or on the
   IANA assignments lists will not work across a multi-link subnet
   without protocol-specific proxying functionality in routers, and
   adding proxying for an arbitrary number of protocols and applications
   does not scale.  Furthermore, it may hinder the development and use
   of future protocols using link-scoped multicast.

<span class="h3"><a class="selflink" id="section-2.4" href="#section-2.4">2.4</a>.  Duplicate Address Detection Issues</span>

   Duplicate Address Detection (DAD) uses link-scoped multicast in IPv6
   and link-scoped broadcast in IPv4 and so has the issues mentioned in
   <a href="#section-2.3">Section 2.3</a> above.

   In addition, [<a href="/doc/html/rfc2462" title="&quot;IPv6 Stateless Address Autoconfiguration&quot;">RFC2462</a>] contains the statement:

      &quot;Thus, for a set of addresses formed from the same interface
      identifier, it is sufficient to check that the link-local address
      generated from the identifier is unique on the link.  In such
      cases, the link-local address MUST be tested for uniqueness, and
      if no duplicate address is detected, an implementation MAY choose
      to skip Duplicate Address Detection for additional addresses
      derived from the same interface identifier.&quot;





<span class="grey">Thaler                       Informational                      [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   The last possibility, sometimes referred to as Duplicate Interface
   Identifier Detection (DIID), has been a matter of much debate, and
   the current work in progress [<a href="#ref-2462BIS" title="&quot;IPv6 Stateless Address Autoconfiguration&quot;">2462BIS</a>] states:

      Each individual unicast address SHOULD be tested for uniqueness.
      Note that there are implementations deployed that only perform
      Duplicate Address Detection for the link-local address and skip
      the test for the global address using the same interface
      identifier as that of the link-local address.  Whereas this
      document does not invalidate such implementations, this kind of
      &quot;optimization&quot; is NOT RECOMMENDED, and new implementations MUST
      NOT do that optimization.

   The existence of such implementations also causes problems with
   multi-link subnets.  Specifically, a link-local address is only valid
   within a link, and hence is only tested for uniqueness within a
   single link.  If the same interface identifier is then assumed to be
   unique across all links within a multi-link subnet, address conflicts
   can occur.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Security Considerations</span>

   The notion of multi-link subnets can cause problems with any security
   protocols that either rely on the assumption that a subnet only spans
   a single link or can leave gaps in the security solution where
   protocols are only defined for use on a single link.

   Secure Neighbor Discovery (SEND) [<a href="/doc/html/rfc3971" title="&quot;SEcure Neighbor Discovery (SEND)&quot;">RFC3971</a>], in particular, is
   currently only defined within a single link.  If a subnet were to
   span multiple links, SEND would not work as currently specified,
   since it secures Neighbor Discovery messages that include link-layer
   addresses, and if forwarded to other links, the link-layer address of
   the sender will be different.  This same problem also exists in cases
   where a subnet does not span multiple links but where Neighbor
   Discovery is proxied within a link.  <a href="/doc/html/rfc4389#section-9">Section&nbsp;9 of [RFC4389]</a> discusses
   some possible future directions in this regard.

   Furthermore, as noted above some applications and protocols (ND,
   Bonjour, Mobile IPv4, etc.) mitigate against off-link spoofing
   attempts by requiring a TTL or Hop Limit of 255 on receipt.  If this
   restriction were removed, or if alternative protocols were used, then
   off-link spoofing attempts would become easier, and some alternative
   way to mitigate such attacks would be needed.








<span class="grey">Thaler                       Informational                      [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Recommendations</span>

<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a>.  IP Link Model</span>

   There are two models that do not have the issues pointed out in the
   rest of the document.

   The IAB recommends that protocol designers use one of the following
   two models:

      o  Multi-access link model: In this model, there can be multiple
         nodes on the same link, including zero or more routers.  Data
         packets sent to the IPv4 link-local broadcast address
         (255.255.255.255) or to a link-local multicast address can be
         received by all other interested nodes on the link.  Two nodes
         on the link are able to communicate without any IPv4 TTL or
         IPv6 Hop Limit decrement.  There can be any number of layer 2
         devices (bridges, switches, access points, etc.) in the middle
         of the link.

      o  Point-to-point link model: In this model, there are exactly two
         nodes on the same link.  Data packets sent to the IPv4 link-
         local broadcast address or to a link-local multicast address
         can be received by the other node on the link.  The two nodes
         are able to communicate without any IPv4 TTL or IPv6 Hop Limit
         decrement.  There can be any number of layer 2 devices
         (bridges, switches, access points, etc.) in the middle of the
         link.

   A variant of the multi-access link model, which has fewer issues, but
   still some, is the following:

      o  Non-broadcast multi-access (NBMA) model: Same as the multi-
         access link model, except that no broadcast or multicast
         packets can be sent, even between two nodes on the same link.
         As a result, no protocols or applications that make use of
         broadcast or multicast will work.

   Links that appear as NBMA links at layer 3 are problematic.  Instead,
   if a link is an NBMA link at layer 2, then protocol designers should
   define some mechanism such that it appears as either the multi-access
   link model or point-to-point link model at layer 3.

   One use of an NBMA link is when the link itself is intended as a
   wide-area link (e.g., a tunnel such as 6to4 [<a href="/doc/html/rfc3056" title="&quot;Connection of IPv6 Domains via IPv4 Clouds&quot;">RFC3056</a>]) where none of
   the groups of functionality in <a href="#section-2.3">Section 2.3</a> are required across the
   wide area.  Admittedly, the definition of wide-area is somewhat
   subjective.  Support for multicast on a wide-area link would be



<span class="grey">Thaler                       Informational                      [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   analogous to supporting multicast routing across a series of local-
   area links.  The issues discussed in <a href="#section-2.3">Section 2.3</a> will arise, but may
   be acceptable over a wide area until multicast routing is also
   supported.

   Note that the distinction of whether or not a link is a tunnel is
   orthogonal to the choice of model; there exist tunnel links for all
   link models mentioned above.

   A multi-link subnet model should be avoided.  IETF working groups
   using, or considering using, multi-link subnets today should
   investigate moving to one of the other models.  For example, the
   Mobile IPv6 WG should investigate having the Home Agent not decrement
   the Hop Limit, and forward multicast traffic.

   When considering changing an existing multi-link subnet solution to
   another model, the following issues should be considered:

   Loop prevention: If physical loops cannot exist within the subnet,
      then removing the TTL/Hop Limit decrement is not an issue.
      Otherwise, protocol designers can (for example) retain the
      decrement but use a separate prefix per link, or use some form of
      bridging protocol instead (e.g., [<a href="#ref-BRIDGE" title="&quot;Media Access Control (MAC) Bridges&quot;">BRIDGE</a>] or [<a href="#ref-RBRIDGE" title="&quot;Rbridges: Base Protocol Specification&quot;">RBRIDGE</a>]).

   Limiting broadcast (including all-hosts multicast): If there is no
      efficiency requirement to prevent broadcast from going to other
      on-link hosts, then flooding it within the subnet is not an issue.
      Otherwise, protocol designers can (for example) use a separate
      prefix per link, or flood broadcast other than ARP within the
      subnet (ARP is covered below in <a href="#section-4.3">Section 4.3</a>).

   Limiting the scope of other multicast (including IPv6 Neighbor
      Discovery): If there is no efficiency requirement to prevent
      multicast from going to other on-link hosts, then flooding
      multicast within the subnet is not an issue.  Otherwise, protocol
      designers can (for example) use a separate prefix per link, or use
      Internet Group Management Protocol (IGMP)/MLD snooping [<a href="/doc/html/rfc4541" title="&quot;Considerations for Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) Snooping Switches&quot;">RFC4541</a>]
      instead.

<span class="h3"><a class="selflink" id="section-4.2" href="#section-4.2">4.2</a>.  IPv6 Address Assignment</span>

   In IPv6, the Prefix Information Option in a Router Advertisement (RA)
   is defined for use by a router to advertise an on-link prefix.  That
   is, it indicates that a prefix is assigned to the link over which the
   RA is sent/received.  That is, the router and the node both have an
   on-link route in their routing table (or on-link Prefix List, in the
   conceptual model of a host in [<a href="/doc/html/rfc2461" title="&quot;Neighbor Discovery for IP Version 6 (IPv6)&quot;">RFC2461</a>]), and any addresses used in




<span class="grey">Thaler                       Informational                     [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   the prefix are assigned to an interface (on any node) attached to
   that.

   In contrast, DHCPv6 Prefix Delegation (DHCP-PD) [<a href="/doc/html/rfc3633" title="&quot;IPv6 Prefix Options for Dynamic Host Configuration Protocol (DHCP) version 6&quot;">RFC3633</a>] is defined
   for use by a client to request a prefix for use on a different link.
   <a href="/doc/html/rfc3633#section-12.1">Section&nbsp;12.1 of RFC 3633</a> states:

      Upon the receipt of a valid Reply message, for each IA_PD the
      requesting router assigns a subnet from each of the delegated
      prefixes to each of the links to which the associated interfaces
      are attached, with the following exception: the requesting router
      MUST NOT assign any delegated prefixes or subnets from the
      delegated prefix(es) to the link through which it received the
      DHCP message from the delegating router.

   Hence, the upstream router has a route in its routing table that is
   not on-link, but points to the client; the prefix is assigned to a
   link other than the one over which DHCP-PD was done; and any
   addresses used in the prefix are assigned to an interface (on any
   node) attached to that other link.

   The IAB believes that the distinction between these two cases
   (assigning a prefix to the same link vs. another link) is important,
   and that the IETF protocols noted above are appropriate for the two
   scenarios noted.  The IAB recommends that other protocol designers
   remain consistent with the IETF-defined scopes of these protocols
   (e.g., not using DHCP-PD to assign a prefix to the same link, or
   using RAs to assign a prefix to another link).

   In addition, the Prefix Information Option contains an L (on-link)
   flag.  Normally, this flag is set, indicating that this prefix can be
   used for on-link determination.  When not set, the advertisement
   makes no statement about on-link or off-link properties of the
   prefix.  For instance, the prefix might be used for address
   configuration with some of the addresses belonging to the prefix
   being on-link and others being off-link.  Care must be taken when the
   L flag is not set.  Specifically, some platforms allow applications
   to retrieve the prefix length associated with each address of the
   node.  If an implementation were to return the prefix length used for
   address configuration, then applications may incorrectly assume that
   TTL=1 is sufficient for communication, and that link-scoped multicast
   will reach other addresses in the prefix.  As a result, the IAB
   recommends that designers and maintainers of APIs that provide a
   prefix length to applications address this issue.  For example, they
   might indicate that no prefix length exists when the prefix is not
   on-link.  If the API is not capable of reporting that one does not
   exist, then they might choose to report a value of 128 when the
   prefix is not on-link.  This would result in such applications



<span class="grey">Thaler                       Informational                     [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   believing they are on separate subnets, rather than on a multi-link
   subnet.

<span class="h3"><a class="selflink" id="section-4.3" href="#section-4.3">4.3</a>.  Duplicate Address Detection Optimizations</span>

   One of the reasons sometimes cited for wanting a multi-link subnet
   model (rather than a multi-access link model), is to minimize the
   ARP/ND traffic between end-nodes.  This is primarily a concern in
   IPv4 where ARP results in a broadcast that would be seen by all
   nodes, not just the node with the IPv4 address being resolved.  Even
   if this is a significant concern, the use of a multi-link subnet
   model is not necessary.  The point-to-point link model is one way to
   avoid this issue entirely.

   In the multi-access link model, IPv6 ND traffic can be reduced by
   using well-known multicast learning techniques (e.g., [<a href="/doc/html/rfc4541" title="&quot;Considerations for Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) Snooping Switches&quot;">RFC4541</a>] at a
   layer 2 intermediate device (bridge, switch, access point, etc.).

   Some have suggested that a layer 2 device could maintain an ARP or ND
   cache and service requests from that cache.  However, such a cache
   prevents any type of fast mobility between layer 2 ports, and breaks
   Secure Neighbor Discovery [<a href="/doc/html/rfc3971" title="&quot;SEcure Neighbor Discovery (SEND)&quot;">RFC3971</a>].  As a result, the IAB recommends
   to protocol designers that this approach be avoided, instead using an
   alternative such as layer 2 learning.  For IPv4 (where no Secure ARP
   exists), the IAB recommends that protocol designers avoid having a
   device respond from its cache in cases where a node can legitimately
   move between layer 2 segments of the link without any layer 2
   indications at the layer 2 intermediate device.  Also, since
   currently there is no guarantee that any device other than the end-
   host knows all addresses of the end-host, protocol designers should
   avoid any dependency on such an assumption.  For example, when no
   cache entry for a given request is found, protocol designers may
   specify that a node broadcast the request to all nodes.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Normative References</span>

   [<a id="ref-RFC791">RFC791</a>]  Postel, J., &quot;Internet Protocol&quot;, STD 5, <a href="/doc/html/rfc791">RFC 791</a>, September
             1981.

   [<a id="ref-RFC950">RFC950</a>]  Mogul, J. and J. Postel, &quot;Internet Standard Subnetting
             Procedure&quot;, STD 5, <a href="/doc/html/rfc950">RFC 950</a>, August 1985.

   [<a id="ref-RFC1812">RFC1812</a>] Baker, F., Ed., &quot;Requirements for IP Version 4 Routers&quot;,
             <a href="/doc/html/rfc1812">RFC 1812</a>, June 1995.

   [<a id="ref-RFC2119">RFC2119</a>] Bradner, S., &quot;Key words for use in RFCs to Indicate
             Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>, March 1997.




<span class="grey">Thaler                       Informational                     [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   [<a id="ref-RFC2461">RFC2461</a>] Narten, T., Nordmark, E., and W. Simpson, &quot;Neighbor
             Discovery for IP Version 6 (IPv6)&quot;, <a href="/doc/html/rfc2461">RFC 2461</a>, December
             1998.

   [<a id="ref-RFC2462">RFC2462</a>] Thomson, S. and T. Narten, &quot;IPv6 Stateless Address
             Autoconfiguration&quot;, <a href="/doc/html/rfc2462">RFC 2462</a>, December 1998.

   [<a id="ref-RFC2644">RFC2644</a>] Senie, D., &quot;Changing the Default for Directed Broadcasts in
             Routers&quot;, <a href="/doc/html/bcp34">BCP 34</a>, <a href="/doc/html/rfc2644">RFC 2644</a>, August 1999.

   [<a id="ref-RFC3633">RFC3633</a>] Troan, O. and R. Droms, &quot;IPv6 Prefix Options for Dynamic
             Host Configuration Protocol (DHCP) version 6&quot;, <a href="/doc/html/rfc3633">RFC 3633</a>,
             December 2003.

   [<a id="ref-RFC3927">RFC3927</a>] Cheshire, S., Aboba, B., and E. Guttman, &quot;Dynamic
             Configuration of IPv4 Link-Local Addresses&quot;, <a href="/doc/html/rfc3927">RFC 3927</a>, May
             2005.

   [<a id="ref-RFC3971">RFC3971</a>] Arkko, J., Ed., Kempf, J., Zill, B., and P. Nikander,
             &quot;SEcure Neighbor Discovery (SEND)&quot;, <a href="/doc/html/rfc3971">RFC 3971</a>, March 2005.

   [<a id="ref-RFC4007">RFC4007</a>] Deering, S., Haberman, B., Jinmei, T., Nordmark, E., and B.
             Zill, &quot;IPv6 Scoped Address Architecture&quot;, <a href="/doc/html/rfc4007">RFC 4007</a>, March
             2005.

   [<a id="ref-RFC4291">RFC4291</a>] Hinden, R. and S. Deering, &quot;IP Version 6 Addressing
             Architecture&quot;, <a href="/doc/html/rfc4291">RFC 4291</a>, February 2006.

   [<a id="ref-RFC4541">RFC4541</a>] Christensen, M., Kimball, K., and F. Solensky,
             &quot;Considerations for Internet Group Management Protocol
             (IGMP) and Multicast Listener Discovery (MLD) Snooping
             Switches&quot;, <a href="/doc/html/rfc4541">RFC 4541</a>, May 2006.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Informative References</span>

   [<a id="ref-2462BIS">2462BIS</a>] Thomson, S., Narten, T., and T. Jinmei, &quot;IPv6 Stateless
             Address Autoconfiguration&quot;, Work in Progress, May 2005.

   [<a id="ref-BRIDGE">BRIDGE</a>]  T. Jeffree, editor, &quot;Media Access Control (MAC) Bridges&quot;,
             ANSI/IEEE Std 802.1D, 2004, <a href="http://standards.ieee.org/getieee802/download/802.1D-2004.pdf">http://standards.ieee.org/</a>
             <a href="http://standards.ieee.org/getieee802/download/802.1D-2004.pdf">getieee802/download/802.1D-2004.pdf</a>.

   [<a id="ref-DEERING">DEERING</a>] Deering, S., &quot;IP Multicast Extensions for 4.3BSD UNIX and
             related systems (MULTICAST 1.2 Release)&quot;, June 1989.
             <a href="http://www.kohala.com/start/mcast.api.txt">http://www.kohala.com/start/mcast.api.txt</a>






<span class="grey">Thaler                       Informational                     [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   [<a id="ref-EIGRP">EIGRP</a>]   Cisco, &quot;Enhanced Interior Gateway Routing Protocol&quot;, Cisco
             Document ID 16406, September 2005.
             <a href="http://www.cisco.com/warp/public/103/eigrp-toc.html">http://www.cisco.com/warp/public/103/eigrp-toc.html</a>

   [<a id="ref-LINUX">LINUX</a>]   Juan-Mariano de Goyeneche, &quot;Multicast over TCP/IP HOWTO&quot;,
             March 1998.  <a href="http://www.linux.com/howtos/Multicast-HOWTO-2.shtml">http://www.linux.com/howtos/Multicast-HOWTO-</a>
             <a href="http://www.linux.com/howtos/Multicast-HOWTO-2.shtml">2.shtml</a>

   [<a id="ref-LLMNR">LLMNR</a>]   Aboba, B., Thaler, D., and L. Esibov, &quot;Link-local Multicast
             Name Resolution (LLMNR)&quot;, <a href="/doc/html/rfc4795">RFC 4795</a>, January 2007.

   [<a id="ref-MDNS">MDNS</a>]    Cheshire, S. and M. Krochmal, &quot;Multicast DNS&quot;, June 2005.
             <a href="http://files.multicastdns.org/draft-cheshire-dnsext-multicastdns.txt">http://files.multicastdns.org/draft-cheshire-dnsext-</a>
             <a href="http://files.multicastdns.org/draft-cheshire-dnsext-multicastdns.txt">multicastdns.txt</a>

   [<a id="ref-MLSR">MLSR</a>]    Thaler, D. and C. Huitema, &quot;Multi-link Subnet Support in
             IPv6&quot;, Proceedings of IETF 54, June 2002.
             <a href="http://www.ietf.org/proceedings/02jul/I-D/draft-ietf-ipv6-multilink-subnets-00.txt">http://www.ietf.org/proceedings/02jul/I-D/draft-ietf-ipv6-</a>
             <a href="http://www.ietf.org/proceedings/02jul/I-D/draft-ietf-ipv6-multilink-subnets-00.txt">multilink-subnets-00.txt</a>

   [<a id="ref-RBRIDGE">RBRIDGE</a>] Perlman, R., Gai, S., and D. Dutt, &quot;Rbridges: Base Protocol
             Specification&quot;, Work in Progress, March 2007.

   [<a id="ref-RFC925">RFC925</a>]  Postel, J., &quot;Multi-LAN address resolution&quot;, <a href="/doc/html/rfc925">RFC 925</a>,
             October 1984.

   [<a id="ref-RFC1001">RFC1001</a>] NetBIOS Working Group in the Defense Advanced Research
             Projects Agency, Internet Activities Board, and End-to-End
             Services Task Force, &quot;Protocol Standard for a NetBIOS
             Service on a TCP/UDP Transport: Concepts and Methods&quot;, STD
             19, <a href="/doc/html/rfc1001">RFC 1001</a>, March 1987.

   [<a id="ref-RFC1027">RFC1027</a>] Carl-Mitchell, S. and J. Quarterman, &quot;Using ARP to
             Implement Transparent Subnet Gateways&quot;, <a href="/doc/html/rfc1027">RFC 1027</a>, October
             1987.

   [<a id="ref-RFC1075">RFC1075</a>] Waitzman, D., Partridge, C., and S. Deering, &quot;Distance
             Vector Multicast Routing Protocol&quot;, <a href="/doc/html/rfc1075">RFC 1075</a>, November
             1988.

   [<a id="ref-RFC1884">RFC1884</a>] Hinden, R., Ed., and S. Deering, Ed., &quot;IP Version 6
             Addressing Architecture&quot;, <a href="/doc/html/rfc1884">RFC 1884</a>, December 1995.

   [<a id="ref-RFC2080">RFC2080</a>] Malkin, G. and R. Minnear, &quot;RIPng for IPv6&quot;, <a href="/doc/html/rfc2080">RFC 2080</a>,
             January 1997.

   [<a id="ref-RFC2131">RFC2131</a>] Droms, R., &quot;Dynamic Host Configuration Protocol&quot;, <a href="/doc/html/rfc2131">RFC 2131</a>,
             March 1997.



<span class="grey">Thaler                       Informational                     [Page 14]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-15" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   [<a id="ref-RFC2328">RFC2328</a>] Moy, J., &quot;OSPF Version 2&quot;, STD 54, <a href="/doc/html/rfc2328">RFC 2328</a>, April 1998.

   [<a id="ref-RFC2373">RFC2373</a>] Hinden, R. and S. Deering, &quot;IP Version 6 Addressing
             Architecture&quot;, <a href="/doc/html/rfc2373">RFC 2373</a>, July 1998.

   [<a id="ref-RFC2453">RFC2453</a>] Malkin, G., &quot;RIP Version 2&quot;, STD 56, <a href="/doc/html/rfc2453">RFC 2453</a>, November
             1998.

   [<a id="ref-RFC3024">RFC3024</a>] Montenegro, G., Ed., &quot;Reverse Tunneling for Mobile IP,
             revised&quot;, <a href="/doc/html/rfc3024">RFC 3024</a>, January 2001.

   [<a id="ref-RFC3056">RFC3056</a>] Carpenter, B. and K. Moore, &quot;Connection of IPv6 Domains via
             IPv4 Clouds&quot;, <a href="/doc/html/rfc3056">RFC 3056</a>, February 2001.

   [<a id="ref-RFC3315">RFC3315</a>] Droms, R., Ed., Bound, J., Volz, B., Lemon, T., Perkins,
             C., and M. Carney, &quot;Dynamic Host Configuration Protocol for
             IPv6 (DHCPv6)&quot;, <a href="/doc/html/rfc3315">RFC 3315</a>, July 2003.

   [<a id="ref-RFC3513">RFC3513</a>] Hinden, R. and S. Deering, &quot;Internet Protocol Version 6
             (IPv6) Addressing Architecture&quot;, <a href="/doc/html/rfc3513">RFC 3513</a>, April 2003.

   [<a id="ref-RFC3753">RFC3753</a>] Manner, J., Ed., and M. Kojo, Ed., &quot;Mobility Related
             Terminology&quot;, <a href="/doc/html/rfc3753">RFC 3753</a>, June 2004.

   [<a id="ref-RFC3775">RFC3775</a>] Johnson, D., Perkins, C., and J. Arkko, &quot;Mobility Support
             in IPv6&quot;, <a href="/doc/html/rfc3775">RFC 3775</a>, June 2004.

   [<a id="ref-RFC3810">RFC3810</a>] Vida, R., Ed., and L. Costa, Ed., &quot;Multicast Listener
             Discovery Version 2 (MLDv2) for IPv6&quot;, <a href="/doc/html/rfc3810">RFC 3810</a>, June 2004.

   [<a id="ref-RFC4380">RFC4380</a>] Huitema, C., &quot;Teredo: Tunneling IPv6 over UDP through
             Network Address Translations (NATs)&quot;, <a href="/doc/html/rfc4380">RFC 4380</a>, February
             2006.

   [<a id="ref-RFC4389">RFC4389</a>] Thaler, D., Talwar, M., and C. Patel, &quot;Neighbor Discovery
             Proxies (ND Proxy)&quot;, <a href="/doc/html/rfc4389">RFC 4389</a>, April 2006.

   [<a id="ref-SCOPID">SCOPID</a>]  Deering, S., Haberman, B., Jinmei, T., Nordmark, E., Onoe,
             A., and B. Zill, &quot;IPv6 Scoped Address Architecture&quot;,
             Proceedings of IETF 54, July 2002.
             <a href="http://www.ietf.org/proceedings/02jul/I-D/draft-ietf-ipngwg-scoping-arch-04.txt">http://www.ietf.org/proceedings/02jul/I-D/draft-ietf-</a>
             <a href="http://www.ietf.org/proceedings/02jul/I-D/draft-ietf-ipngwg-scoping-arch-04.txt">ipngwg-scoping-arch-04.txt</a>

   [<a id="ref-SSDP">SSDP</a>]    Goland, Yaron Y., Cai, T., Leach, P., Gu, Y., and S.
             Albright, &quot;Simple Service Discovery Protocol (SSDP)&quot;, 1999.
             <a href="http://www.upnp.org/resources/specifications.asp">http://www.upnp.org/resources/specifications.asp</a>





<span class="grey">Thaler                       Informational                     [Page 15]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-16" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


   [<a id="ref-TCPILL">TCPILL</a>]  Stevens, W. Richard, &quot;TCP/IP Illustrated, Volume 1&quot;,
             Addison-Wesley, 1994.

   [<a id="ref-TCPIP2K">TCPIP2K</a>] MacDonald, D. and W. Barkley, &quot;Microsoft Windows 2000
             TCP/IP Implementation Details&quot;. <a href="http://www.microsoft.com/technet/itsolutions/network/deploy/depovg/tcpip2k.mspx">http://www.microsoft.com/</a>
             <a href="http://www.microsoft.com/technet/itsolutions/network/deploy/depovg/tcpip2k.mspx">technet/itsolutions/network/deploy/depovg/tcpip2k.mspx</a>

   [<a id="ref-UNP">UNP</a>]     Stevens, W. Richard, &quot;Unix Network Programming, Volume 1,
             Second Edition&quot;, Prentice Hall, 1998.

   [<a id="ref-WSDISC">WSDISC</a>]  Microsoft, &quot;Web Services Dynamic Discovery (WS-Discovery)&quot;,
             2005.  <a href="http://specs.xmlsoap.org/ws/2005/04/discovery/ws-discovery.pdf">http://specs.xmlsoap.org/ws/2005/04/discovery/ws-</a>
             <a href="http://specs.xmlsoap.org/ws/2005/04/discovery/ws-discovery.pdf">discovery.pdf</a>

IAB Members at the time of this writing

   Bernard Aboba
   Loa Andersson
   Brian Carpenter
   Leslie Daigle
   Elwyn Davies
   Kevin Fall
   Olaf Kolkman
   Kurtis Lindqvist
   David Meyer
   David Oran
   Eric Rescorla
   Dave Thaler
   Lixia Zhang

Author&#x27;s Address

   Dave Thaler
   Microsoft
   One Microsoft Way
   Redmond, WA 98052

   Phone: +1 425 703 8835
   EMail: dthaler@microsoft.com












<span class="grey">Thaler                       Informational                     [Page 16]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-17" ></span>
<span class="grey"><a href="/doc/html/rfc4903">RFC 4903</a>                Multi-Link Subnet Issues               June 2007</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="/doc/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="/doc/html/bcp78">BCP 78</a> and <a href="/doc/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.







Thaler                       Informational                     [Page 17]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

