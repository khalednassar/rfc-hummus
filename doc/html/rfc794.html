<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc794
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/rfc794/">
  <meta name="description" content="Pre-emption (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgorange"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc794.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc794.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc794.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc794/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc794/" title="Datatracker information for this document">Tracker</a>] [<a href="mailto:rfc794@ietf.org?subject=rfc794" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=rfc794-.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=rfc794-.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/rfc794-.txt" title="Run an idnits check of this document">Nits</a>]

                                                           Informational</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                            V. Cerf
Request for Comments:  794                                          ARPA
Replaces: IEN 125                                         September 1981
                              PRE-EMPTION

In circuit-switching systems, once a user has acquired a circuit, the
communication bandwidth of that circuit is dedicated, even if it is not
used.  When the system saturates, additional circuit set-up requests are
blocked.  To allow high precedence users to gain access to circuit
resources, systems such as AUTOVON associate a precedence with each
telephone instrument.  Those instruments with high precedence can
pre-empt circuit resources, causing lower precedence users to be cut
off.

In message switching systems such as AUTODIN I, incoming traffic is
stored on disks  (or drums or tape) and processed in order of
precedence.  If a high precedence message is entered into the system, it
is processed and forwarded as quickly as possible.  When the high
precedence message arrives at the destination message switch, it may
pre-empt the use of the output devices on the switch, interrupting the
printing of a lower precedence message.

In packet switching systems, there is little or no storage in the
transport system so that precedence has little impact on delay for
processing a packet.  However, when a packet switching system reaches
saturation, it rejects offered traffic.  Precedence can be used in
saturated packet switched systems to sort traffic queued for entry into
the system.

In general, precedence is a tool for deciding how to allocate resources
when systems are saturated.  In circuit switched systems, the resource
is circuits; in message switched systems the resource is the message
switch processor; and in packet switching the resource is the packet
switching system itself.

This capability can be realized in AUTODIN II without adding any new
mechanisms to TCP (except to make precedence of incoming connection
requests visible to the processes which use TCP).  To allow pre-emptive
access to a particular terminal, the software (i.e., THP) which supports
terminal access to the TAC can be configured so as to always have a
LISTEN posted for that terminal, even if the terminal has a connection
in operation.  For example in the ARPANET TENEX systems, the user TELNET
permits a user to have many connections open at one time - the user can
switch among them at will.  To the extent that this can be done without
violating security requirements, one could imagine a multi-connection
THP which always leaves a LISTEN pending for incoming connection
requests.  If a connection is established, the THP can decide, based on
its precedence, whether to pre-empt any existing connection and to
switch the user to the high precedence one.

If the user is working with several connections of different precedence
at the same time, the THP would close or abort the lowest precedence


<span class="grey">Cerf                                                            [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey">                                                          September 1981</span>
Pre-Emption


connection in favor of the higher precedence pre-empting one.  Then the
THP would do a new LISTEN on that terminal&#x27;s port in case a higher
precedence connection is attempted.

One of the reasons for suggesting this model is that processes are the
users of TCP (in general) and that TCP itself cannot cause processes to
be created on behalf of an incoming connection request.  Implementations
could be realized in which TCPs accept incoming connection requests and,
based on the destination port number, create appropriate server
processes.  In terms of pre-empting access to a remote terminal,
however, it seems more sensible to let the process which interfaces the
terminal to the system mediate the pre-emption.  If the terminal is not
connected or is turned off, there is no point in creating a process to
serve the incoming high precedence connection request.

For example, suppose a routine FTP is in operation between Host X and
Host Y.  Host Z decides to do a flash-override FTP to Host X.  It opens
a high precedence connection via its TCP and the &quot;SYN&quot; goes out to the
FTP port on Host X.

FTP always leaves one LISTEN pending to pre-empt lower precedence remote
users if it cannot serve one more user (and still keep a LISTEN
pending).  In this way, the FTP is naturally in a state permitting the
high precedence connection request to be properly served, and the FTP
can initiate any cleaning up that is needed to deal with the
pre-emption.

In general, this strategy permits the processes using TCP to accommodate
pre-emption in the context of the applications they support.

A non-pre-emptable process is one that does not have a LISTEN pending
while it is serving one (or more) users.

The actions taken to deal with pre-emption of TCP connections will be
application-process specific and this strategy of a second (or N+1st)
LISTEN is well suited to the situation.

Pre-emption may also be necessary at the site initiating a high
precedence connection request.  Suppose there is a high precedence user
who wants to open an FTP connection request from Host Z to Host X.  But
all FTP and/or TCP resources are saturated when this user tries to start
the user FTP process.  In this case, the operating system would have to
know about the precedence of the user and would have to locally pre-empt
resources on his behalf (e.g., by logging out lower precedence users).
This is a system issue, not specific only to TCP.  Implementation of
pre-emption at the source could vary greatly.  Precedence may be
associated with a user or with a terminal.  The TCP implementation may
locally pre-empt resources to serve high precedence users.  The
operating system may make all pre-emption decisions.


[Page 2]                                                            Cerf
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

