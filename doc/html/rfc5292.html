<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc5292
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-idr-bgp-prefix-orf/">
  <meta name="description" content="Address-Prefix-Based Outbound Route Filter for BGP-4 (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc5292.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc5292.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc5292.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc5292/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc5292/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/idr/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-idr-bgp-prefix-orf@ietf.org?subject=draft-ietf-idr-bgp-prefix-orf" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-idr-bgp-prefix-orf-05.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-idr-bgp-prefix-orf-05.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-idr-bgp-prefix-orf-05.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-idr-bgp-prefix-orf-05">draft-ietf-idr-bgp-prefix-orf-05</a>                 Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                           E. Chen
Request for Comments: 5292                                    S. Sangli
Category: Standards Track                                 Cisco Systems
                                                            August 2008


          <span class="h1">Address-Prefix-Based Outbound Route Filter for BGP-4</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the &quot;Internet
   Official Protocol Standards&quot; (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Abstract

   This document defines a new Outbound Router Filter (ORF) type for
   BGP, termed &quot;Address Prefix Outbound Route Filter&quot;, that can be used
   to perform address-prefix-based route filtering.  This ORF-type
   supports prefix-length- or range-based matching, wild-card-based
   address prefix matching, as well as the exact address prefix matching
   for address families.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   The Outbound Route Filtering Capability defined in [<a href="#ref-BGP-ORF" title="&quot;Outbound Route Filtering Capability for BGP-4&quot;">BGP-ORF</a>] provides
   a mechanism for a BGP speaker to send to its BGP peer a set of
   Outbound Route Filters (ORFs) that can be used by its peer to filter
   its outbound routing updates to the speaker.

   This documents defines a new ORF-type for BGP, termed &quot;Address Prefix
   Outbound Route Filter (Address Prefix ORF)&quot;, that can be used to
   perform address-prefix-based route filtering.  The Address Prefix ORF
   supports prefix-length- or range-based matching, wild-card-based
   address prefix matching, as well as the exact address prefix matching
   for address families [<a href="#ref-BGP-MP" title="&quot;Multiprotocol Extensions for BGP-4&quot;">BGP-MP</a>].

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Address Prefix ORF-Type</span>

   The Address Prefix ORF-Type allows one to express ORFs in terms of
   address prefixes.  That is, it provides address-prefix-based route
   filtering, including prefix-length- or range-based matching, as well
   as wild-card address prefix matching.

   Conceptually, an Address Prefix ORF entry consists of the fields
   &lt;Sequence, Match, Length, Prefix, Minlen, Maxlen&gt;.



<span class="grey">Chen &amp; Sangli               Standards Track                     [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc5292">RFC 5292</a>           Address-Prefix-Based ORF for BGP-4        August 2008</span>


   The &quot;Sequence&quot; field specifies the relative ordering of the entry
   among all the Address Prefix ORF entries.

   The &quot;Match&quot; field specifies whether this entry is &quot;PERMIT&quot; (value 0)
   or &quot;DENY&quot; (value 1).

   The &quot;Length&quot; field indicates the length (in bits) of the address
   prefix.  A length of zero indicates a prefix that matches all (as
   specified by the address family) addresses (with the prefix itself of
   zero octets).

   The &quot;Prefix&quot; field contains an address prefix of an address family.

   The &quot;Minlen&quot; field indicates the minimum prefix length (in bits) that
   is required for &quot;matching&quot;.  The field is considered unspecified with
   a value of 0.

   The &quot;Maxlen&quot; field indicates the maximum prefix length (in bits) that
   is required for &quot;matching&quot;.  The field is considered unspecified with
   a value of 0.

   The fields &quot;Sequence&quot;, &quot;Length&quot;, &quot;Minlen&quot;, and &quot;Maxlen&quot; are all
   unsigned integers.

   This document imposes the following requirement on the values of
   these fields:

         0 &lt;= Length &lt; Minlen &lt;= Maxlen

   However, tests related to the &quot;Minlen&quot; or &quot;Maxlen&quot; value should be
   omitted when the &quot;Minlen&quot; or &quot;Maxlen&quot; field (respectively) is
   unspecified.

   In addition, the &quot;Maxlen&quot; value must be no more than the maximum
   length (in bits) of a host address for a given address family
   [<a href="#ref-BGP-MP" title="&quot;Multiprotocol Extensions for BGP-4&quot;">BGP-MP</a>].















<span class="grey">Chen &amp; Sangli               Standards Track                     [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc5292">RFC 5292</a>           Address-Prefix-Based ORF for BGP-4        August 2008</span>


<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Address Prefix ORF Encoding</span>

   The value of the ORF-Type for the Address Prefix ORF-Type is 64.

   An Address Prefix ORF entry is encoded as follows.  The &quot;Match&quot; field
   of the entry is encoded in the &quot;Match&quot; field of the common part
   [<a href="#ref-BGP-ORF" title="&quot;Outbound Route Filtering Capability for BGP-4&quot;">BGP-ORF</a>], and the remaining fields of the entry are encoded in the
   &quot;Type specific part&quot;, as shown in Figure 1.

         +--------------------------------+
         |   Sequence (4 octets)          |
         +--------------------------------+
         |   Minlen   (1 octet)           |
         +--------------------------------+
         |   Maxlen   (1 octet)           |
         +--------------------------------+
         |   Length   (1 octet)           |
         +--------------------------------+
         |   Prefix   (variable length)   |
         +--------------------------------+

         Figure 1: Address Prefix ORF Encoding

   Note that the &quot;Prefix&quot; field contains the address prefix followed by
   enough trailing bits to make the end of the field fall on an octet
   boundary.  The value of the trailing bits is irrelevant.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Address Prefix ORF Matching</span>

   In addition to the general matching rules defined in [<a href="#ref-BGP-ORF" title="&quot;Outbound Route Filtering Capability for BGP-4&quot;">BGP-ORF</a>],
   several Address-Prefix-ORF-specific matching rules are defined as
   follows.

   Consider an Address Prefix ORF entry, and a route maintained by a BGP
   speaker with Network Layer Reachability Information (NLRI) in the
   form of &lt;Prefix, Length&gt;.

   The route is considered as &quot;no match&quot; to the ORF entry if the NLRI is
   neither more specific than, nor equal to, the &lt;Prefix, Length&gt; fields
   of the ORF entry.

   When the NLRI is either more specific than, or equal to, the &lt;Prefix,
   Length&gt; fields of the ORF entry, the route is considered as a match
   to the ORF entry only if the NLRI match condition as listed in Table
   1 is satisfied.






<span class="grey">Chen &amp; Sangli               Standards Track                     [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc5292">RFC 5292</a>           Address-Prefix-Based ORF for BGP-4        August 2008</span>


             ORF Entry                  NLRI
        Minlen      Maxlen         Match Condition
      +------------------------------------------------------+
      | un-spec.    un-spec.       NLRI.length == ORF.length |
      +------------------------------------------------------+
      | specified   un-spec.       NLRI.length &gt;= ORF.Minlen |
      +------------------------------------------------------+
      | un-spec.    specified      NLRI.length &lt;= ORF.Maxlen |
      +------------------------------------------------------+
      | specified   specified      NLRI.length &gt;= ORF.Minlen |
      |                        AND NLRI.length &lt;= ORF.Maxlen |
      +------------------------------------------------------+

      Table 1: Address Prefix ORF Matching

   When more than one Address Prefix ORF entry matches the NLRI of the
   route, the &quot;first-match&quot; rule applies.  That is, the ORF entry with
   the smallest sequence number (among all the matching ORF entries) is
   considered as the sole match, and it would determine whether the
   route should be advertised.

   The assignment of the sequence numbers is a local matter for the BGP
   speaker that sends the Address Prefix ORF entries.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  IANA Considerations</span>

   This document specifies a new Outbound Route Filtering (ORF) type,
   Address Prefix ORF.  The value of the ORF-type is 64.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Security Considerations</span>

   This extension to BGP does not change the underlying security issues
   in [<a href="#ref-BGP-4" title="&quot;A Border Gateway Protocol 4 (BGP-4)&quot;">BGP-4</a>].

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Normative References</span>

   [<a id="ref-BGP-4">BGP-4</a>]   Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., &quot;A Border
             Gateway Protocol 4 (BGP-4)&quot;, <a href="/doc/html/rfc4271">RFC 4271</a>, January 2006.

   [<a id="ref-BGP-MP">BGP-MP</a>]  Bates, T., Chandra, R., Katz, D., and Y. Rekhter,
             &quot;Multiprotocol Extensions for BGP-4&quot;, <a href="/doc/html/rfc4760">RFC 4760</a>, January
             2007.

   [<a id="ref-BGP-ORF">BGP-ORF</a>] Chen, E., and Y. Rekhter, &quot;Outbound Route Filtering
             Capability for BGP-4&quot;, <a href="/doc/html/rfc5291">RFC 5291</a>, August 2008.






<span class="grey">Chen &amp; Sangli               Standards Track                     [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc5292">RFC 5292</a>           Address-Prefix-Based ORF for BGP-4        August 2008</span>


Authors&#x27; Addresses

   Enke Chen
   Cisco Systems, Inc.
   170 W. Tasman Dr.
   San Jose, CA 95134

   EMail: enkechen@cisco.com


   Srihari R. Sangli
   Cisco Systems, Inc.
   170 W. Tasman Dr.
   San Jose, CA 95134

   EMail: rsrihari@cisco.com



































<span class="grey">Chen &amp; Sangli               Standards Track                     [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc5292">RFC 5292</a>           Address-Prefix-Based ORF for BGP-4        August 2008</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="/doc/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="/doc/html/bcp78">BCP 78</a> and <a href="/doc/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.












Chen &amp; Sangli               Standards Track                     [Page 6]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

