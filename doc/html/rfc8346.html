<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc8346
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-i2rs-yang-l3-topology/">
  <meta name="description" content="A YANG Data Model for Layer 3 Topologies (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc8346.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc8346.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc8346.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc8346/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc8346/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/i2rs/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-i2rs-yang-l3-topology@ietf.org?subject=draft-ietf-i2rs-yang-l3-topology" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-i2rs-yang-l3-topology-16.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-i2rs-yang-l3-topology-16.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-i2rs-yang-l3-topology-16.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-i2rs-yang-l3-topology-16">draft-ietf-i2rs-yang-l3-topology-16</a>              Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                          A. Clemm
Request for Comments: 8346                                        Huawei
Category: Standards Track                                      J. Medved
ISSN: 2070-1721                                                    Cisco
                                                                R. Varga
                                               Pantheon Technologies SRO
                                                                  X. Liu
                                                                   Jabil
                                                      H. Ananthakrishnan
                                                           Packet Design
                                                              N. Bahadur
                                                       Bracket Computing
                                                              March 2018


                <span class="h1">A YANG Data Model for Layer 3 Topologies</span>

Abstract

   This document defines a YANG data model for Layer 3 network
   topologies.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="/doc/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8346">https://www.rfc-editor.org/info/rfc8346</a>.
















<span class="grey">Clemm, et al.                Standards Track                    [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Key Words .......................................................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. Definitions and Acronyms ........................................<a href="#page-4">4</a>
   <a href="#section-4">4</a>. Model Structure .................................................<a href="#page-5">5</a>
   <a href="#section-5">5</a>. Layer 3 Unicast Topology Model Overview .........................<a href="#page-6">6</a>
   <a href="#section-6">6</a>. Layer 3 Unicast Topology YANG Module ............................<a href="#page-7">7</a>
   <a href="#section-7">7</a>. Interactions with Other YANG Modules ...........................<a href="#page-15">15</a>
   <a href="#section-8">8</a>. IANA Considerations ............................................<a href="#page-15">15</a>
   <a href="#section-9">9</a>. Security Considerations ........................................<a href="#page-16">16</a>
   <a href="#section-10">10</a>. References ....................................................<a href="#page-17">17</a>
      <a href="#section-10.1">10.1</a>. Normative References .....................................<a href="#page-17">17</a>
      <a href="#section-10.2">10.2</a>. Informative References ...................................<a href="#page-19">19</a>
   <a href="#appendix-A">Appendix A</a>.  Companion YANG Data Model for Implementations Not
                Compliant with NMDA ..................................<a href="#page-20">20</a>
   <a href="#appendix-B">Appendix B</a>.  Extending the Model ..................................<a href="#page-24">24</a>
     <a href="#appendix-B.1">B.1</a>.  Example OSPF Topology .....................................<a href="#page-24">24</a>
       <a href="#appendix-B.1.1">B.1.1</a>.  Model Overview ........................................<a href="#page-24">24</a>
       <a href="#appendix-B.1.2">B.1.2</a>.  OSPF Topology YANG Module .............................<a href="#page-26">26</a>
   <a href="#appendix-C">Appendix C</a>.  An Example ...........................................<a href="#page-29">29</a>
   Acknowledgments ...................................................<a href="#page-34">34</a>
   Contributors ......................................................<a href="#page-34">34</a>
   Authors&#x27; Addresses ................................................<a href="#page-35">35</a>












<span class="grey">Clemm, et al.                Standards Track                    [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   This document introduces a YANG [<a href="/doc/html/rfc7950" title="&quot;The YANG 1.1 Data Modeling Language&quot;">RFC7950</a>] [<a href="/doc/html/rfc6991" title="&quot;Common YANG Data Types&quot;">RFC6991</a>] data model for
   Layer 3 (L3) network topologies, specifically Layer 3 Unicast.  The
   model allows an application to have a holistic view of the topology
   of a Layer 3 network, all contained in a single conceptual YANG
   datastore.  The data model builds on top of, and augments, the data
   model for network topologies defined in [<a href="/doc/html/rfc8345" title="&quot;A YANG Data Model for Network Topologies&quot;">RFC8345</a>].

   This document also shows how the model can be further refined to
   cover different Layer 3 Unicast topology types.  For this purpose, an
   example model is introduced that covers OSPF [<a href="/doc/html/rfc2328" title="&quot;OSPF Version 2&quot;">RFC2328</a>].  This example
   is intended purely for illustrative purpose; we expect that a
   complete OSPF model will be more comprehensive and refined than the
   example shown in this document.

   There are multiple applications for a topology data model.  A number
   of use cases have been defined in Section 6 of [<a href="#ref-USECASE-REQS">USECASE-REQS</a>].  For
   example, nodes within the network can use the data model to capture
   their understanding of the overall network topology and expose it to
   a network controller.  A network controller can then use the
   instantiated topology data to compare and reconcile its own view of
   the network topology with that of the network elements that it
   controls.  Alternatively, nodes within the network could propagate
   this understanding to compare and reconcile this understanding either
   amongst themselves or with help of a controller.  Beyond the network
   element itself, a network controller might even use the data model to
   represent its view of the topology that it controls and expose it to
   applications north of itself.

   The data model for Layer 3 Unicast topologies defined in this
   document is specified in the YANG module &quot;ietf-l3-unicast-topology&quot;.
   This YANG module augments the general network topology model defined
   in [<a href="/doc/html/rfc8345" title="&quot;A YANG Data Model for Network Topologies&quot;">RFC8345</a>] with information specific to Layer 3 Unicast.  In this
   way, the general topology model is extended to be able to meet the
   needs of Layer 3 Unicast topologies.

   Information that is kept in the Traffic Engineering Database (TED)
   will be specified in a separate model [<a href="#ref-YANG-TE" title="&quot;YANG Data Model for Traffic Engineering (TE) Topologies&quot;">YANG-TE</a>] and is outside the
   scope of this specification.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Key Words</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in
   <a href="/doc/html/bcp14">BCP 14</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] [<a href="/doc/html/rfc8174" title="&quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;">RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.



<span class="grey">Clemm, et al.                Standards Track                    [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Definitions and Acronyms</span>

   This document defines a YANG data model and thus uses many terms
   defined in YANG [<a href="/doc/html/rfc7950" title="&quot;The YANG 1.1 Data Modeling Language&quot;">RFC7950</a>] and NETCONF [<a href="/doc/html/rfc6241" title="&quot;Network Configuration Protocol (NETCONF)&quot;">RFC6241</a>].  Some terms, such as
   &quot;datastore&quot; and &quot;data tree&quot;, are repeated here for clarity and
   context.

   Datastore:  A conceptual place to store and access information.  A
      datastore might be implemented, for example, using files, a
      database, flash memory locations, or combinations thereof.  A
      datastore maps to an instantiated YANG data tree (definition
      adopted from [<a href="/doc/html/rfc8342" title="&quot;Network Management Datastore Architecture (NMDA)&quot;">RFC8342</a>]).

   Data subtree:  An instantiated data node and the data nodes that are
      hierarchically contained within it.

   IS-IS:  Intermediate System to Intermediate System protocol

   LSP:  Label Switched Path

   NETCONF:  Network Configuration Protocol

   NMDA:  Network Management Datastore Architecture

   OSPF:  Open Shortest Path First (a link-state routing protocol)

   URI:  Uniform Resource Identifier

   TED:  Traffic Engineering Database

   YANG:  YANG is a data modeling language used to model configuration
      data, state data, Remote Procedure Calls, and notifications for
      network management protocols [<a href="/doc/html/rfc7950" title="&quot;The YANG 1.1 Data Modeling Language&quot;">RFC7950</a>].


















<span class="grey">Clemm, et al.                Standards Track                    [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Model Structure</span>

   The Layer 3 Unicast topology model is defined by YANG module
   &quot;l3-unicast-topology&quot;.  The relationship of this module with other
   YANG modules is roughly depicted in the figure below.

                      +-----------------------------+
                      |  +-----------------------+  |
                      |  |      ietf-network     |  |
                      |  +----------^------------+  |
                      |             |               |
                      |  +-----------------------+  |
                      |  | ietf-network-topology |  |
                      |  +----------+------------+  |
                      +-------------^---------------+
                                    |
                                    |
                       +------------^-------------+
                       | ietf-l3-unicast-topology |
                       +------------^-------------+
                                    |
                                    |
                        +-----------^-----------+
                        | example-ospf-topology |
                        +-----------------------+

                     Figure 1: Overall Model Structure

   YANG modules &quot;ietf-network&quot; and &quot;ietf-network-topology&quot; collectively
   define the basic network topology model [<a href="/doc/html/rfc8345" title="&quot;A YANG Data Model for Network Topologies&quot;">RFC8345</a>].  YANG module
   &quot;ietf-l3-unicast-topology&quot; augments those models with additional
   definitions needed to represent Layer 3 Unicast topologies.  This
   module in turn can be augmented by YANG modules with additional
   definitions for specific types of Layer 3 Unicast topologies, such as
   OSPF and IS-IS topologies.

   The YANG modules &quot;ietf-network&quot; and &quot;ietf-network-topology&quot; are
   designed to be used in conjunction with implementations that support
   the Network Management Datastore Architecture (NMDA) defined in
   [<a href="/doc/html/rfc8342" title="&quot;Network Management Datastore Architecture (NMDA)&quot;">RFC8342</a>].  Accordingly, the same is true for the YANG modules that
   augment it.  In order to allow implementations to use the model even
   in cases when NMDA is not supported, companion YANG modules (that
   SHOULD NOT be supported by implementations that support NMDA) are
   defined in <a href="#appendix-A">Appendix A</a>.







<span class="grey">Clemm, et al.                Standards Track                    [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Layer 3 Unicast Topology Model Overview</span>

   The Layer 3 Unicast topology model is defined by YANG module
   &quot;ietf-l3-unicast-topology&quot;.  Its structure is depicted in the
   following diagram.  The notation syntax follows [<a href="/doc/html/rfc8340" title="&quot;YANG Tree Diagrams&quot;">RFC8340</a>].  For
   purposes of brevity, notifications are not depicted.

   module: ietf-l3-unicast-topology
     augment /nw:networks/nw:network/nw:network-types:
       +--rw l3-unicast-topology!
     augment /nw:networks/nw:network:
       +--rw l3-topology-attributes
          +--rw name?   string
          +--rw flag*   l3-flag-type
     augment /nw:networks/nw:network/nw:node:
       +--rw l3-node-attributes
          +--rw name?        inet:domain-name
          +--rw flag*        node-flag-type
          +--rw router-id*   rt-types:router-id
          +--rw prefix* [prefix]
             +--rw prefix    inet:ip-prefix
             +--rw metric?   uint32
             +--rw flag*     prefix-flag-type
     augment /nw:networks/nw:network/nt:link:
       +--rw l3-link-attributes
          +--rw name?      string
          +--rw flag*      link-flag-type
          +--rw metric1?   uint64
          +--rw metric2?   uint64
     augment /nw:networks/nw:network/nw:node/nt:termination-point:
       +--rw l3-termination-point-attributes
          +--rw (termination-point-type)?
             +--:(ip)
             |  +--rw ip-address*       inet:ip-address
             +--:(unnumbered)
             |  +--rw unnumbered-id?    uint32
             +--:(interface-name)
                +--rw interface-name?   string

   The module augments the original &quot;ietf-network&quot; and &quot;ietf-network-
   topology&quot; modules as follows:

   o  A new network topology type is introduced, l3-unicast-topology.
      The corresponding container augments the network-types of the
      &quot;ietf-network&quot; module.






<span class="grey">Clemm, et al.                Standards Track                    [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


   o  Additional topology attributes are introduced, defined in a
      grouping that augments the &quot;network&quot; list of the network module.
      The attributes include a name for the topology and a set of flags
      (represented by a leaf-list).  Each type of flag is represented by
      a separate identity.  This allows additional flags to be
      introduced in augmenting modules using additional identities
      without needing to revise this module.

   o  Additional data objects for nodes are introduced by augmenting the
      &quot;node&quot; list of the network module.  New objects include a set of
      flags and a list of prefixes.  Each prefix includes an IP prefix,
      a metric, and a prefix-specific set of flags.

   o  Links (in the &quot;ietf-network-topology&quot; module) are augmented with a
      set of parameters that allow a link to be associated with a link
      name, another set of flags, and a link metric.

   o  Termination points (in the &quot;ietf-network-topology&quot; module) are
      augmented with a choice of IP address, identifier, or name.

   In addition, the module defines a set of notifications to alert
   clients of any events concerning links, nodes, prefixes, and
   termination points.  Each notification includes an indication of the
   type of event, the topology from which it originated, and the
   affected node, link, prefix, or termination point.  Also, as a
   convenience to applications, additional data of the affected node,
   link, prefix, or termination point is included.  While this makes
   notifications larger in volume than they need to be, it avoids the
   need for subsequent retrieval of context information that might have
   changed in the meantime.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Layer 3 Unicast Topology YANG Module</span>

   This YANG module makes reference to the following documents:
   [<a href="/doc/html/rfc2863" title="&quot;The Interfaces Group MIB&quot;">RFC2863</a>] and [<a href="/doc/html/rfc8343" title="&quot;A YANG Data Model for Interface Management&quot;">RFC8343</a>].

   &lt;CODE BEGINS&gt; file &quot;ietf-l3-unicast-topology@2018-02-26.yang&quot;
   module ietf-l3-unicast-topology {
     yang-version 1.1;
     namespace
       &quot;urn:ietf:params:xml:ns:yang:ietf-l3-unicast-topology&quot;;
     prefix &quot;l3t&quot;;
     import ietf-network {
       prefix &quot;nw&quot;;
     }
     import ietf-network-topology {
       prefix &quot;nt&quot;;
     }



<span class="grey">Clemm, et al.                Standards Track                    [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


     import ietf-inet-types {
       prefix &quot;inet&quot;;
     }
     import ietf-routing-types {
       prefix &quot;rt-types&quot;;
     }
     organization
       &quot;IETF I2RS (Interface to the Routing System) Working Group&quot;;
     contact
       &quot;WG Web:    &lt;<a href="https://datatracker.ietf.org/wg/i2rs/">https://datatracker.ietf.org/wg/i2rs/</a>&gt;
        WG List:   &lt;mailto:i2rs@ietf.org&gt;
        Editor:    Alexander Clemm
                   &lt;mailto:ludwig@clemm.org&gt;
        Editor:    Jan Medved
                   &lt;mailto:jmedved@cisco.com&gt;
        Editor:    Robert Varga
                   &lt;mailto:robert.varga@pantheon.tech&gt;
        Editor:    Xufeng Liu
                   &lt;mailto:xufeng.liu.ietf@gmail.com&gt;
        Editor:    Nitin Bahadur
                   &lt;mailto:nitin_bahadur@yahoo.com&gt;
        Editor:    Hariharan Ananthakrishnan
                   &lt;mailto:hari@packetdesign.com&gt;&quot;;
     description
       &quot;This module defines a model for Layer 3 Unicast
        topologies.

        Copyright (c) 2018 IETF Trust and the persons identified as
        authors of the code.  All rights reserved.

        Redistribution and use in source and binary forms, with or
        without modification, is permitted pursuant to, and subject
        to the license terms contained in, the Simplified BSD License
        set forth in <a href="#section-4">Section 4</a>.c of the IETF Trust&#x27;s Legal Provisions
        Relating to IETF Documents
        (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>).

        This version of this YANG module is part of
        <a href="/doc/html/rfc8346">RFC 8346</a>; see the RFC itself for full legal notices.&quot;;
     revision &quot;2018-02-26&quot; {
       description
         &quot;Initial revision.&quot;;
       reference
         &quot;<a href="/doc/html/rfc8346">RFC 8346</a>: A YANG Data Model for Layer 3 Topologies&quot;;
     }

     identity flag-identity {
       description &quot;Base type for flags&quot;;



<span class="grey">Clemm, et al.                Standards Track                    [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


     }

     typedef l3-event-type {
       type enumeration {
         enum &quot;add&quot; {
           description
             &quot;A Layer 3 node, link, prefix, or termination point has
             been added&quot;;
         }
         enum &quot;remove&quot; {
           description
             &quot;A Layer 3 node, link, prefix, or termination point has
             been removed&quot;;
         }
         enum &quot;update&quot; {
           description
             &quot;A Layer 3 node, link, prefix, or termination point has
             been updated&quot;;
         }
       }
       description &quot;Layer 3 event type for notifications&quot;;
     }

     typedef prefix-flag-type {
       type identityref {
         base &quot;flag-identity&quot;;
       }
       description &quot;Prefix flag attributes&quot;;
     }

     typedef node-flag-type {
       type identityref {
         base &quot;flag-identity&quot;;
       }
       description &quot;Node flag attributes&quot;;
     }

     typedef link-flag-type {
       type identityref {
         base &quot;flag-identity&quot;;
       }
       description &quot;Link flag attributes&quot;;
     }

     typedef l3-flag-type {
       type identityref {
         base &quot;flag-identity&quot;;
       }



<span class="grey">Clemm, et al.                Standards Track                    [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


       description &quot;L3 flag attributes&quot;;
     }

     grouping l3-prefix-attributes {
       description
         &quot;L3 prefix attributes&quot;;
       leaf prefix {
         type inet:ip-prefix;
         description
           &quot;IP prefix value&quot;;
       }
       leaf metric {
         type uint32;
         description
           &quot;Prefix metric&quot;;
       }
       leaf-list flag {
         type prefix-flag-type;
         description
           &quot;Prefix flags&quot;;
       }
     }
     grouping l3-unicast-topology-type {
       description &quot;Identifies the topology type to be L3 Unicast.&quot;;
       container l3-unicast-topology {
         presence &quot;indicates L3 Unicast topology&quot;;
         description
           &quot;The presence of the container node indicates L3 Unicast
           topology&quot;;
       }
     }
     grouping l3-topology-attributes {
       description &quot;Topology scope attributes&quot;;
       container l3-topology-attributes {
         description &quot;Contains topology attributes&quot;;
         leaf name {
           type string;
           description
             &quot;Name of the topology&quot;;
         }
         leaf-list flag {
           type l3-flag-type;
           description
             &quot;Topology flags&quot;;
         }
       }
     }
     grouping l3-node-attributes {



<span class="grey">Clemm, et al.                Standards Track                   [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


       description &quot;L3 node scope attributes&quot;;
       container l3-node-attributes {
         description
           &quot;Contains node attributes&quot;;
         leaf name {
           type inet:domain-name;
           description
             &quot;Node name&quot;;
         }
         leaf-list flag {
           type node-flag-type;
           description
             &quot;Node flags&quot;;
         }
         leaf-list router-id {
           type rt-types:router-id;
           description
             &quot;Router-id for the node&quot;;
         }
         list prefix {
           key &quot;prefix&quot;;
           description
             &quot;A list of prefixes along with their attributes&quot;;
           uses l3-prefix-attributes;
         }
       }
     }
     grouping l3-link-attributes {
       description
         &quot;L3 link scope attributes&quot;;
       container l3-link-attributes {
         description
           &quot;Contains link attributes&quot;;
         leaf name {
           type string;
           description
             &quot;Link Name&quot;;
         }
         leaf-list flag {
           type link-flag-type;
           description
             &quot;Link flags&quot;;
         }
         leaf metric1 {
           type uint64;
           description
               &quot;Link Metric 1&quot;;
         }



<span class="grey">Clemm, et al.                Standards Track                   [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


         leaf metric2 {
           type uint64;
           description
               &quot;Link Metric 2&quot;;
         }
       }
     }
     grouping l3-termination-point-attributes {
       description &quot;L3 termination point scope attributes&quot;;
       container l3-termination-point-attributes {
         description
           &quot;Contains termination point attributes&quot;;
         choice termination-point-type {
           description
             &quot;Indicates the termination point type&quot;;
           case ip {
             leaf-list ip-address {
               type inet:ip-address;
               description
                 &quot;IPv4 or IPv6 address.&quot;;
             }
           }
           case unnumbered {
             leaf unnumbered-id {
               type uint32;
               description
                 &quot;Unnumbered interface identifier.
                  The identifier will correspond to the ifIndex value
                  of the interface, i.e., the ifIndex value of the
                  ifEntry that represents the interface in
                  implementations where the Interfaces Group MIB
                  (<a href="/doc/html/rfc2863">RFC 2863</a>) is supported.&quot;;
               reference
                 &quot;<a href="/doc/html/rfc2863">RFC 2863</a>: The Interfaces Group MIB&quot;;
             }
           }
           case interface-name {
             leaf interface-name {
               type string;
               description
                 &quot;Name of the interface.  The name can (but does not
                  have to) correspond to an interface reference of a
                  containing node&#x27;s interface, i.e., the path name of a
                  corresponding interface data node on the containing
                  node reminiscent of data type interface-ref defined
                  in <a href="/doc/html/rfc8343">RFC 8343</a>. It should be noted that data type
                  interface-ref of <a href="/doc/html/rfc8343">RFC 8343</a> cannot be used directly,




<span class="grey">Clemm, et al.                Standards Track                   [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


                  as this data type is used to reference an interface
                  in a datastore of a single node in the network, not
                  to uniquely reference interfaces across a network.&quot;;
               reference
                 &quot;<a href="/doc/html/rfc8343">RFC 8343</a>: A YANG Data Model for Interface Management&quot;;
             }
           }
         }
       }
     }
     augment &quot;/nw:networks/nw:network/nw:network-types&quot; {
       description
         &quot;Introduces new network type for L3 Unicast topology&quot;;
       uses l3-unicast-topology-type;
     }
     augment &quot;/nw:networks/nw:network&quot; {
       when &quot;nw:network-types/l3t:l3-unicast-topology&quot; {
         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }
       description
           &quot;L3 Unicast for the network as a whole&quot;;
       uses l3-topology-attributes;
     }
     augment &quot;/nw:networks/nw:network/nw:node&quot; {
       when &quot;../nw:network-types/l3t:l3-unicast-topology&quot; {
         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }
       description
           &quot;L3 Unicast node-level attributes &quot;;
       uses l3-node-attributes;
     }
     augment &quot;/nw:networks/nw:network/nt:link&quot; {
       when &quot;../nw:network-types/l3t:l3-unicast-topology&quot; {
         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }
       description
         &quot;Augments topology link attributes&quot;;
       uses l3-link-attributes;
     }
     augment &quot;/nw:networks/nw:network/nw:node/&quot;
            +&quot;nt:termination-point&quot; {
       when &quot;../../nw:network-types/l3t:l3-unicast-topology&quot; {



<span class="grey">Clemm, et al.                Standards Track                   [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }
       description &quot;Augments topology termination point configuration&quot;;
       uses l3-termination-point-attributes;
     }
     notification l3-node-event {
       description
         &quot;Notification event for L3 node&quot;;
       leaf l3-event-type {
         type l3-event-type;
         description
           &quot;Event type&quot;;
       }
       uses nw:node-ref;
       uses l3-unicast-topology-type;
       uses l3-node-attributes;
     }
     notification l3-link-event {
       description
         &quot;Notification event for L3 link&quot;;
       leaf l3-event-type {
         type l3-event-type;
         description
           &quot;Event type&quot;;
       }
       uses nt:link-ref;
       uses l3-unicast-topology-type;
       uses l3-link-attributes;
     }
     notification l3-prefix-event {
       description
         &quot;Notification event for L3 prefix&quot;;
       leaf l3-event-type {
         type l3-event-type;
         description
           &quot;Event type&quot;;
       }
       uses nw:node-ref;
       uses l3-unicast-topology-type;
       container prefix {
         description
           &quot;Contains L3 prefix attributes&quot;;
         uses l3-prefix-attributes;
       }
     }
     notification termination-point-event {



<span class="grey">Clemm, et al.                Standards Track                   [Page 14]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-15" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


       description
         &quot;Notification event for L3 termination point&quot;;
       leaf l3-event-type {
         type l3-event-type;
         description
           &quot;Event type&quot;;
       }
       uses nt:tp-ref;
       uses l3-unicast-topology-type;
       uses l3-termination-point-attributes;
     }
   }

   &lt;CODE ENDS&gt;

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Interactions with Other YANG Modules</span>

   As described in <a href="#section-4">Section 4</a>, the model defined in this document builds
   on top of, and augments, the YANG modules defined in [<a href="/doc/html/rfc8345" title="&quot;A YANG Data Model for Network Topologies&quot;">RFC8345</a>].
   Specifically, the &quot;ietf-l3-unicast-topology&quot; module augments the
   &quot;ietf-network&quot; and &quot;ietf-network-topology&quot; modules.  In addition, the
   model makes use of data types defined in [<a href="/doc/html/rfc6991" title="&quot;Common YANG Data Types&quot;">RFC6991</a>].

   The model defined in this document is a protocol-independent YANG
   data model with Layer 3 topology information.  It is separate from
   and not linked with data models that are used to configure routing
   protocols or routing information, e.g., &quot;ietf-routing&quot; [<a href="/doc/html/rfc8022" title="&quot;A YANG Data Model for Routing Management&quot;">RFC8022</a>] and
   &quot;ietf-rib-extension&quot; [<a href="#ref-YANG-RIB" title="&quot;RIB YANG Data Model&quot;">YANG-RIB</a>].  That said, the model does import a
   type definition from model &quot;ietf-routing-types&quot; [<a href="/doc/html/rfc8294" title="&quot;Common YANG Data Types for the Routing Area&quot;">RFC8294</a>].

   The model complies with the requirements for the ephemeral state
   found in [<a href="/doc/html/rfc8242" title="&quot;Interface to the Routing System (I2RS) Ephemeral State Requirements&quot;">RFC8242</a>].  For ephemeral topology data that is server
   provided, the process tasked with maintaining topology information
   will load information from the routing process (such as OSPF) into
   the data model without relying on a configuration datastore.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  IANA Considerations</span>

   This document registers the following namespace URIs in the &quot;IETF XML
   Registry&quot; [<a href="/doc/html/rfc3688" title="&quot;The IETF XML Registry&quot;">RFC3688</a>]:

   URI: urn:ietf:params:xml:ns:yang:ietf-l3-unicast-topology
   Registrant Contact: The IESG.
   XML: N/A; the requested URI is an XML namespace.

   URI: urn:ietf:params:xml:ns:yang:ietf-l3-unicast-topology-state
   Registrant Contact: The IESG.
   XML: N/A; the requested URI is an XML namespace.



<span class="grey">Clemm, et al.                Standards Track                   [Page 15]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-16" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


   This document registers the following YANG modules in the &quot;YANG
   Module Names&quot; registry [<a href="/doc/html/rfc6020" title="&quot;YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)&quot;">RFC6020</a>]:

   Name: ietf-l3-unicast-topology
   Namespace: urn:ietf:params:xml:ns:yang:ietf-l3-unicast-topology
   Prefix: l3t
   Reference: <a href="/doc/html/rfc8346">RFC 8346</a>

   Name: ietf-l3-unicast-topology-state
   Namespace: urn:ietf:params:xml:ns:yang:ietf-l3-unicast-topology-state
   Prefix: l3t-s
   Reference: <a href="/doc/html/rfc8346">RFC 8346</a>

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  Security Considerations</span>

   The YANG modules specified in this document define a schema for data
   that is designed to be accessed via network management protocols such
   as NETCONF [<a href="/doc/html/rfc6241" title="&quot;Network Configuration Protocol (NETCONF)&quot;">RFC6241</a>] or RESTCONF [<a href="/doc/html/rfc8040" title="&quot;RESTCONF Protocol&quot;">RFC8040</a>].  The lowest NETCONF layer
   is the secure transport layer, and the mandatory-to-implement secure
   transport is Secure Shell (SSH) [<a href="/doc/html/rfc6242" title="&quot;Using the NETCONF Protocol over Secure Shell (SSH)&quot;">RFC6242</a>].  The lowest RESTCONF layer
   is HTTPS, and the mandatory-to-implement secure transport is TLS
   [<a href="/doc/html/rfc5246" title="&quot;The Transport Layer Security (TLS) Protocol Version 1.2&quot;">RFC5246</a>].

   The NETCONF access control model [<a href="/doc/html/rfc8341" title="&quot;Network Configuration Access Control Model&quot;">RFC8341</a>] provides the means to
   restrict access for particular NETCONF or RESTCONF users to a
   preconfigured subset of all available NETCONF or RESTCONF protocol
   operations and content.

   In general, Layer 3 Unicast topologies are system-controlled and
   provide ephemeral topology information.  In an NMDA-compliant server,
   they are only part of &lt;operational&gt;, which provides read-only access
   to clients, so they are less vulnerable.  That said, the YANG modules
   do in principle allow information to be configurable.

   There are a number of data nodes defined in these YANG modules that
   are writable/creatable/deletable (i.e., config true, which is the
   default).  These data nodes may be considered sensitive or vulnerable
   in some network environments.  Write operations (e.g., edit-config)
   to these data nodes without proper protection can have a negative
   effect on network operations.  These are the subtrees and data nodes
   and their sensitivity/vulnerability in the &quot;ietf-l3-unicast-topology&quot;
   module:

   o  l3-topology-attributes: A malicious client could attempt to
      sabotage the configuration of any of the contained attributes,
      i.e., the name or the flag data nodes.





<span class="grey">Clemm, et al.                Standards Track                   [Page 16]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-17" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


   o  l3-node-attributes: A malicious client could attempt to sabotage
      the configuration of important node attributes, such as the
      router-id or node prefix.

   o  l3-link-attributes: A malicious client could attempt to sabotage
      the configuration of important link attributes, such as name,
      flag, and metrics of the link.

   o  l3-termination-point-attributes: A malicious client could attempt
      to sabotage the configuration information of a termination point,
      such as the termination point&#x27;s IP address and interface name.

<span class="h2"><a class="selflink" id="section-10" href="#section-10">10</a>.  References</span>

<span class="h3"><a class="selflink" id="section-10.1" href="#section-10.1">10.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC2328">RFC2328</a>]  Moy, J., &quot;OSPF Version 2&quot;, STD 54, <a href="/doc/html/rfc2328">RFC 2328</a>,
              DOI 10.17487/RFC2328, April 1998,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2328">https://www.rfc-editor.org/info/rfc2328</a>&gt;.

   [<a id="ref-RFC2863">RFC2863</a>]  McCloghrie, K. and F. Kastenholz, &quot;The Interfaces Group
              MIB&quot;, <a href="/doc/html/rfc2863">RFC 2863</a>, DOI 10.17487/RFC2863, June 2000,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2863">https://www.rfc-editor.org/info/rfc2863</a>&gt;.

   [<a id="ref-RFC3688">RFC3688</a>]  Mealling, M., &quot;The IETF XML Registry&quot;, <a href="/doc/html/bcp81">BCP 81</a>, <a href="/doc/html/rfc3688">RFC 3688</a>,
              DOI 10.17487/RFC3688, January 2004,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;.

   [<a id="ref-RFC5246">RFC5246</a>]  Dierks, T. and E. Rescorla, &quot;The Transport Layer Security
              (TLS) Protocol Version 1.2&quot;, <a href="/doc/html/rfc5246">RFC 5246</a>,
              DOI 10.17487/RFC5246, August 2008,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5246">https://www.rfc-editor.org/info/rfc5246</a>&gt;.

   [<a id="ref-RFC6020">RFC6020</a>]  Bjorklund, M., Ed., &quot;YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)&quot;, <a href="/doc/html/rfc6020">RFC 6020</a>,
              DOI 10.17487/RFC6020, October 2010,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6020">https://www.rfc-editor.org/info/rfc6020</a>&gt;.

   [<a id="ref-RFC6241">RFC6241</a>]  Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
              and A. Bierman, Ed., &quot;Network Configuration Protocol
              (NETCONF)&quot;, <a href="/doc/html/rfc6241">RFC 6241</a>, DOI 10.17487/RFC6241, June 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;.




<span class="grey">Clemm, et al.                Standards Track                   [Page 17]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-18" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


   [<a id="ref-RFC6242">RFC6242</a>]  Wasserman, M., &quot;Using the NETCONF Protocol over Secure
              Shell (SSH)&quot;, <a href="/doc/html/rfc6242">RFC 6242</a>, DOI 10.17487/RFC6242, June 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;.

   [<a id="ref-RFC6991">RFC6991</a>]  Schoenwaelder, J., Ed., &quot;Common YANG Data Types&quot;,
              <a href="/doc/html/rfc6991">RFC 6991</a>, DOI 10.17487/RFC6991, July 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6991">https://www.rfc-editor.org/info/rfc6991</a>&gt;.

   [<a id="ref-RFC7950">RFC7950</a>]  Bjorklund, M., Ed., &quot;The YANG 1.1 Data Modeling Language&quot;,
              <a href="/doc/html/rfc7950">RFC 7950</a>, DOI 10.17487/RFC7950, August 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;.

   [<a id="ref-RFC7951">RFC7951</a>]  Lhotka, L., &quot;JSON Encoding of Data Modeled with YANG&quot;,
              <a href="/doc/html/rfc7951">RFC 7951</a>, DOI 10.17487/RFC7951, August 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7951">https://www.rfc-editor.org/info/rfc7951</a>&gt;.

   [<a id="ref-RFC8040">RFC8040</a>]  Bierman, A., Bjorklund, M., and K. Watsen, &quot;RESTCONF
              Protocol&quot;, <a href="/doc/html/rfc8040">RFC 8040</a>, DOI 10.17487/RFC8040, January 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in <a href="/doc/html/rfc2119">RFC</a>
              <a href="/doc/html/rfc2119">2119</a> Key Words&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc8174">RFC 8174</a>, DOI 10.17487/RFC8174,
              May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-RFC8294">RFC8294</a>]  Liu, X., Qu, Y., Lindem, A., Hopps, C., and L. Berger,
              &quot;Common YANG Data Types for the Routing Area&quot;, <a href="/doc/html/rfc8294">RFC 8294</a>,
              DOI 10.17487/RFC8294, December 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8294">https://www.rfc-editor.org/info/rfc8294</a>&gt;.

   [<a id="ref-RFC8341">RFC8341</a>]  Bierman, A. and M. Bjorklund, &quot;Network Configuration
              Access Control Model&quot;, STD 91, <a href="/doc/html/rfc8341">RFC 8341</a>,
              DOI 10.17487/RFC8341, March 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;.

   [<a id="ref-RFC8342">RFC8342</a>]  Bjorklund, M., Schoenwaelder, J., Shafer, P., Watsen, K.,
              and R. Wilton, &quot;Network Management Datastore Architecture
              (NMDA)&quot;, <a href="/doc/html/rfc8342">RFC 8342</a>, DOI 10.17487/RFC8342, March 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8342">https://www.rfc-editor.org/info/rfc8342</a>&gt;.

   [<a id="ref-RFC8345">RFC8345</a>]  Clemm, A., Medved, J., Varga, R., Bahadur, N.,
              Ananthakrishnan, H., and X. Liu, &quot;A YANG Data Model for
              Network Topologies&quot;, <a href="/doc/html/rfc8345">RFC 8345</a>, DOI 10.17487/RFC8345, March
              2018, &lt;<a href="https://www.rfc-editor.org/info/rfc8345">https://www.rfc-editor.org/info/rfc8345</a>&gt;.








<span class="grey">Clemm, et al.                Standards Track                   [Page 18]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-19" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


<span class="h3"><a class="selflink" id="section-10.2" href="#section-10.2">10.2</a>.  Informative References</span>

   [<a id="ref-RFC8022">RFC8022</a>]  Lhotka, L. and A. Lindem, &quot;A YANG Data Model for Routing
              Management&quot;, <a href="/doc/html/rfc8022">RFC 8022</a>, DOI 10.17487/RFC8022, November
              2016, &lt;<a href="https://www.rfc-editor.org/info/rfc8022">https://www.rfc-editor.org/info/rfc8022</a>&gt;.

   [<a id="ref-RFC8242">RFC8242</a>]  Haas, J. and S. Hares, &quot;Interface to the Routing System
              (I2RS) Ephemeral State Requirements&quot;, <a href="/doc/html/rfc8242">RFC 8242</a>,
              DOI 10.17487/RFC8242, September 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8242">https://www.rfc-editor.org/info/rfc8242</a>&gt;.

   [<a id="ref-RFC8340">RFC8340</a>]  Bjorklund, M. and L. Berger, Ed., &quot;YANG Tree Diagrams&quot;,
              <a href="/doc/html/bcp215">BCP 215</a>, <a href="/doc/html/rfc8340">RFC 8340</a>, DOI 10.17487/RFC8340, March 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;.

   [<a id="ref-RFC8343">RFC8343</a>]  Bjorklund, M., &quot;A YANG Data Model for Interface
              Management&quot;, <a href="/doc/html/rfc8343">RFC 8343</a>, DOI 10.17487/RFC8343, March 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8343">https://www.rfc-editor.org/info/rfc8343</a>&gt;.

   [<a id="ref-USECASE-REQS">USECASE-REQS</a>]
              Hares, S. and M. Chen, &quot;Summary of I2RS Use Case
              Requirements&quot;, Work in Progress, <a href="/doc/html/draft-ietf-i2rs-usecase-reqs-summary-03">draft-ietf-i2rs-usecase-</a>
              <a href="/doc/html/draft-ietf-i2rs-usecase-reqs-summary-03">reqs-summary-03</a>, November 2016.

   [<a id="ref-YANG-RIB">YANG-RIB</a>] Lindem, A. and Y. Qu, &quot;RIB YANG Data Model&quot;, Work in
              Progress, <a href="/doc/html/draft-acee-rtgwg-yang-rib-extend-06">draft-acee-rtgwg-yang-rib-extend-06</a>, January
              2018.

   [<a id="ref-YANG-TE">YANG-TE</a>]  Liu, X., Bryskin, I., Beeram, V., Saad, T., Shah, H., and
              O. Gonzalez de Dios, &quot;YANG Data Model for Traffic
              Engineering (TE) Topologies&quot;, Work in Progress,
              <a href="/doc/html/draft-ietf-teas-yang-te-topo-15">draft-ietf-teas-yang-te-topo-15</a>, February 2018.



















<span class="grey">Clemm, et al.                Standards Track                   [Page 19]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-20" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


<span class="h2"><a class="selflink" id="appendix-A" href="#appendix-A">Appendix A</a>.  Companion YANG Data Model for Implementations Not Compliant</span>
             with NMDA

   The YANG module &quot;ietf-l3-unicast-topology&quot; defined in this document
   augments two modules defined in [<a href="/doc/html/rfc8345" title="&quot;A YANG Data Model for Network Topologies&quot;">RFC8345</a>]: &quot;ietf-network&quot; and
   &quot;ietf-network-topology&quot;.  These two modules were designed to be used
   in conjunction with implementations that support the Network
   Management Datastore Architecture (NMDA) defined in [<a href="/doc/html/rfc8342" title="&quot;Network Management Datastore Architecture (NMDA)&quot;">RFC8342</a>].  In
   order to allow implementations to use the model in cases when NMDA is
   not supported, [<a href="/doc/html/rfc8345" title="&quot;A YANG Data Model for Network Topologies&quot;">RFC8345</a>] defines two companion modules,
   &quot;ietf-network- state&quot; and &quot;ietf-network-topology-state&quot;, that
   represent state models of networks and network topologies,
   respectively.

   In order to be able to use the model for Layer 3 topologies defined
   in this document in conjunction with implementations not compliant
   with NMDA, a corresponding companion module needs to be introduced as
   well.  This companion module, &quot;ietf-l3-unicast-topology-state&quot;,
   mirrors &quot;ietf-l3-unicast-topology&quot;.  However, the module augments
   &quot;ietf-network-state&quot; and &quot;ietf-network-topology-state&quot; (instead of
   &quot;ietf-network&quot; and &quot;ietf-network-topology&quot;), and all of its data
   nodes are non-configurable.

   Similar considerations apply to any module that augments &quot;ietf-l3-
   unicast-topology&quot;, such as the example module defined in <a href="#appendix-B">Appendix B</a>
   (i.e., example-ospf-topology).  For implementations that are not
   compliant with NMDA, companion modules that represent state
   information and that are non-configurable will need to be introduced.
   These modules augment &quot;ietf-l3-unicast-topology-state&quot; instead of
   &quot;ietf-l3-unicast-topology&quot;.  Companion modules for the example module
   defined in <a href="#appendix-B">Appendix B</a> are not provided (since it is just an example).

   Like &quot;ietf-network-state&quot; and &quot;ietf-network-topology-state&quot;,
   &quot;ietf-l3-unicast-topology&quot; SHOULD NOT be supported by implementations
   that support NMDA.  The module is therefore defined in an appendix.

   The definition of the module follows below.  As the structure of the
   module mirrors that of its underlying module, the YANG tree is not
   depicted separately.

   &lt;CODE BEGINS&gt; file &quot;ietf-l3-unicast-topology-state@2018-02-26.yang&quot;
   module ietf-l3-unicast-topology-state {
     yang-version 1.1;
     namespace
       &quot;urn:ietf:params:xml:ns:yang:ietf-l3-unicast-topology-state&quot;;
     prefix &quot;l3t-s&quot;;
     import ietf-network-state {
       prefix &quot;nw-s&quot;;



<span class="grey">Clemm, et al.                Standards Track                   [Page 20]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-21" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


     }
     import ietf-network-topology-state {
       prefix &quot;nt-s&quot;;
     }
     import ietf-l3-unicast-topology {
       prefix &quot;l3t&quot;;
     }
     organization
       &quot;IETF I2RS (Interface to the Routing System) Working Group&quot;;
     contact
       &quot;WG Web:    &lt;<a href="https://datatracker.ietf.org/wg/i2rs/">https://datatracker.ietf.org/wg/i2rs/</a>&gt;
        WG List:   &lt;mailto:i2rs@ietf.org&gt;
        Editor:    Alexander Clemm
                   &lt;mailto:ludwig@clemm.org&gt;
        Editor:    Jan Medved
                   &lt;mailto:jmedved@cisco.com&gt;
        Editor:    Robert Varga
                   &lt;mailto:robert.varga@pantheon.tech&gt;
        Editor:    Xufeng Liu
                   &lt;mailto:xufeng.liu.ietf@gmail.com&gt;
        Editor:    Nitin Bahadur
                   &lt;mailto:nitin_bahadur@yahoo.com&gt;
        Editor:    Hariharan Ananthakrishnan
                   &lt;mailto:hari@packetdesign.com&gt;&quot;;
     description
       &quot;This module defines a model for Layer 3 Unicast topology
        state, representing topology that either is learned or
        results from applying topology that has been configured per
        the &#x27;ietf-l3-unicast-topology&#x27; model, mirroring the
        corresponding data nodes in this model.

        This model mirrors &#x27;ietf-l3-unicast-topology&#x27; but contains only
        read-only state data.  The model is not needed when the
        underlying implementation infrastructure supports the Network
        Management Datastore Architecture (NMDA).

        Copyright (c) 2018 IETF Trust and the persons identified as
        authors of the code.  All rights reserved.

        Redistribution and use in source and binary forms, with or
        without modification, is permitted pursuant to, and subject
        to the license terms contained in, the Simplified BSD License
        set forth in <a href="#section-4">Section 4</a>.c of the IETF Trust&#x27;s Legal Provisions
        Relating to IETF Documents
        (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>).

        This version of this YANG module is part of <a href="/doc/html/rfc8346">RFC 8346</a>;
        see the RFC itself for full legal notices.&quot;;



<span class="grey">Clemm, et al.                Standards Track                   [Page 21]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-22" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


     revision &quot;2018-02-26&quot; {
       description
         &quot;Initial revision.&quot;;
       reference
         &quot;<a href="/doc/html/rfc8346">RFC 8346</a>: A YANG Data Model for Layer 3 Topologies&quot;;
     }
     augment &quot;/nw-s:networks/nw-s:network/nw-s:network-types&quot; {
       description
         &quot;Introduce new network type for L3 Unicast topology&quot;;
       uses l3t:l3-unicast-topology-type;
     }
     augment &quot;/nw-s:networks/nw-s:network&quot; {
       when &quot;nw-s:network-types/l3t-s:l3-unicast-topology&quot; {
         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }
       description
           &quot;L3 Unicast for the network as a whole&quot;;
       uses l3t:l3-topology-attributes;
     }
     augment &quot;/nw-s:networks/nw-s:network/nw-s:node&quot; {
       when &quot;../nw-s:network-types/l3t-s:l3-unicast-topology&quot; {
         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }
       description
           &quot;L3 Unicast node-level attributes &quot;;
       uses l3t:l3-node-attributes;
     }
     augment &quot;/nw-s:networks/nw-s:network/nt-s:link&quot; {
       when &quot;../nw-s:network-types/l3t-s:l3-unicast-topology&quot; {
         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }
       description
         &quot;Augments topology link attributes&quot;;
       uses l3t:l3-link-attributes;
     }
     augment &quot;/nw-s:networks/nw-s:network/nw-s:node/&quot;
            +&quot;nt-s:termination-point&quot; {
       when &quot;../../nw-s:network-types/l3t-s:l3-unicast-topology&quot; {
         description
           &quot;Augmentation parameters apply only for networks with
           L3 Unicast topology&quot;;
       }



<span class="grey">Clemm, et al.                Standards Track                   [Page 22]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-23" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


       description &quot;Augments topology termination point configuration&quot;;
       uses l3t:l3-termination-point-attributes;
     }
     notification l3-node-event {
       description
         &quot;Notification event for L3 node&quot;;
       leaf l3-event-type {
         type l3t:l3-event-type;
         description
           &quot;Event type&quot;;
       }
       uses nw-s:node-ref;
       uses l3t:l3-unicast-topology-type;
       uses l3t:l3-node-attributes;
     }
     notification l3-link-event {
       description
         &quot;Notification event for L3 link&quot;;
       leaf l3-event-type {
         type l3t:l3-event-type;
         description
           &quot;Event type&quot;;
       }
       uses nt-s:link-ref;
       uses l3t:l3-unicast-topology-type;
       uses l3t:l3-link-attributes;
     }
     notification l3-prefix-event {
       description
         &quot;Notification event for L3 prefix&quot;;
       leaf l3-event-type {
         type l3t:l3-event-type;
         description
           &quot;Event type&quot;;
       }
       uses nw-s:node-ref;
       uses l3t:l3-unicast-topology-type;
       container prefix {
         description
           &quot;Contains L3 prefix attributes&quot;;
         uses l3t:l3-prefix-attributes;
       }
     }
     notification termination-point-event {
       description
         &quot;Notification event for L3 termination point&quot;;
       leaf l3-event-type {
         type l3t:l3-event-type;



<span class="grey">Clemm, et al.                Standards Track                   [Page 23]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-24" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


         description
           &quot;Event type&quot;;
       }
       uses nt-s:tp-ref;
       uses l3t:l3-unicast-topology-type;
       uses l3t:l3-termination-point-attributes;
     }
   }

   &lt;CODE ENDS&gt;

<span class="h2"><a class="selflink" id="appendix-B" href="#appendix-B">Appendix B</a>.  Extending the Model</span>

   The model can be extended for specific Layer 3 Unicast types.
   Examples include OSPF and IS-IS topologies.  This appendix introduces
   a YANG module that defines a simple topology model for OSPF.  This
   module is intended to serve as an example that illustrates how the
   general topology model can be refined across multiple levels.  It
   does not constitute a full-fledged OSPF topology model, which may be
   more comprehensive and refined than the model that is described here.

<span class="h3"><a class="selflink" id="appendix-B.1" href="#appendix-B.1">B.1</a>.  Example OSPF Topology</span>

<span class="h4"><a class="selflink" id="appendix-B.1.1" href="#appendix-B.1.1">B.1.1</a>.  Model Overview</span>

   The following model shows how the Layer 3 Unicast topology model can
   be extended, in this case, to cover OSPF topologies.  For this
   purpose, a set of augmentations are introduced in a separate YANG
   module, &quot;example-ospf-topology&quot;, whose structure is depicted in the
   following diagram.  As before, the notation syntax follows [<a href="/doc/html/rfc8340" title="&quot;YANG Tree Diagrams&quot;">RFC8340</a>].
   Note that one of the lines has been wrapped to adhere to the
   72-character line limitation of RFCs.



















<span class="grey">Clemm, et al.                Standards Track                   [Page 24]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-25" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


   module: example-ospf-topology
   augment /nw:networks/nw:network/nw:network-types/
     l3t:l3-unicast-topology:
     +--rw ospf!
   augment /nw:networks/nw:network/l3t:l3-topology-attributes:
     +--rw ospf-topology-attributes
        +--rw area-id?   area-id-type
   augment /nw:networks/nw:network/nw:node/l3t:l3-node-attributes:
     +--rw ospf-node-attributes
        +--rw (router-type)?
        |  +--:(abr)
        |  |  +--rw abr?               empty
        |  +--:(asbr)
        |  |  +--rw asbr?              empty
        |  +--:(internal)
        |  |  +--rw internal?          empty
        |  +--:(pseudonode)
        |     +--rw pseudonode?        empty
        +--rw dr-interface-id?   uint32
   augment /nw:networks/nw:network/nt:link/l3t:l3-link-attributes:
     +--rw ospf-link-attributes
   augment /l3t:l3-node-event:
     +---- ospf!
     +---- ospf-node-attributes
        +---- (router-type)?
        |  +--:(abr)
        |  |  +---- abr?               empty
        |  +--:(asbr)
        |  |  +---- asbr?              empty
        |  +--:(internal)
        |  |  +---- internal?          empty
        |  +--:(pseudonode)
        |     +---- pseudonode?        empty
        +---- dr-interface-id?   uint32
   augment /l3t:l3-link-event:
     +---- ospf!
     +---- ospf-link-attributes

   The module augments &quot;ietf-l3-unicast-topology&quot; as follows:

   o  A new topology type for an OSPF topology is introduced.

   o  Additional topology attributes are defined in a new grouping that
      augments l3-topology-attributes of the &quot;ietf-l3-unicast-topology&quot;
      module.  The attributes include an OSPF area-id identifying the
      OSPF area.





<span class="grey">Clemm, et al.                Standards Track                   [Page 25]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-26" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


   o  Additional data objects for nodes are introduced by augmenting the
      l3-node-attributes of the &quot;ietf-l3-unicast-topology&quot; module.  New
      objects include router-type and dr-interface-id for pseudonodes.

   o  Links are augmented with OSPF link attributes.

   In addition, the module extends notifications for events concerning
   Layer 3 nodes and links with OSPF attributes.

   It should be noted that the model defined here represents topology
   and is intended as an example.  It does not define how to configure
   OSPF routers or interfaces.

<span class="h4"><a class="selflink" id="appendix-B.1.2" href="#appendix-B.1.2">B.1.2</a>.  OSPF Topology YANG Module</span>

   The OSPF Topology YANG module is specified below.  As mentioned, the
   module is intended as an example for how the Layer 3 Unicast topology
   model can be extended to cover OSPF topologies, but it is not
   normative.  Accordingly, the module is not delimited with
   &lt;CODE BEGINS&gt; and &lt;CODE ENDS&gt; tags.

  file &quot;example-ospf-topology@2017-12-16.yang&quot;
  module example-ospf-topology {
      yang-version 1.1;
      namespace &quot;urn:example:example-ospf-topology&quot;;
      prefix &quot;ex-ospft&quot;;
      import ietf-yang-types {
          prefix &quot;yang&quot;;
      }
      import ietf-network {
          prefix &quot;nw&quot;;
      }
      import ietf-network-topology {
          prefix &quot;nt&quot;;
      }
      import ietf-l3-unicast-topology {
          prefix &quot;l3t&quot;;
      }
      description
         &quot;This module is intended as an example for how the
          Layer 3 Unicast topology model can be extended to cover
          OSPF topologies.&quot;;
      typedef area-id-type {
          type yang:dotted-quad;
          description
              &quot;Area ID type.&quot;;
      }
      grouping ospf-topology-type {



<span class="grey">Clemm, et al.                Standards Track                   [Page 26]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-27" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


          description
              &quot;Identifies the OSPF topology type.&quot;;
          container ospf {
              presence &quot;indicates OSPF Topology&quot;;
              description
                  &quot;Its presence identifies the OSPF topology type.&quot;;
          }
      }
      augment &quot;/nw:networks/nw:network/nw:network-types/&quot;
      + &quot;l3t:l3-unicast-topology&quot; {
          description
              &quot;Defines the OSPF topology type.&quot;;
          uses ospf-topology-type;
      }
      augment &quot;/nw:networks/nw:network/l3t:l3-topology-attributes&quot; {
          when &quot;../nw:network-types/l3t:l3-unicast-topology/&quot; +
              &quot;ex-ospft:ospf&quot; {
              description
                  &quot;Augments only for OSPF topology&quot;;
              }
          description
              &quot;Augments topology configuration&quot;;
          container ospf-topology-attributes {
              description
                  &quot;Contains topology attributes&quot;;
              leaf area-id {
                  type area-id-type;
                  description
                      &quot;OSPF area ID&quot;;
              }
          }
      }
      augment &quot;/nw:networks/nw:network/nw:node/l3t:l3-node-attributes&quot; {
          when &quot;../../nw:network-types/l3t:l3-unicast-topology/&quot; +
              &quot;ex-ospft:ospf&quot; {
              description
                  &quot;Augments only for OSPF topology&quot;;
          }
          description
              &quot;Augments node configuration&quot;;
          uses ospf-node-attributes;
      }
      augment &quot;/nw:networks/nw:network/nt:link/l3t:l3-link-attributes&quot; {
          when &quot;../../nw:network-types/l3t:l3-unicast-topology/&quot; +
              &quot;ex-ospft:ospf&quot; {
              description
                  &quot;Augments only for OSPF topology&quot;;
          }



<span class="grey">Clemm, et al.                Standards Track                   [Page 27]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-28" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


          description
              &quot;Augments link configuration&quot;;
          uses ospf-link-attributes;
      }
      grouping ospf-node-attributes {
          description
              &quot;OSPF node scope attributes&quot;;
          container ospf-node-attributes {
              description
                  &quot;Contains node attributes&quot;;
              choice router-type {
                  description
                      &quot;Indicates router type&quot;;
                  case abr {
                      leaf abr {
                          type empty;
                          description
                              &quot;The node is ABR&quot;;
                      }
                  }
                  case asbr {
                      leaf asbr {
                          type empty;
                          description
                              &quot;The node is ASBR&quot;;
                      }
                  }
                  case internal {
                      leaf internal {
                          type empty;
                          description
                              &quot;The node is internal&quot;;
                      }
                  }
                  case pseudonode {
                      leaf pseudonode {
                          type empty;
                          description
                              &quot;The node is pseudonode&quot;;
                      }
                  }
              }
              leaf dr-interface-id {
                  when &quot;../pseudonode&quot; {
                      description
                          &quot;Valid only for pseudonode&quot;;
                  }
                  type uint32;



<span class="grey">Clemm, et al.                Standards Track                   [Page 28]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-29" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


                  default &quot;0&quot;;
                  description
                      &quot;For pseudonodes, DR interface-id&quot;;
              }
          }
      }
      grouping ospf-link-attributes {
          description
              &quot;OSPF link scope attributes&quot;;
          container ospf-link-attributes {
              description
                  &quot;Contains OSPF link attributes&quot;;
          }
      } // ospf-link-attributes
      augment &quot;/l3t:l3-node-event&quot; {
          description
              &quot;OSPF node event&quot;;
          uses ospf-topology-type;
          uses ospf-node-attributes;
      }
      augment &quot;/l3t:l3-link-event&quot; {
          description
              &quot;OSPF link event&quot;;
          uses ospf-topology-type;
          uses ospf-link-attributes;
      }
  }

<span class="h2"><a class="selflink" id="appendix-C" href="#appendix-C">Appendix C</a>.  An Example</span>

   This section contains an example of an instance data tree in JSON
   encoding [<a href="/doc/html/rfc7951" title="&quot;JSON Encoding of Data Modeled with YANG&quot;">RFC7951</a>].  The example instantiates &quot;ietf-l3-unicast-
   topology&quot; for the topology that is depicted in the following diagram.
   There are three nodes: D1, D2, and D3.  D1 has three termination
   points: 1-0-1, 1-2-1, and 1-3-1.  D2 has three termination points as
   well: 2-1-1, 2-0-1, and 2-3-1.  D3 has two termination points: 3-1-1
   and 3-2-1.  In addition, there are six links, two between each pair
   of nodes, with one going in each direction.













<span class="grey">Clemm, et al.                Standards Track                   [Page 29]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-30" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


                +------------+                   +------------+
                |     D1     |                   |     D2     |
               /-\          /-\                 /-\          /-\
               | | 1-0-1    | |----------------&gt;| | 2-1-1    | |
               | |    1-2-1 | |&lt;----------------| |    2-0-1 | |
               \-/  1-3-1   \-/                 \-/  2-3-1   \-/
                |   /----\   |                   |   /----\   |
                +---|    |---+                   +---|    |---+
                    \----/                           \----/
                     A  |                             A  |
                     |  |                             |  |
                     |  |                             |  |
                     |  |       +------------+        |  |
                     |  |       |     D3     |        |  |
                     |  |      /-\          /-\       |  |
                     |  +-----&gt;| | 3-1-1    | |-------+  |
                     +---------| |    3-2-1 | |&lt;---------+
                               \-/          \-/
                                |            |
                                +------------+

                   Figure 2: A Network Topology Example

   The corresponding instance data tree is depicted below.  Note that
   some lines have been wrapped to adhere to the 72-character line
   limitation of RFCs.

   {
     &quot;ietf-network:networks&quot;: {
       &quot;network&quot;: [
         {
           &quot;network-types&quot;: {
             &quot;ietf-l3-unicast-topology:l3-unicast-topology&quot;: {}
           },
           &quot;network-id&quot;: &quot;l3-topo-example&quot;,
           &quot;node&quot;: [
             {
               &quot;node-id&quot;: &quot;D1&quot;,
               &quot;termination-point&quot;: [
                 {
                   &quot;tp-id&quot;: &quot;1-0-1&quot;,
                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 101
                   }
                 },
                 {
                   &quot;tp-id&quot;: &quot;1-2-1&quot;,



<span class="grey">Clemm, et al.                Standards Track                   [Page 30]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-31" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 121
                   }
                 },
                 {
                   &quot;tp-id&quot;: &quot;1-3-1&quot;,
                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 131
                   }
                 }
               ],
               &quot;ietf-l3-unicast-topology:l3-node-attributes&quot;: {
                 &quot;router-id&quot;: [&quot;203.0.113.1&quot;]
               }
             },
             {
               &quot;node-id&quot;: &quot;D2&quot;,
               &quot;termination-point&quot;: [
                 {
                   &quot;tp-id&quot;: &quot;2-0-1&quot;,
                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 201
                   }
                 },
                 {
                   &quot;tp-id&quot;: &quot;2-1-1&quot;,
                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 211
                   }
                 },
                 {
                   &quot;tp-id&quot;: &quot;2-3-1&quot;,
                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 231
                   }
                 }
               ],
               &quot;ietf-l3-unicast-topology:l3-node-attributes&quot;: {
                 &quot;router-id&quot;: [&quot;203.0.113.2&quot;]
               }
             },
             {
               &quot;node-id&quot;: &quot;D3&quot;,



<span class="grey">Clemm, et al.                Standards Track                   [Page 31]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-32" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


               &quot;termination-point&quot;: [
                 {
                   &quot;tp-id&quot;: &quot;3-1-1&quot;,
                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 311
                   }
                 },
                 {
                   &quot;tp-id&quot;: &quot;3-2-1&quot;,
                   &quot;ietf-l3-unicast-topology:
                     l3-termination-point-attributes&quot;: {
                     &quot;unnumbered-id:&quot;: 321
                   }
                 }
               ],
               &quot;ietf-l3-unicast-topology:l3-node-attributes&quot;: {
                 &quot;router-id&quot;: [&quot;203.0.113.3&quot;]
               }
             }
           ],
           &quot;ietf-network-topology:link&quot;: [
             {
               &quot;link-id&quot;: &quot;D1,1-2-1,D2,2-1-1&quot;,
               &quot;source&quot;: {
                 &quot;source-node&quot;: &quot;D1&quot;,
                 &quot;source-tp&quot;: &quot;1-2-1&quot;
               }
               &quot;destination&quot;: {
                 &quot;dest-node&quot;: &quot;D2&quot;,
                 &quot;dest-tp&quot;: &quot;2-1-1&quot;
               },
               &quot;ietf-l3-unicast-topology:l3-link-attributes&quot;: {
                 &quot;metric1&quot;: &quot;100&quot;
               }
             },
             {
               &quot;link-id&quot;: &quot;D2,2-1-1,D1,1-2-1&quot;,
               &quot;source&quot;: {
                 &quot;source-node&quot;: &quot;D2&quot;,
                 &quot;source-tp&quot;: &quot;2-1-1&quot;
               }
               &quot;destination&quot;: {
                 &quot;dest-node&quot;: &quot;D1&quot;,
                 &quot;dest-tp&quot;: &quot;1-2-1&quot;
               },
               &quot;ietf-l3-unicast-topology:l3-link-attributes&quot;: {
                 &quot;metric1&quot;: &quot;100&quot;



<span class="grey">Clemm, et al.                Standards Track                   [Page 32]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-33" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


               }
             },
             {
               &quot;link-id&quot;: &quot;D1,1-3-1,D3,3-1-1&quot;,
               &quot;source&quot;: {
                 &quot;source-node&quot;: &quot;D1&quot;,
                 &quot;source-tp&quot;: &quot;1-3-1&quot;
               }
               &quot;destination&quot;: {
                 &quot;dest-node&quot;: &quot;D3&quot;,
                 &quot;dest-tp&quot;: &quot;3-1-1&quot;
               },
               &quot;ietf-l3-unicast-topology:l3-link-attributes&quot;: {
                 &quot;metric1&quot;: &quot;100&quot;
               }
             },
             {
               &quot;link-id&quot;: &quot;D3,3-1-1,D1,1-3-1&quot;,
               &quot;source&quot;: {
                 &quot;source-node&quot;: &quot;D3&quot;,
                 &quot;source-tp&quot;: &quot;3-1-1&quot;
               }
               &quot;destination&quot;: {
                 &quot;dest-node&quot;: &quot;D1&quot;,
                 &quot;dest-tp&quot;: &quot;1-3-1&quot;
               },
               &quot;ietf-l3-unicast-topology:l3-link-attributes&quot;: {
                 &quot;metric1&quot;: &quot;100&quot;
               }
             },
             {
               &quot;link-id&quot;: &quot;D2,2-3-1,D3,3-2-1&quot;,
               &quot;source&quot;: {
                 &quot;source-node&quot;: &quot;D2&quot;,
                 &quot;source-tp&quot;: &quot;2-3-1&quot;
               }
               &quot;destination&quot;: {
                 &quot;dest-node&quot;: &quot;D3&quot;,
                 &quot;dest-tp&quot;: &quot;3-2-1&quot;
               },
               &quot;ietf-l3-unicast-topology:l3-link-attributes&quot;: {
                 &quot;metric1&quot;: &quot;100&quot;
               }
             },
             {
               &quot;link-id&quot;: &quot;D3,3-2-1,D2,2-3-1&quot;,
               &quot;source&quot;: {
                 &quot;source-node&quot;: &quot;D3&quot;,



<span class="grey">Clemm, et al.                Standards Track                   [Page 33]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-34" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


                 &quot;source-tp&quot;: &quot;3-2-1&quot;
               }
               &quot;destination&quot;: {
                 &quot;dest-node&quot;: &quot;D2&quot;,
                 &quot;dest-tp&quot;: &quot;2-3-1&quot;
               },
               &quot;ietf-l3-unicast-topology:l3-link-attributes&quot;: {
                 &quot;metric1&quot;: &quot;100&quot;
               }
             }
           ]
         }
       ]
     }
   }


                       Figure 3: Instance Data Tree

Acknowledgments

   We wish to acknowledge the helpful contributions, comments, and
   suggestions that were received from Alia Atlas, Andy Bierman, Benoit
   Claise, Joel Halpern, Susan Hares, Ladislav Lhotka, Carl Moberg,
   Carlos Pignataro, Juergen Schoenwaelder, Michal Vasco, and Kent
   Watsen.

Contributors

   The model presented in this document was contributed to by more
   people than can be listed on the author list.  Additional
   contributors include:

   o  Vishnu Pavan Beeram, Juniper

   o  Igor Bryskin, Huawei

   o  Ken Gray, Cisco

   o  Aihua Guo, Huawei

   o  Tom Nadeau, Brocade

   o  Tony Tkacik

   o  Aleksandr Zhdankin, Cisco





<span class="grey">Clemm, et al.                Standards Track                   [Page 34]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-35" ></span>
<span class="grey"><a href="/doc/html/rfc8346">RFC 8346</a>            YANG Data Model for L3 Topologies         March 2018</span>


Authors&#x27; Addresses

   Alexander Clemm
   Huawei USA - Futurewei Technologies Inc.
   Santa Clara, CA
   United States of America

   Email: ludwig@clemm.org, alexander.clemm@huawei.com


   Jan Medved
   Cisco

   Email: jmedved@cisco.com


   Robert Varga
   Pantheon Technologies SRO

   Email: robert.varga@pantheon.tech


   Xufeng Liu
   Jabil

   Email: xufeng.liu.ietf@gmail.com


   Hariharan Ananthakrishnan
   Packet Design

   Email: hari@packetdesign.com


   Nitin Bahadur
   Bracket Computing

   Email: nitin_bahadur@yahoo.com













Clemm, et al.                Standards Track                   [Page 35]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

