<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc1362
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-allen-ipx-media/">
  <meta name="description" content="Novell IPX over Various WAN Media (IPXWAN) (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgbrown"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc1362.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc1362.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc1362.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc1362/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc1362/" title="Datatracker information for this document">Tracker</a>] [<a href="mailto:draft-allen-ipx-media@ietf.org?subject=draft-allen-ipx-media" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-allen-ipx-media-00.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-allen-ipx-media-00">draft-allen-ipx-media-00</a>                             Informational
Obsoleted by: <a href="/doc/html/rfc1634">1634</a>                                                      </pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                           M. Allen
Request for Comments: 1362                                  Novell, Inc.
                                                          September 1992


               <span class="h1">Novell IPX Over Various WAN Media (IPXWAN)</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard.  Distribution of this memo is
   unlimited.

Abstract

   This document describes how Novell IPX operates over various WAN
   media.  Specifically, it describes the common &quot;IPX WAN&quot; protocol
   Novell uses to exchange necessary router to router information prior
   to exchanging standard IPX routing information and traffic over WAN
   datalinks.

Table of Contents

   <a href="#section-1">1</a>.  Introduction .................................................  <a href="#page-1">1</a>
   <a href="#section-1.1">1.1</a>. Operation Over PPP ..........................................  <a href="#page-2">2</a>
   <a href="#section-1.2">1.2</a>. Operation Over X.25 Switched Virtual Circuits ...............  <a href="#page-2">2</a>
   <a href="#section-1.3">1.3</a>. Operation Over X.25 Permanent Virtual Circuits ..............  <a href="#page-2">2</a>
   <a href="#section-1.4">1.4</a>. Operation Over Frame Relay ..................................  <a href="#page-3">3</a>
   <a href="#section-1.5">1.5</a>. Operation Over Other WAN Media ..............................  <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Glossary Of Terms ............................................  <a href="#page-3">3</a>
   <a href="#section-3">3</a>.  IPX WAN Protocol Description .................................  <a href="#page-4">4</a>
   <a href="#section-4">4</a>.  Information Exchange Packet Formats ..........................  <a href="#page-5">5</a>
   <a href="#section-4.1">4.1</a>. Timer Request Packet ........................................  <a href="#page-6">6</a>
   <a href="#section-4.2">4.2</a>. Timer Response Packet .......................................  <a href="#page-8">8</a>
   <a href="#section-4.3">4.3</a>. Information Request Packet .................................. <a href="#page-10">10</a>
   <a href="#section-4.4">4.4</a>. Information Response Packet ................................. <a href="#page-12">12</a>
   <a href="#section-5">5</a>.  References ................................................... <a href="#page-12">12</a>
   <a href="#section-6">6</a>.  Security Considerations ...................................... <a href="#page-13">13</a>
   <a href="#section-7">7</a>.  Author&#x27;s Address.............................................. <a href="#page-13">13</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>. Introduction</span>

   This document describes how Novell IPX operates over various WAN
   media. It is strongly motivated by a desire for IPX to treat ALL wide
   area links in the same manner. Sections <a href="#section-3">3</a> and <a href="#section-4">4</a> describe this common
   &quot;IPX WAN&quot; protocol.





<span class="grey">Allen                                                           [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


   IPX WAN protocol operation begins immediately after link
   establishment. While IPX is a connectionless datagram protocol, WANs
   are often connection-oriented.  Different WANs have different methods
   of link establishment. The subsections of <a href="#section-1">section 1</a> of this document
   describe what link establishment means to IPX for different media.
   They also describe other WAN-media-dependent aspects of IPX
   operation, such as protocol identification, frame encapsulation, and
   link tear down.

<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a> Operation Over PPP</span>

   IPX uses PPP [<a href="#ref-1" title="&quot;The Point-to-Point Protocol (PPP) for the Transmission of Multi-protocol Datagrams over Point-to-Point Links&quot;">1</a>] when operating over point-to-point synchronous and
   asynchronous networks.

   With PPP, link establishment means the IPX NCP [<a href="#ref-4" title="&quot;The PPP Internetwork Packet Exchange Control Protocol (IPXCP) Compromise Version&quot;">4</a>] reaches the Open
   state. NetWare IPX will reject all NCP options, and uses normal frame
   encapsulation as defined by PPP. The IPXWAN protocol MUST NOT occur
   until the IPX NCP reaches the Open state.

   PPP allows either side of a connection to stop forwarding IPX if one
   end sends an IPXCP or an LCP Terminate-Request. When a router detects
   this, it will immediately reflect the lost connectivity in its
   routing information database instead of naturally aging it out.

<span class="h3"><a class="selflink" id="section-1.2" href="#section-1.2">1.2</a> Operation over X.25 Switched Virtual Circuits</span>

   With X.25, link establishment means successfully opening an X.25
   virtual circuit.  As specified in <a href="/doc/html/rfc1356">RFC-1356</a>, &quot;Multiprotocol
   Interconnect on X.25 and ISDN in the Packet Mode&quot; [<a href="#ref-2" title="&quot;Multiprotocol Interconnect on X.25 and ISDN in the Packet Mode&quot;">2</a>], the protocol
   identifier 0x800000008137 is used in the X.25 Call User Data field of
   the Call Request frame, and indicates that the virtual circuit will
   be devoted to IPX.

   Furthermore, each IPX packet is encapsulated directly in X.25 data
   frame sequences without additional framing.

   Either side of the virtual circuit may close it, thereby tearing down
   the IPX link. When a router detects this, it will immediately reflect
   the lost connectivity in its routing information database instead of
   naturally aging it out.

<span class="h3"><a class="selflink" id="section-1.3" href="#section-1.3">1.3</a> Operation over X.25 Permanent Virtual Circuits</span>

   The nature of X.25 PVC&#x27;s is that no call request is made.  When the
   router is informed that X.25 Layer 2 is up, the router should assume
   that link establishment is complete.





<span class="grey">Allen                                                           [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


   Each IPX packet is encapsulated in an X.25 data frame sequence
   without additional framing. Novell IPX assumes a particular X.25
   permanent circuit is devoted to the use of IPX.

   If a router receives a layer 2 error condition (e.g., X.25 Restart),
   it should reflect lost connectivity for the permanent circuits in its
   routing information database and re-perform the necessary steps to
   obtain a full IPX connection.

<span class="h3"><a class="selflink" id="section-1.4" href="#section-1.4">1.4</a> Operation over Frame Relay</span>

   Novell conforms to <a href="/doc/html/rfc1294">RFC-1294</a>, &quot;Multiprotocol Interconnect over Frame
   Relay&quot; [<a href="#ref-3" title="&quot;Multiprotocol Interconnect over Frame Relay&quot;">3</a>] for frame relay service and packet encapsulation.
   Currently, Novell has not stabilized the method for treating frame
   relay connections - whether they treat the connections as LANs or
   WANs.

<span class="h3"><a class="selflink" id="section-1.5" href="#section-1.5">1.5</a> Operation over other WAN media</span>

   Additional WAN media will be added here as specifications are
   developed.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>. Glossary Of Terms</span>

Primary Network Number:

      Every IPX WAN router has a &quot;primary network number&quot;. This is an
      IPX network number unique to the entire internet.  This number
      will be a permanently assigned network number for the router.
      Those readers familiar with NetWare 3.x servers should realize
      that this is the &quot;Internal&quot; network number.

Router Name:

      Every IPX WAN router must have a &quot;Router Name&quot;. This is a symbolic
      name given to the router. Its purpose is to allow routers to know
      who they are connected to after link establishment - particularly
      for network management purposes.  A symbolic name conveys more
      information to an operator than a set of numbers. The symbolic
      name should be between 1 and 47 characters in length containing
      the characters &#x27;A&#x27; through &#x27;Z&#x27;, underscore (_), hyphen (-) and
      &quot;at&quot; sign (@). The string of characters should be followed by a
      null character (byte of zero) and padded to 48 characters using
      the null character.  Those readers familiar with NetWare 3.x
      servers should realize that the file server name is the Router
      Name.





<span class="grey">Allen                                                           [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>. IPX WAN Protocol Description</span>

   IPX WAN links have the concept of a LINK MASTER and a LINK SLAVE.
   This relationship is decided upon based on information contained
   within the first IPX packets transferred across the WAN link.

   After link establishment, both sides of the link send &quot;Timer Request&quot;
   packets and start a timer waiting for a &quot;Timer Response&quot;. These
   &quot;Timer Request&quot; packets are sent every 20 seconds until a response is
   received or a time-out occurs trying to initialize a connection (the
   timer is restarted each time a new &quot;Timer Request&quot; is sent). The
   time-out should be configurable, and is normally about one minute.
   This is directly dependent on the call setup time for the connection.
   If a time-out occurs, the router issues a disconnect on the offending
   connection and optionally attempts to retry the connection.

   When a &quot;Timer Request&quot; is received, the router with the lowest
   primary network number MUST respond with a &quot;Timer Response&quot; packet -
   and become the &quot;Slave&quot; of the link. If the &quot;Slave&quot; determines that it
   cannot support any of the Routing Types included in the &quot;Timer
   Request&quot; packet, the &quot;Slave&quot; should issue a disconnect on the
   connection being established. The &quot;Master&quot; of the link (determined
   when a &quot;Timer Response&quot; packet is received) is responsible for
   defining the network number that is to be used as a common network
   number for the new WAN link, and for calculating the RIP transport
   time that will be advertized to other RIP routers for the new link.
   This is calculated by stopping the timer which was started when a
   &quot;Timer Request&quot; was initiated and applying the algorithm in <a href="#section-4.2">section</a>
   <a href="#section-4.2">4.2</a>.

   To allow this, both sides of the link MUST have an adequate pool of
   WAN network numbers (unique within the internetwork) available to be
   assigned to the link when the call is fully completed. The &quot;Master&quot;
   of the link MUST then select a network number and construct an
   &quot;Information Request&quot; packet containing the calculated link delay,
   the common network number, and its own router name. On receiving this
   packet, the &quot;Slave&quot; MUST turn the packet around, overwrite the router
   name and node identifier and send an &quot;Information Response&quot;.

   After the &quot;Master&quot; has received the &quot;Information Response&quot; and the
   &quot;Slave&quot; has received the &quot;Information Request&quot;, standard IPX RIP and
   SAP packets are transferred across the WAN link, as currently defined
   for LAN links. The &quot;IPX Router Specification&quot; [<a href="#ref-5" title="this document is only available as part of a Novell developers program as part of an SDK. Novell Labs">5</a>] contains
   information describing the Novell RIP/SAP protocol for third party
   developers.

   Note that the &quot;Information Request&quot; and &quot;Information Response&quot;
   packets are specific to the &quot;Routing Type&quot;=0 information exchanges.



<span class="grey">Allen                                                           [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


   With this routing type, no retransmission is made of any of the
   Information packets. If a response has not been received within the
   predefined time-out period, a disconnect is issued on the link, and
   the link can optionally be attempted later.

   If a router detects an error for which no suitable protocol response
   exists (e.g., unable to allocate a network number), the link should
   be terminated according to the relevant media specification.

   Under certain circumstances, particularly on X.25 permanent circuits,
   it is only possible to detect the remote router went away when it
   comes back up again.  In this case, one side of the link receives a
   Timer Request packet when IPX is in a fully connected state.  The
   side receiving the Timer Request MUST realize that a problem
   occurred, and revert to the IPX link establishment phase.
   Furthermore, the routing information learned from this connection
   should be immediately discarded.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>. Information Exchange Packet Formats</span>

   All IPX WAN information exchange packets conform to the standard
   Novell IPX packet format. The packets use the IPX defined packet type
   04 defining a Packet Exchange Packet. The socket number 0x9004 is a
   Novell reserved socket number for exclusive use with IPX WAN
   information exchange. IPX defines that a network number of 0 is
   interpreted as being a local network of unknown number that requires
   no routing. This feature is of use to us in transferring these
   packets before the common network number is exchanged. Some routers
   need to know a &quot;Node Number&quot; (or MAC address) for each node on a
   link. Node numbers will be formed from the &quot;WNode ID&quot; field.  The
   node number will be the 4 bytes of WNode ID followed by 2 bytes of
   zero.

   Router Type number assignment. Other vendors IPX routing protocols
   can make use of the IPXWAN protocol definition by obtaining Router
   Types from Novell. This document will then include the new Router
   Types (with the references to vendor protocol description documents).

   WOption Number assignment. These numbers only need to be assigned
   from Novell for the &quot;Timer Request&quot; and &quot;Timer Response&quot; packets.
   Other packet types (e.g., the &quot;Information Request&quot; packets, are
   dependent on the &quot;Router Type&quot; negotiated and can contain any (vendor
   defined) packet type other than 0 or 1. WOption numbers in these
   packets are then defined by the vendor defining the Routing Type. The
   same packet format should still be maintained.






<span class="grey">Allen                                                           [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a> Timer Request Packet</span>

   +---------------------------------------------------------------+
   | Checksum         | FF FF             | Always FFFF            |
   | Packet Length    | 02 40             | Max IPX size (576 bytes|
   |                  |                   | Hi Lo order)           |
   | Trans Control    | 00                | Hops traversed         |
   | Packet Type      | 04                | Packet Exchange Packet |
   | Dest Net #       | 00 00 00 00       | Local Network          |
   | Dest Node #      | FF FF FF FF FF FF | Broadcast              |
   | Dest Socket #    | 90 04             | Reserved WAN socket    |
   | Source Net #     | 00 00 00 00       | Local Network          |
   | Source Node #    | 00 00 00 00 00 00 | Set to zero            |
   | Source Socket #  | 90 04             | Reserved WAN socket    |
   |------------------+-------------------+------------------------|
   | WIdentifier      | 57 41 53 4D       | Confidence identifier  |
   | WPacket Type     | 00                | Timer Request          |
   | WNode ID         | xx xx xx xx       | Primary Net # of       |
   |                  |                   | sending router         |
   |                  |                   | (Hi Lo order)          |
   | WSequence #      | xx                | Sequence start at 0    |
   | WNum Options     | 02                | 2 Options follow       |
   | WOption Number   | 00                | Define Routing Type    |
   | WAccept Option   | 01                | 0=No,1=Yes,3=Not Applic|
   | WOption Data Len | 00 01             | Option length (Hi Lo)  |
   | WOption Data     | 00                | IPX RIP/SAP Routing    |
   | WOption Number   | FF                | Pad option             |
   | WAccept Option   | 01                | 0=No,1=Yes,3=Not Applic|
   | WOption Data Len | 02 0E             | Pad data length (Hi Lo)|
   | WOption Data     | 00-&gt;FF&#x27;s          | Repeated sequence of 00|
   |                  |                   | through FF&#x27;s.          |
   +---------------------------------------------------------------+

   Note:
        Timer Request packets will always be 576 bytes. However,
        there should be no assumption made about the number of
        options specified in this packet.

   After link establishment, Timer Request packets are sent by both
   sides of the link. Each end starts their sequence number at zero.
   Subsequent retries (every 20 seconds) will increment the value of
   this sequence number.  Only a Timer Response packet with a sequence
   number matching the last sent sequence number will be acted upon.

   When receiving this packet, the WNode ID should be compared to the
   receiver&#x27;s Primary Network #. If the WNode ID is larger than the
   receiver&#x27;s Primary Network #, a Timer Response packet should be sent,
   and the receiver should become the link &quot;Slave&quot;.



<span class="grey">Allen                                                           [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


   Packets received on the reserved socket number not having the
   WIdentifier set to the hexadecimal values noted above should be
   discarded.

Routing Type Option:

   A routing type of zero (0) is the minimum interoperability
   requirement (as defined by this document). A router ready to send a
   Timer Response (and receiving a routing type of zero) MUST respond
   with a routing type of zero. A router ready to send a Timer Response
   (and receiving routing types not matching a supported value) SHOULD
   respond with a Routing Type of zero indicating support for the
   minimum common protocol.

   Note that multiple Routing Type Options can be included in the Timer
   Request packet if the router supports multiple routing methods for
   IPX. The included Router Types MUST include and support this type
   zero option.

Accept Option (for Routing Type and PAD options):

   This field MUST be set to YES if the option is supported, and NO if
   an option is not supported. A Timer Response MUST respond with ONLY
   one Router Type set to YES.

PAD Option:

   This option will normally be the last entry in the packet.  Its sole
   purpose is to fill the IPX packet to be 576 bytes.  The pad option
   data will contain a repeating sequence of zero&#x27;s through 0xFF&#x27;s. This
   should stop compression modems from collapsing the packet and
   destroying the link delay calculation.

   Currently Assigned WOption Numbers (Timer Request Packet):
       Routing Type Option = 0x00;     Option Length = 0001
           Current option data values:
               0       Novell RIP/SAP routing with network
                       number assigned to the link.

       PAD Type Option     = 0xFF;     Option Length = Variable

       Compression Option  = 0x80;     Option Length = Variable
                         (length dependent on compression type)
           Current option data values:
               Byte 1  Compression type
                   0 = Telebit compression (length=3) [<a href="#ref-6" title="&quot;IPX Header Compression based on Van Jacobson Header Compression for TCP/IP&quot;">6</a>]
                   Telebit Byte 2 - Compression options
                   Telebit Byte 3 - Number compression slots



<span class="grey">Allen                                                           [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


<span class="h3"><a class="selflink" id="section-4.2" href="#section-4.2">4.2</a>. Timer Response Packet</span>

   +---------------------------------------------------------------+
   | Checksum         | FF FF             | Always FFFF            |
   | Packet Length    | 02 40             | Max IPX size (576 bytes|
   |                  |                   | Hi Lo order)           |
   | Trans Control    | 00                | Hops traversed         |
   | Packet Type      | 04                | Packet Exchange Packet |
   | Dest Net #       | 00 00 00 00       | Local Network          |
   | Dest Node #      | FF FF FF FF FF FF | Broadcast              |
   | Dest Socket #    | 90 04             | Reserved WAN socket    |
   | Source Net #     | 00 00 00 00       | Local Network          |
   | Source Node #    | 00 00 00 00 00 00 | Set to zero            |
   | Source Socket #  | 90 04             | Reserved WAN socket    |
   |------------------+-------------------+------------------------|
   | WIdentifier      | 57 41 53 4D       | Confidence identifier  |
   | WPacket Type     | 01                | Timer Response         |
   | WNode ID         | xx xx xx xx       | Primary Net # of       |
   |                  |                   | sending router         |
   |                  |                   | (Hi Lo order)          |
   | WSequence #      | xx                | Same as Timer Request  |
   |                  |                   | received               |
   | WNum Options     | 02                | 2 Options follow       |
   | WOption Number   | 00                | Define Routing Type    |
   | WAccept Option   | 01                | 0=No,1=Yes,3=Not Applic|
   | WOption Data Len | 00 01             | Option length (Hi Lo)  |
   | WOption Data     | 00                | IPX RIP/SAP Routing    |
   |                  |                   | (Minimum interoperating|
   |                  |                   | requirement). Others   |
   |                  |                   | may be defined by at a |
   |                  |                   | later date by Novell   |
   | WOption Number   | FF                | Pad option             |
   | WAccept Option   | 01                | 0=No,1=Yes,3=Not Applic|
   | WOption Data Len | 02 0E             | Pad data length (Hi Lo)|
   | WOption Data     | 00-&gt;FF&#x27;s          | Repeated sequence of 00|
   |                  |                   | through FF&#x27;s to stop   |
   |                  |                   | compression modems     |
   |                  |                   | doing any compression  |
   |                  |                   | for link delay calc.   |
   +---------------------------------------------------------------+

   The responses contained within this packet are as described in
   <a href="#section-4.1">section 4.1</a>. Any unknown options or not supported options from the
   Timer Request should have the WAccept Option set to NO.

   If the Timer Request packet contained more than one Router Type
   option and the &quot;Slave&quot; supports all the options, the &quot;Slave&quot; should
   set the WAccept Option to NO on all Router Types except the Routing



<span class="grey">Allen                                                           [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


   Type which is to be adopted. The &quot;Master&quot; of the link will then adopt
   the routing option specified with the YES setting and complete
   further information exchanges according to that routing standard.

   This packet should contain the same sequence number as the received
   Timer Request. This packet should ONLY be sent by the router
   determining themselves to be the &quot;Slave&quot; of the link.

   Currently Assigned WOption Numbers (Timer Response Packet):
       Routing Type Option = 0x00;     Option Length = 0001
           Current option data values:
              0       Novell RIP/SAP routing with network
                      number assigned to the link.

       PAD Type Option     = 0xFF;     Option Length = Variable

       Compression Option  = 0x80;     Option Length = Variable
                         (length dependant on compression type)
           Current option data values:
               Byte 1  Compression type
                   0 = Telebit compression (length=3) [<a href="#ref-6" title="&quot;IPX Header Compression based on Van Jacobson Header Compression for TCP/IP&quot;">6</a>]
                   Telebit Byte 2 - Compression options
                   Telebit Byte 3 - Number compression slots




























<span class="grey">Allen                                                           [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


<span class="h3"><a class="selflink" id="section-4.3" href="#section-4.3">4.3</a>. RIP/SAP Information Request Packet (Router Type=0 Only)</span>

   +---------------------------------------------------------------+
   | Checksum         | FF FF             | Always FFFF            |
   | Packet Length    | 00 63             | Size of header+data    |
   |                  |                   | (Hi Lo order)          |
   | Trans Control    | 00                | Hops traversed         |
   | Packet Type      | 04                | Packet Exchange Packet |
   | Dest Net #       | 00 00 00 00       | Local Network          |
   | Dest Node #      | FF FF FF FF FF FF | Broadcast              |
   | Dest Socket #    | 90 04             | Reserved WAN socket    |
   | Source Net #     | 00 00 00 00       | Local Network          |
   | Source Node #    | 00 00 00 00 00 00 | Set to zero            |
   | Source Socket #  | 90 04             | Reserved WAN socket    |
   |------------------+-------------------+------------------------|
   | WIdentifier      | 57 41 53 4D       | Confidence identifier  |
   | WPacket Type     | 02                | Information Request    |
   | WNode ID         | xx xx xx xx       | Primary Net # of       |
   |                  |                   | sending router         |
   |                  |                   | (Hi Lo order)          |
   | WSequence #      | 00                | Sequence start at 0    |
   | WNum Options     | 01                | 1 Option to follow     |
   | WOption Number   | 01                | Define IPX RIP/SAP     |
   |                  |                   | info exchange          |
   | WAccept Option   | 01                | 0=No,1=Yes,3=Not Applic|
   | WOption Data Len | 00 36             | Option length (Hi Lo)  |
   | WOption Data     |                   |                        |
   |  Link Delay      | xx xx             | Hi Lo link delay in    |
   |                  |                   | milli seconds (see     |
   |                  |                   | below for calculation) |
   |  Common Net #    | xx xx xx xx       | Hi Lo Common Network # |
   |  Router Name     | xx (x 48 decimal) | Router name - as defned|
   |                  |                   | in <a href="#section-2">section 2</a>.          |
   +---------------------------------------------------------------+

















<span class="grey">Allen                                                          [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


Calculation of link delay is performed as follows:

   // Start_time is a time stamp when Timer Request sent out
   // End_time is a time stamp when a Timer Response is
   // received.
   link_delay = end_time - start_time; // 1/18th second
   // We are on a slow net, so add some biasing to help stop
   // multiple workstation sessions timing out on the link
   if (link_delay &lt; 1)
   {
       link_delay = 1;
   }/*IF*/
   link_delay *= 6;   // Add the biasing
   link_delay *= 55;  // Convert link delay to milliseconds

   The &quot;Link Delay&quot; is used as the network transport time when
   advertized in the IPX RIP packet tuple for the network entry &quot;Common
   Net #&quot;. For a consistent network, a common link delay is required at
   both ends of the link and is calculated by the link &quot;Master&quot;.

   The Common Net # is supplied by the link &quot;Master&quot;. This number must
   be unique in the connected internetwork. Each WAN call requires a
   separate number.

   Currently only a single option is defined for the &quot;Information
   Request&quot; packet for Routing Type=0.

























<span class="grey">Allen                                                          [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


<span class="h3"><a class="selflink" id="section-4.4" href="#section-4.4">4.4</a>. RIP/SAP Information Response Packet (Router Type=0 Only)</span>

   +---------------------------------------------------------------+
   | Checksum         | FF FF             | Always FFFF            |
   | Packet Length    | 00 63             | Size of header+data    |
   |                  |                   | (Hi Lo Order)          |
   | Trans Control    | 00                | Hops traversed         |
   | Packet Type      | 04                | Packet Exchange Packet |
   | Dest Net #       | 00 00 00 00       | Local Network          |
   | Dest Node #      | FF FF FF FF FF FF | Broadcast              |
   | Dest Socket #    | 90 04             | Reserved WAN socket    |
   | Source Net #     | 00 00 00 00       | Local Network          |
   | Source Node #    | 00 00 00 00 00 00 | Set to zero            |
   | Source Socket #  | 90 04             | Reserved WAN socket    |
   |------------------+-------------------+------------------------|
   | WIdentifier      | 57 41 53 4D       | Confidence identifier  |
   | WPacket Type     | 03                | Information Response   |
   | WNode ID         | xx xx xx xx       | Primary Net # of       |
   |                  |                   | sending router         |
   |                  |                   | (Hi Lo order)          |
   | WSequence #      | 00                | Sequence start at 0    |
   | WNum Options     | 01                | 1 Option to follow     |
   | WOption Number   | 01                | Define IPX RIP/SAP     |
   |                  |                   | info exchange          |
   | WAccept Option   | 01                | 0=No,1=Yes,3=Not Applic|
   | WOption Data Len | 00 36             | Option length (Hi Lo)  |
   | WOption Data     |                   |                        |
   |  Link Delay      | xx xx             | Hi Lo link delay (as   |
   |                  |                   | received in Info Requ) |
   |  Common Net #    | xx xx xx xx       | Hi Lo Common Network # |
   |                  |                   | (as received in Info   |
   |                  |                   | request)               |
   |  Router Name     | xx (x 48 decimal) | Router name - as defned|
   |                  |                   | in <a href="#section-2">section 2</a>.          |
   +---------------------------------------------------------------+

   The responses contained within this packet are as described in
   <a href="#section-4.3">section 4.3</a>.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>. References</span>

   [<a id="ref-1">1</a>] Simpson, W., &quot;The Point-to-Point Protocol (PPP) for the
       Transmission of Multi-protocol Datagrams over Point-to-Point
       Links&quot;, <a href="/doc/html/rfc1331">RFC 1331</a>, May 1992.

   [<a id="ref-2">2</a>] Malis, A., Robinson, D., and R. Ullman, &quot;Multiprotocol
       Interconnect on X.25 and ISDN in the Packet Mode&quot;, <a href="/doc/html/rfc1356">RFC 1356</a>,
       August 1992.



<span class="grey">Allen                                                          [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey"><a href="/doc/html/rfc1362">RFC 1362</a>                         IPXWAN                   September 1992</span>


   [<a id="ref-3">3</a>] Bradley, T., Brown, C., and A. Malis, &quot;Multiprotocol Interconnect
       over Frame Relay&quot;, <a href="/doc/html/rfc1294">RFC 1294</a>, January 1992.

   [<a id="ref-4">4</a>] Simpson, W., &quot;The PPP Internetwork Packet Exchange Control
       Protocol (IPXCP) Compromise Version&quot;, Work in Progress.

   [<a id="ref-5">5</a>] Novell IPX Router Specification. Novell Part Number 107-000029-
       001. (Note:  Currently, this document is only available as part
       of a Novell developers program as part of an SDK. Novell Labs,
       Provo (UT) should be able to provide more information on this
       document.)

   [<a id="ref-6">6</a>] Lewis, M., Telebit Corp. &quot;IPX Header Compression based on Van
       Jacobson Header Compression for TCP/IP&quot;, Work in Progress,
       contact: (mlewis@telebit.com).

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>. Security Considerations</span>

       Security issues are not discussed in this memo.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>. Author&#x27;s Address</span>

       Michael Allen
       Novell, Inc.
       2180 Fortune Drive
       San Jose, CA 95131

       EMail: MALLEN@NOVELL.COM

       Chair&#x27;s Address:

       The working group can be contacted via the current chair:

       Brian Lloyd
       Lloyd &amp; Associates
       3420 Sudbury Road
       Cameron Park, California 95682

       EMail: brian@ray.lloyd.com

       Phone: (916) 676-1147










Allen                                                          [Page 13]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

