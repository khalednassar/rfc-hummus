<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc3901
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-dnsop-ipv6-transport-guidelines/">
  <meta name="description" content="DNS IPv6 Transport Operational Guidelines (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgmagenta"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc3901.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc3901.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc3901.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc3901/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc3901/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/dnsop/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-dnsop-ipv6-transport-guidelines@ietf.org?subject=draft-ietf-dnsop-ipv6-transport-guidelines" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-dnsop-ipv6-transport-guidelines-02.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-dnsop-ipv6-transport-guidelines-02.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-dnsop-ipv6-transport-guidelines-02.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-dnsop-ipv6-transport-guidelines-02">draft-ietf-dnsop-ipv6-transport-guidelines-02</a>                     
                                                   Best Current Practice</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                          A. Durand
Request for Comments: 3901                        SUN Microsystems, Inc.
BCP: 91                                                         J. Ihren
Category: Best Current Practice                               Autonomica
                                                          September 2004


               <span class="h1">DNS IPv6 Transport Operational Guidelines</span>

Status of this Memo

   This document specifies an Internet Best Current Practices for the
   Internet Community, and requests discussion and suggestions for
   improvements.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2004).

Abstract

   This memo provides guidelines and Best Current Practice for operating
   DNS in a world where queries and responses are carried in a mixed
   environment of IPv4 and IPv6 networks.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction to the Problem of Name Space Fragmentation:</span>
<span class="h2">    following the referral chain</span>

   A resolver that tries to look up a name starts out at the root, and
   follows referrals until it is referred to a name server that is
   authoritative for the name.  If somewhere down the chain of referrals
   it is referred to a name server that is only accessible over a
   transport which the resolver cannot use, the resolver is unable to
   finish the task.

   When the Internet moves from IPv4 to a mixture of IPv4 and IPv6 it is
   only a matter of time until this starts to happen.  The complete DNS
   hierarchy then starts to fragment into a graph where authoritative
   name servers for certain nodes are only accessible over a certain
   transport.  The concern is that a resolver using only a particular
   version of IP and querying information about another node using the
   same version of IP can not do it because somewhere in the chain of
   servers accessed during the resolution process, one or more of them
   will only be accessible with the other version of IP.

   With all DNS data only available over IPv4 transport everything is
   simple.  IPv4 resolvers can use the intended mechanism of following
   referrals from the root and down while IPv6 resolvers have to work



<span class="grey">Durand &amp; Ihren           Best Current Practice                  [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc3901">RFC 3901</a>             DNS IPv6 Transport Guidelines        September 2004</span>


   through a &quot;translator&quot;, i.e., they have to use a recursive name
   server on a so-called &quot;dual stack&quot; host as a &quot;forwarder&quot; since they
   cannot access the DNS data directly.

   With all DNS data only available over IPv6 transport everything would
   be equally simple, with the exception of IPv4 recursive name servers
   having to switch to a forwarding configuration.

   However, the second situation will not arise in the foreseeable
   future.  Instead, the transition will be from IPv4 only to a mixture
   of IPv4 and IPv6, with three categories of DNS data depending on
   whether the information is available only over IPv4 transport, only
   over IPv6 or both.

   Having DNS data available on both transports is the best situation.
   The major question is how to ensure that it becomes the norm as
   quickly as possible.  However, while it is obvious that some DNS data
   will only be available over v4 transport for a long time it is also
   obvious that it is important to avoid fragmenting the name space
   available to IPv4 only hosts.  For example, during transition it is
   not acceptable to break the name space that we presently have
   available for IPv4-only hosts.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Terminology</span>

   The phrase &quot;IPv4 name server&quot; indicates a name server available over
   IPv4 transport.  It does not imply anything about what DNS [<a href="#ref-1" title="&quot;Domain names - concepts and facilities&quot;">1</a>,<a href="#ref-2" title="&quot;Domain names - implementation and specification&quot;">2</a>] data
   is served.  Likewise, &quot;IPv6 [<a href="#ref-4" title="&quot;Internet Protocol, Version 6 (IPv6) Specification&quot;">4</a>,<a href="#ref-5" title="&quot;Internet Protocol Version 6 (IPv6) Addressing Architecture&quot;">5</a>,<a href="#ref-6" title="&quot;DNS Extensions to Support IP Version 6&quot;">6</a>] name server&quot; indicates a name
   server available over IPv6 transport.  The phrase &quot;dual-stack name
   server&quot; indicates a name server that is actually configured to run
   both protocols, IPv4 and IPv6, and not merely a server running on a
   system capable of running both but actually configured to run only
   one.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Policy Based Avoidance of Name Space Fragmentation</span>

   Today there are only a few DNS &quot;zones&quot; on the public Internet that
   are available over IPv6 transport, and most of them can be regarded
   as &quot;experimental&quot;.  However, as soon as the root and top level
   domains are available over IPv6 transport, it is reasonable to expect
   that it will become more common to have zones served by IPv6 servers.

   Having those zones served only by IPv6-only name server would not be
   a good development, since this will fragment the previously
   unfragmented IPv4 name space and there are strong reasons to find a
   mechanism to avoid it.





<span class="grey">Durand &amp; Ihren           Best Current Practice                  [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc3901">RFC 3901</a>             DNS IPv6 Transport Guidelines        September 2004</span>


   The recommended approach to maintain name space continuity is to use
   administrative policies, as described in the next section.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  DNS IPv6 Transport recommended Guidelines</span>

   In order to preserve name space continuity, the following
   administrative policies are recommended:

      - every recursive name server SHOULD be either IPv4-only or dual
        stack,

         This rules out IPv6-only recursive servers.  However, one might
         design configurations where a chain of IPv6-only name server
         forward queries to a set of dual stack recursive name server
         actually performing those recursive queries.

      - every DNS zone SHOULD be served by at least one IPv4-reachable
        authoritative name server.

         This rules out DNS zones served only by IPv6-only authoritative
         name servers.

   Note: zone validation processes SHOULD ensure that there is at least
   one IPv4 address record available for the name servers of any child
   delegations within the zone.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Security Considerations</span>

   The guidelines described in this memo introduce no new security
   considerations into the DNS protocol or associated operational
   scenarios.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Acknowledgment</span>

   This document is the result of many conversations that happened in
   the DNS community at IETF and elsewhere since 2001.  During that
   period of time, a number of Internet drafts have been published to
   clarify various aspects of the issues at stake.  This document
   focuses on the conclusion of those discussions.

   The authors would like to acknowledge the role of Pekka Savola in his
   thorough review of the document.









<span class="grey">Durand &amp; Ihren           Best Current Practice                  [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc3901">RFC 3901</a>             DNS IPv6 Transport Guidelines        September 2004</span>


<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Normative References</span>

   [<a id="ref-1">1</a>]  Mockapetris, P., &quot;Domain names - concepts and facilities&quot;, STD
        13, <a href="/doc/html/rfc1034">RFC 1034</a>, November 1987.

   [<a id="ref-2">2</a>]  Mockapetris, P., &quot;Domain names - implementation and
        specification&quot;, STD 13, <a href="/doc/html/rfc1035">RFC 1035</a>, November 1987.

   [<a id="ref-3">3</a>]  Bradner, S., &quot;The Internet Standards Process -- Revision 3&quot;, <a href="/doc/html/bcp9">BCP</a>
        <a href="/doc/html/bcp9">9</a>, <a href="/doc/html/rfc2026">RFC 2026</a>, October 1996.

   [<a id="ref-4">4</a>]  Deering, S. and R. Hinden, &quot;Internet Protocol, Version 6 (IPv6)
        Specification&quot;, <a href="/doc/html/rfc2460">RFC 2460</a>, December 1998.

   [<a id="ref-5">5</a>]  Hinden, R. and S. Deering, &quot;Internet Protocol Version 6 (IPv6)
        Addressing Architecture&quot;, <a href="/doc/html/rfc3513">RFC 3513</a>, April 2003.

   [<a id="ref-6">6</a>]  Thomson, S., Huitema, C., Ksinant, V., and M. Souissi, &quot;DNS
        Extensions to Support IP Version 6&quot;, <a href="/doc/html/rfc3596">RFC 3596</a>, October 2003.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  Authors&#x27; Addresses</span>

   Alain Durand
   SUN Microsystems, Inc
   17 Network circle UMPK17-202
   Menlo Park, CA, 94025
   USA

   EMail: Alain.Durand@sun.com


   Johan Ihren
   Autonomica
   Bellmansgatan 30
   SE-118 47 Stockholm
   Sweden

   EMail: johani@autonomica.se













<span class="grey">Durand &amp; Ihren           Best Current Practice                  [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc3901">RFC 3901</a>             DNS IPv6 Transport Guidelines        September 2004</span>


<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  Full Copyright Statement</span>

   Copyright (C) The Internet Society (2004).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="/doc/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/S HE
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE
   INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the IETF&#x27;s procedures with respect to rights in IETF Documents can
   be found in <a href="/doc/html/bcp78">BCP 78</a> and <a href="/doc/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.







Durand &amp; Ihren           Best Current Practice                  [Page 5]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

