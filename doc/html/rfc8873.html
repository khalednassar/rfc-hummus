<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc8873
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-mmusic-msrp-usage-data-channel/">
  <meta name="description" content="Message Session Relay Protocol (MSRP) over Data Channels (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc8873.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc8873.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/rfc8873.xml" title="XML source for this document">xml</a>|<a href="https://www.rfc-editor.org/rfc/rfc8873.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc8873/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc8873/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/mmusic/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-mmusic-msrp-usage-data-channel@ietf.org?subject=draft-ietf-mmusic-msrp-usage-data-channel" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-mmusic-msrp-usage-data-channel-24.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-mmusic-msrp-usage-data-channel-24.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-mmusic-msrp-usage-data-channel-24.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-ietf-mmusic-msrp-usage-data-channel-24">draft-ietf-mmusic-msrp-usage-data-channel-24</a>     Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Internet Engineering Task Force (IETF)                    JM. Recio, Ed.
Request for Comments: 8873                                  Unaffiliated
Updates: <a href="/doc/html/rfc4975">4975</a>                                                C. Holmberg
Category: Standards Track                                       Ericsson
ISSN: 2070-1721                                             January 2021


        <span class="h1">Message Session Relay Protocol (MSRP) over Data Channels</span>

Abstract

   This document specifies how a Web Real-Time Communication (WebRTC)
   data channel can be used as a transport mechanism for the Message
   Session Relay Protocol (MSRP) and how the Session Description
   Protocol (SDP) offer/answer mechanism can be used to negotiate such a
   data channel, referred to as an MSRP data channel.  Two network
   configurations are supported: the connection of two MSRP data channel
   endpoints; and a gateway configuration, which connects an MSRP data
   channel endpoint with an MSRP endpoint that uses either TCP or TLS.
   This document updates <a href="/doc/html/rfc4975">RFC 4975</a>.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="/doc/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8873">https://www.rfc-editor.org/info/rfc8873</a>.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction
   2.  Conventions
   3.  WebRTC Data Channel Considerations
     3.1.  MSRP Data Channel
   4.  SDP Considerations
     4.1.  MSRP URI
     4.2.  MSRP URI msrp-scheme
     4.3.  Use of the &#x27;dcmap&#x27; Attribute
     4.4.  Use of the &#x27;dcsa&#x27; Attribute
     4.5.  Use of the DCSA-Embedded &#x27;setup&#x27; Attribute
     4.6.  Session Closing
     4.7.  Support for MSRP File Transfer Function
     4.8.  Example
   5.  MSRP Considerations
     5.1.  Session Mapping
     5.2.  Session Opening
     5.3.  Session Closing
     5.4.  Data Framing
     5.5.  Data Sending, Receiving, and Reporting
     5.6.  Support for MSRP File Transfer Function
   6.  Gateway Considerations
   7.  Updates to <a href="/doc/html/rfc4975">RFC 4975</a>
   8.  Security Considerations
   9.  IANA Considerations
     9.1.  &quot;msrps&quot; URI scheme
     9.2.  Subprotocol Identifier &quot;msrp&quot;
     9.3.  SDP Attributes
   10. References
     10.1.  Normative References
     10.2.  Informative References
   Acknowledgments
   Authors&#x27; Addresses

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   The Message Session Relay Protocol (MSRP) [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] is a protocol for
   transmitting a series of related instant messages in the context of a
   session.  In addition to instant messaging, MSRP can also be used for
   image sharing or file transfer.  MSRP was initially defined in
   [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] to work over TCP and TLS connections, and over a WebSocket
   subprotocol specified by [<a href="/doc/html/rfc7977" title="&quot;The WebSocket Protocol as a Transport for the Message Session Relay Protocol (MSRP)&quot;">RFC7977</a>].

   This document specifies how a Web Real-Time Communication (WebRTC)
   data channel [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>] can be used as a transport mechanism for MSRP
   without the TCP and TLS layers, and how the Session Description
   Protocol (SDP) offer/answer mechanism for data channels [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>] can
   be used to negotiate such a data channel.

   In this document, an MSRP data channel refers to a WebRTC data
   channel for which the instantiated subprotocol is &quot;msrp&quot; and the data
   channel is negotiated using the SDP offer/answer mechanism [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>].

   Defining MSRP as a data channel subprotocol has many benefits:

   *  provides to applications a proven protocol enabling instant
      messaging, file transfer, image sharing

   *  integrates those features with other WebRTC voice, video, and data
      features

   *  leverages the SDP-based negotiation already defined for MSRP

   *  allows the interworking with MSRP endpoints running on a TCP or
      TLS connection

   Compared to the WebSocket protocol, which provides a message-passing
   protocol to applications with no direct access to TCP or TLS sockets,
   data channels provide a low-latency transport and leverage NAT-aware
   connectivity and the security features of WebRTC.

   This document defines an MSRP data channel endpoint as an MSRP
   application that uses a WebRTC data channel for MSRP transport.  This
   document describes configurations for connecting such endpoint to
   another MSRP data channel endpoint, or to an MSRP endpoint that uses
   either TCP or TLS transport.

   This document updates [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] as described in <a href="#section-7">Section 7</a>.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Conventions</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in <a href="/doc/html/bcp14">BCP</a>
   <a href="/doc/html/bcp14">14</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] [<a href="/doc/html/rfc8174" title="&quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;">RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  WebRTC Data Channel Considerations</span>

<span class="h3"><a class="selflink" id="section-3.1" href="#section-3.1">3.1</a>.  MSRP Data Channel</span>

   The following WebRTC data channel property values [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>] apply to
   an MSRP data channel:

              +==========================+=================+
              | Property                 | Value           |
              +==========================+=================+
              | Subprotocol Identifier   | msrp            |
              +--------------------------+-----------------+
              | Transmission reliability | reliable        |
              +--------------------------+-----------------+
              | Transmission order       | in-order        |
              +--------------------------+-----------------+
              | Label                    | See <a href="#section-4.3">Section 4.3</a> |
              +--------------------------+-----------------+

                                 Table 1

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  SDP Considerations</span>

   The generic SDP considerations, including the SDP offer/answer
   procedures [<a href="/doc/html/rfc3264" title="&quot;An Offer/Answer Model with Session Description Protocol (SDP)&quot;">RFC3264</a>], for negotiating a WebRTC data channel are
   defined in [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>].  This section and its subsections define the
   SDP considerations that are specific to an MSRP data channel,
   identified by the &quot;subprotocol&quot; attribute parameter, with an &quot;msrp&quot;
   parameter value in the &#x27;dcmap&#x27; attribute.

<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a>.  MSRP URI</span>

   This document extends the MSRP URI syntax [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] by defining the
   new transport parameter value &quot;dc&quot; (an abbreviation of data channel):

       transport  /= &quot;dc&quot;
       ; Add &quot;dc&quot; to existing transports per <a href="/doc/html/rfc4975#section-9">Section&nbsp;9 of [RFC4975]</a>

   MSRP design provides for new transport bindings (see <a href="/doc/html/rfc4975#section-6">Section&nbsp;6 of
   [RFC4975]</a>).  MSRP implementations are expected to allow unrecognized
   transports for which there is no need to establish a connection to
   the resource described by the URI, as is the case of data channels
   (<a href="#section-4.4">Section 4.4</a>).

<span class="h3"><a class="selflink" id="section-4.2" href="#section-4.2">4.2</a>.  MSRP URI msrp-scheme</span>

   The msrp-scheme portion of the MSRP URI that represents an MSRP data
   channel endpoint (used in the SDP &#x27;path&#x27; attribute and in the MSRP
   message headers) is always &quot;msrps&quot;, which indicates that the MSRP
   data channel is always secured using DTLS as described in [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>].

<span class="h3"><a class="selflink" id="section-4.3" href="#section-4.3">4.3</a>.  Use of the &#x27;dcmap&#x27; Attribute</span>

   An offerer and answerer SHALL, in each offer and answer, include a
   &#x27;dcmap&#x27; attribute [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>] in the SDP media description (&quot;m=&quot;
   section) [<a href="/doc/html/rfc4566" title="&quot;SDP: Session Description Protocol&quot;">RFC4566</a>] describing the SCTP association [<a href="/doc/html/rfc4960" title="&quot;Stream Control Transmission Protocol&quot;">RFC4960</a>] used to
   realize the MSRP data channel.

   The attribute includes the following data channel parameters:

   *  &quot;label=&quot; labelstring

   *  &quot;subprotocol=&quot; &quot;msrp&quot;

   The labelstring is set by the MSRP application according to
   [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>].

   The offerer and answerer SHALL NOT include the &quot;max-retr&quot; and the
   &quot;max-time&quot; attribute parameters in the &#x27;dcmap&#x27; attribute.

   The offerer and answerer MAY include the &quot;ordered&quot; attribute
   parameter in the &#x27;dcmap&#x27; attribute.  If included, the attribute
   parameter value SHALL be set to &quot;true&quot;.

   Below is an example of a &#x27;dcmap&#x27; attribute for an MSRP session to be
   negotiated with the &quot;dcmap-stream-id&quot; parameter set to 2 and the
   &quot;label&quot; parameter set to &quot;chat&quot;:

   a=dcmap:2 label=&quot;chat&quot;;subprotocol=&quot;msrp&quot;

<span class="h3"><a class="selflink" id="section-4.4" href="#section-4.4">4.4</a>.  Use of the &#x27;dcsa&#x27; Attribute</span>

   An offerer and answerer can, in each offer and answer, include one or
   more data channel subprotocol attributes (&#x27;dcsa&#x27; attributes)
   [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>] in the &quot;m=&quot; section describing the SCTP association used to
   realize the MSRP data channel.  An SDP attribute included in a &#x27;dcsa&#x27;
   attribute is referred to as a DCSA-embedded attribute.

   If an offerer or answerer receives a &#x27;dcsa&#x27; attribute that contains
   an SDP attribute for which usage has not been defined for an MSRP
   data channel, the offerer or answerer should ignore the &#x27;dcsa&#x27;
   attribute, following the rules in <a href="/doc/html/rfc8864#section-6.7">Section&nbsp;6.7 of [RFC8864]</a>.

   An offerer and answerer SHALL include a &#x27;dcsa&#x27; attribute for each of
   the following MSRP-specific SDP attributes:

   *  defined in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>]: &#x27;path&#x27;.

   *  defined in [<a href="/doc/html/rfc6714" title="&quot;Connection Establishment for Media Anchoring (CEMA) for the Message Session Relay Protocol (MSRP)&quot;">RFC6714</a>]: &#x27;msrp-cema&#x27;.

   *  defined in [<a href="/doc/html/rfc6135" title="&quot;An Alternative Connection Model for the Message Session Relay Protocol (MSRP)&quot;">RFC6135</a>]: &#x27;setup&#x27;.  See <a href="#section-4.5">Section 4.5</a>.

   It is considered a protocol error if one or more of the DCSA-embedded
   attributes listed above are not included in an offer or answer.

   An offerer and answerer MAY include a &#x27;dcsa&#x27; attribute for any of the
   following MSRP-specific SDP attributes, following the procedures
   defined for each attribute:

   *  defined in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>]: &#x27;accept-types&#x27;, &#x27;accept-wrapped-types&#x27;, and
      &#x27;max-size&#x27;.

   *  defined in [<a href="/doc/html/rfc4566" title="&quot;SDP: Session Description Protocol&quot;">RFC4566</a>]: &#x27;sendonly&#x27;, &#x27;recvonly&#x27;, &#x27;inactive&#x27;, and
      &#x27;sendrecv&#x27;.

   *  defined in [<a href="/doc/html/rfc5547" title="&quot;A Session Description Protocol (SDP) Offer/Answer Mechanism to Enable File Transfer&quot;">RFC5547</a>]: all the parameters related to MSRP file
      transfer.  See <a href="#section-4.7">Section 4.7</a>.

   A subsequent offer or answer MAY update the previously negotiated
   MSRP subprotocol attributes while keeping the &#x27;dcmap&#x27; attribute
   associated with the MSRP data channel unchanged.  The semantics for
   newly negotiated MSRP subprotocol attributes are per [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>].

   When MSRP messages are transported on a data channel, the &#x27;path&#x27;
   attribute is not used for the routing of the messages.  The MSRP data
   channel is established using the SDP offer/answer procedures defined
   in [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>], and the MSRP messages are then transported on that data
   channel.  This is different from legacy MSRP [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] but similar to
   MSRP Connection Establishment for Media Anchoring (MSRP CEMA)
   [<a href="/doc/html/rfc6714" title="&quot;Connection Establishment for Media Anchoring (CEMA) for the Message Session Relay Protocol (MSRP)&quot;">RFC6714</a>].  Because of this, a DCSA-embedded &#x27;msrp-cema&#x27; attribute is
   mandated for MSRP sessions over data channels.  However, when an
   endpoint receives an MSRP message over a data channel, it MUST still
   perform the MSRP URI comparison procedures defined in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>].

<span class="h3"><a class="selflink" id="section-4.5" href="#section-4.5">4.5</a>.  Use of the DCSA-Embedded &#x27;setup&#x27; Attribute</span>

   As described in <a href="#section-4.4">Section 4.4</a>, the usage of a DCSA-embedded &#x27;setup&#x27;
   attribute is mandated for MSRP sessions over data channels.  It is
   used to negotiate which MSRP data channel endpoint assumes the active
   role as per <a href="/doc/html/rfc6135#section-4.2.2">Section&nbsp;4.2.2 of [RFC6135]</a> and <a href="/doc/html/rfc4975#section-5.4">Section&nbsp;5.4 of [RFC4975]</a>.
   It has no relationship with the DTLS connection establishment roles
   [<a href="/doc/html/rfc8841" title="&quot;Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport&quot;">RFC8841</a>].

   The DCSA-embedded &#x27;setup&#x27; attribute is of the form &quot;a=dcsa:x
   setup:&lt;role&gt;&quot;, with x being the data channel&#x27;s SCTP stream
   identifier, so that the &#x27;setup&#x27; attribute is explicitly associated
   with an MSRP session over a specific data channel.

<span class="h3"><a class="selflink" id="section-4.6" href="#section-4.6">4.6</a>.  Session Closing</span>

   An MSRP session is closed by closing the associated data channel
   following the procedures in [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>].

   The port value for the &quot;m=&quot; line SHOULD NOT be changed (e.g., to
   zero) when closing an MSRP session (unless all data channels are
   being closed and the SCTP association is no longer needed) since this
   would close the SCTP association and impact all of the data channels.
   In all cases in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] where the procedure calls for setting the
   port to zero in the MSRP &quot;m=&quot; line in an SDP offer for TCP transport,
   the SDP offerer of an MSRP session with data channel transport SHALL
   remove the corresponding &#x27;dcmap&#x27; and &#x27;dcsa&#x27; attributes.

<span class="h3"><a class="selflink" id="section-4.7" href="#section-4.7">4.7</a>.  Support for MSRP File Transfer Function</span>

   SDP attributes specified in [<a href="/doc/html/rfc5547" title="&quot;A Session Description Protocol (SDP) Offer/Answer Mechanism to Enable File Transfer&quot;">RFC5547</a>] for a file transfer &quot;m=&quot; line
   are embedded as subprotocol-specific attributes using the syntax
   defined in [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>].

<span class="h3"><a class="selflink" id="section-4.8" href="#section-4.8">4.8</a>.  Example</span>

   Below is an example of an offer and an answer that include the
   attributes needed to establish two MSRP sessions: one for chat and
   one for file transfer.  The example is derived from a combination of
   examples in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] and [<a href="/doc/html/rfc5547" title="&quot;A Session Description Protocol (SDP) Offer/Answer Mechanism to Enable File Transfer&quot;">RFC5547</a>].

   Offer:

      m=application 54111 UDP/DTLS/SCTP webrtc-datachannel
      c=IN IP6 2001:db8::3
      a=max-message-size:100000
      a=sctp-port:5000
      a=setup:actpass
      a=fingerprint:SHA-256 12:DF:3E:5D:49:6B:19:E5:7C:AB:4A:AD:B9:B1:\
         3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB:4A:AD
      a=tls-id:4a756565cddef001be82
      a=dcmap:0 label=&quot;chat&quot;;subprotocol=&quot;msrp&quot;
      a=dcsa:0 msrp-cema
      a=dcsa:0 setup:active
      a=dcsa:0 accept-types:message/cpim text/plain
      a=dcsa:0 path:msrps://2001:db8::3:54111/si438dsaodes;dc
      a=dcmap:2 label=&quot;file transfer&quot;;subprotocol=&quot;msrp&quot;
      a=dcsa:2 sendonly
      a=dcsa:2 msrp-cema
      a=dcsa:2 setup:active
      a=dcsa:2 accept-types:message/cpim
      a=dcsa:2 accept-wrapped-types:*
      a=dcsa:2 path:msrps://2001:db8::3:54111/jshA7we;dc
      a=dcsa:2 file-selector:name:&quot;picture1.jpg&quot; type:image/jpeg \
         size:1463440 hash:sha-256:7C:DF:3E:5D:49:6B:19:E5:12:AB:4A:AD:\
         4A:B1:3F:82:3E:3B:54:12:02:5D:18:DF:49:6B:19:E5:7C:AB:B9:AD
      a=dcsa:2 file-transfer-id:rjEtHAcYVZ7xKwGYpGGwyn5gqsSaU7Ep
      a=dcsa:2 file-disposition:attachment
      a=dcsa:2 file-date:creation:&quot;Tue, 11 Aug 2020 19:05:30 +0200&quot;
      a=dcsa:2 file-icon:cid:id2@bob.example.com
      a=dcsa:2 file-range:1-1463440

   Answer:

      m=application 51444 UDP/DTLS/SCTP webrtc-datachannel
      c=IN IP6 IP6 2001:db8::1
      a=max-message-size:100000
      a=sctp-port:6000
      a=setup:passive
      a=fingerprint:SHA-256 5D:02:3E:AD:49:6B:19:E5:7C:AB:4A:AD:B9:\
         B1:3F:82:18:3B:54:DF:12:6B:3E:5D:49:DF:19:E5:7C:AB:4A:5D
      a=tls-id:65cd4a7565debe82f100
      a=dcmap:0 label=&quot;chat&quot;;subprotocol=&quot;msrp&quot;
      a=dcsa:0 msrp-cema
      a=dcsa:0 setup:passive
      a=dcsa:0 accept-types:message/cpim text/plain
      a=dcsa:0 path:msrps://2001:db8::1:51444/di551fsaodes;dc
      a=dcmap:2 label=&quot;file transfer&quot;;subprotocol=&quot;msrp&quot;
      a=dcsa:2 recvonly
      a=dcsa:2 msrp-cema
      a=dcsa:2 setup:passive
      a=dcsa:2 accept-types:message/cpim
      a=dcsa:2 accept-wrapped-types:*
      a=dcsa:2 path:msrps://2001:db8::1:51444/jksh7Bwc;dc
      a=dcsa:2 file-selector:name:&quot;picture1.jpg&quot; type:image/jpeg \
         size:1463440
      a=dcsa:2 file-transfer-id:rjEtHAcYVZ7xKwGYpGGwyn5gqsSaU7Ep
      a=dcsa:2 file-range:1-1463440

   Note that due to RFC formatting conventions, this document splits SDP
   content that exceeds 72 characters across lines, marking this line
   folding with a backslash character.  This backslash and its trailing
   CRLF and whitespace would not appear in actual SDP content.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  MSRP Considerations</span>

   The procedures specified in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] apply except when this document
   specifies otherwise.  This section describes the MSRP considerations
   specific to an MSRP data channel.

<span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a>.  Session Mapping</span>

   In this document, each MSRP session maps to one data channel exactly.

<span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a>.  Session Opening</span>

   <a href="#section-4.5">Section 4.5</a> describes how the active MSRP data channel endpoint role
   is negotiated.  The active MSRP data channel endpoint uses the data
   channel established for this MSRP session by the generic data channel
   opening procedure defined in [<a href="/doc/html/rfc8864" title="&quot;Negotiation Data Channels Using the Session Description Protocol (SDP)&quot;">RFC8864</a>].

   As soon as the WebRTC data channel is opened, the MSRP session is
   actually opened by the active MSRP data channel endpoint.  In order
   to do this, the active MSRP data channel endpoint sends an MSRP SEND
   message (empty or not) to the peer (passive) MSRP data channel
   endpoint.

<span class="h3"><a class="selflink" id="section-5.3" href="#section-5.3">5.3</a>.  Session Closing</span>

   The closure of an MSRP session SHALL be signaled via SDP following
   the requirements in <a href="#section-4.6">Section 4.6</a>.

   If the data channel used to transport the MSRP session fails and is
   torn down, the MSRP data channel endpoints SHALL consider the MSRP
   session failed.  An MSRP data channel endpoint MAY, based on local
   policy, try to negotiate a new MSRP data channel.

<span class="h3"><a class="selflink" id="section-5.4" href="#section-5.4">5.4</a>.  Data Framing</span>

   Each text-based MSRP message is sent on the corresponding data
   channel using standard MSRP framing and chunking procedures, as
   defined in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>], with each MSRP chunk delivered in a single SCTP
   user message.  Therefore all sent MSRP chunks SHALL have lengths of
   less than or equal to the value of the peer&#x27;s &#x27;max-message-size&#x27;
   attribute [<a href="/doc/html/rfc8841" title="&quot;Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport&quot;">RFC8841</a>] associated with the SCTP association.

<span class="h3"><a class="selflink" id="section-5.5" href="#section-5.5">5.5</a>.  Data Sending, Receiving, and Reporting</span>

   Data sending, receiving, and reporting procedures SHALL conform to
   [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>].

<span class="h3"><a class="selflink" id="section-5.6" href="#section-5.6">5.6</a>.  Support for MSRP File Transfer Function</span>

   [<a id="ref-RFC5547">RFC5547</a>] defines an end-to-end file transfer method based on MSRP
   and the SDP offer/answer mechanism.  This file transfer method is
   also usable by MSRP data channel endpoints with the following
   considerations:

   *  As an MSRP session maps to one data channel, a file transfer
      session maps also to one data channel.

   *  SDP attributes are negotiated as specified in <a href="#section-4.7">Section 4.7</a>.

   *  Once the file transfer is complete, the same data channel MAY be
      reused for another file transfer.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Gateway Considerations</span>

   This section describes the network configuration where one MSRP
   endpoint uses an MSRP data channel as MSRP transport, the other MSRP
   endpoint uses TLS/TCP connections as MSRP transport, and the two MSRP
   endpoints interwork via a gateway.

   Specifically, a gateway can be configured to interwork an MSRP
   session over a data channel with a peer that does not support data
   channel transport in one of two ways.

   In one model, the gateway performs as an MSRP Back-to-Back User Agent
   (B2BUA) to interwork all the procedures as necessary between the
   endpoints.  No further specification is needed for this model.

   Alternately, the gateway can provide transport-level interworking
   between MSRP endpoints using different transport protocols.  In
   accordance with <a href="#section-4.4">Section 4.4</a>, &#x27;path&#x27; attributes SHALL NOT be used for
   transport-level interworking.

   When the gateway performs transport-level interworking between MSRP
   endpoints, all of the procedures in <a href="#section-4">Section 4</a> and <a href="#section-5">Section 5</a> apply to
   each peer, with the following additions:

   *  The gateway SHALL use the MSRP CEMA mechanism [<a href="/doc/html/rfc6714" title="&quot;Connection Establishment for Media Anchoring (CEMA) for the Message Session Relay Protocol (MSRP)&quot;">RFC6714</a>] towards
      the non-data channel endpoint.

   *  If the non-data channel endpoint does not support MSRP CEMA,
      transport-level interworking mode is not possible, and the gateway
      needs to act as an MSRP B2BUA.

   *  The gateway SHALL NOT modify the &#x27;path&#x27; attribute received from
      data channel or from non-data channel endpoints.

   *  The gateway SHALL NOT modify the &#x27;setup&#x27; value received from data
      channel or from non-data channel endpoints.

   *  The endpoint establishing an MSRP session using data channel
      transport SHALL NOT request inclusion of any relays, although it
      MAY interoperate with a peer that signals the use of relays.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Updates to <a href="/doc/html/rfc4975">RFC 4975</a></span>

   This document updates [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] by allowing the usage of the &quot;msrps&quot;
   scheme when the underlying connection is protected with DTLS.

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  Security Considerations</span>

   MSRP traffic over data channels, including confidentiality,
   integrity, and source authentication, is secured as specified by
   [<a href="/doc/html/rfc8831" title="&quot;WebRTC Data Channels&quot;">RFC8831</a>].  However, [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>] allows transport of MSRP traffic over
   nonsecured TCP connections and does not provide a mechanism to
   guarantee usage of TLS end to end.  As described in [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>], even
   if TLS is used between some hops, TCP might still be used between
   other hops.  Operators need to establish proper policies in order to
   ensure that the MSRP traffic is protected between endpoints.

   [<a id="ref-RFC5547">RFC5547</a>] specifies security considerations related to the usage of
   MSRP for file transfer.

   [<a id="ref-RFC7092">RFC7092</a>] specifies security considerations related to B2BUAs.

   Note that the discussion in <a href="/doc/html/rfc4975#section-14.5">Section&nbsp;14.5 of [RFC4975]</a> on MSRP message
   attribution to remote identities applies to data channel transport.

   If the Session Initiation Protocol (SIP) [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>] is used to
   implement the offer/answer transactions for establishing the MSRP
   data channel, the SIP security considerations specified in [<a href="/doc/html/rfc3261" title="&quot;SIP: Session Initiation Protocol&quot;">RFC3261</a>]
   apply.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>.  IANA Considerations</span>

<span class="h3"><a class="selflink" id="section-9.1" href="#section-9.1">9.1</a>.  &quot;msrps&quot; URI scheme</span>

   This document modifies the usage of the &quot;msrps&quot; URI scheme,
   registered by [<a href="/doc/html/rfc4975" title="&quot;The Message Session Relay Protocol (MSRP)&quot;">RFC4975</a>], by adding DTLS as a protected transport
   indicated by the URI scheme.

   A reference to <a href="/doc/html/rfc8873">RFC 8873</a> has been added to the URI scheme &quot;msrps&quot; in
   the &quot;Uniform Resource Identifier (URI) Schemes&quot; registry.

<span class="h3"><a class="selflink" id="section-9.2" href="#section-9.2">9.2</a>.  Subprotocol Identifier &quot;msrp&quot;</span>

   A reference to <a href="/doc/html/rfc8873">RFC 8873</a> has been added to the subprotocol identifier
   &quot;msrp&quot; in the &quot;WebSocket Subprotocol Name Registry&quot;.

<span class="h3"><a class="selflink" id="section-9.3" href="#section-9.3">9.3</a>.  SDP Attributes</span>

   This document modifies the usage of a set of SDP attributes if any of
   those attributes is included in an SDP &#x27;dcsa&#x27; attribute associated
   with an MSRP data channel.  The modified usage of the SDP &#x27;setup&#x27;
   attribute is described in <a href="#section-4.5">Section 4.5</a>.  The usage of the other SDP
   attributes is described in <a href="#section-4.4">Section 4.4</a>.

   *  &#x27;accept-types&#x27;

   *  &#x27;accept-wrapped-types&#x27;

   *  &#x27;file-date&#x27;

   *  &#x27;file-disposition&#x27;

   *  &#x27;file-icon&#x27;

   *  &#x27;file-range&#x27;

   *  &#x27;file-selector&#x27;

   *  &#x27;file-transfer-id&#x27;

   *  &#x27;inactive&#x27;

   *  &#x27;max-size&#x27;

   *  &#x27;msrp-cema&#x27;

   *  &#x27;path&#x27;

   *  &#x27;recvonly&#x27;

   *  &#x27;sendonly&#x27;

   *  &#x27;sendrecv&#x27;

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;accept-types&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   accept-types
   Usage level:      dcsa (msrp)
   Purpose:          Contain the list of media types that the endpoint
                     is willing to receive.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;accept-wrapped-types&#x27; attribute in the Session Description
   Protocol (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   accept-wrapped-types
   Usage level:      dcsa (msrp)
   Purpose:          Contain the list of media types that the endpoint
                     is willing to receive in an MSRP message with
                     multipart content.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;file-date&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   file-date
   Usage level:      dcsa (msrp)
   Purpose:          Indicate one or more dates related to the file in
                     an MSRP file transfer negotiation.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;file-disposition&#x27; attribute in the Session Description
   Protocol (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   file-disposition
   Usage level:      dcsa (msrp)
   Purpose:          Provide a suggestion to the other endpoint about
                     the intended disposition of the file in an MSRP
                     file transfer negotiation.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;file-icon&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   file-icon
   Usage level:      dcsa (msrp)
   Purpose:          Contain a pointer to a small preview icon
                     representing the contents of the file in an MSRP
                     file transfer negotiation.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;file-range&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   file-range
   Usage level:      dcsa (msrp)
   Purpose:          Contain the range of transferred octets of the file
                     in an MSRP file transfer negotiation.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;file-selector&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   file-selector
   Usage level:      dcsa (msrp)
   Purpose:          Indicate a file in an MSRP file transfer
                     negotiation.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;file-transfer-id&#x27; attribute in the Session Description
   Protocol (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   file-transfer-id
   Usage level:      dcsa (msrp)
   Purpose:          Indicate a unique identifier of the file transfer
                     operation in an MSRP file transfer negotiation.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;inactive&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   inactive
   Usage level:      dcsa (msrp)
   Purpose:          Negotiate the direction of the media flow on an
                     MSRP data channel.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;max-size&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   max-size
   Usage level:      dcsa (msrp)
   Purpose:          Indicate the largest message an MSRP endpoint
                     wishes to accept.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;msrp-cema&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   msrp-cema
   Usage level:      dcsa (msrp)
   Purpose:          Indicate that the routing of MSRP messages
                     transported on a data channel is more similar to
                     the MSRP CEMA mechanism than the legacy MSRP
                     routing mechanism.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;path&#x27; attribute in the Session Description Protocol (SDP)
   Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   path
   Usage level:      dcsa (msrp)
   Purpose:          Indicate an endpoint, but not used for routing, as
                     described in <a href="#section-4.4">Section 4.4</a>.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;recvonly&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   recvonly
   Usage level:      dcsa (msrp)
   Purpose:          Negotiate the direction of the media flow on an
                     MSRP data channel.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;sendonly&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   sendonly
   Usage level:      dcsa (msrp)
   Purpose:          Negotiate the direction of the media flow on an
                     MSRP data channel.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;setup&#x27; attribute in the &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   setup
   Usage level:      dcsa (msrp)
   Purpose:          Negotiate the active role of an MSRP session over a
                     data channel as per <a href="#section-4.5">Section 4.5</a>.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

   The usage level &quot;dcsa (msrp)&quot; has been added to the registration of
   the SDP &#x27;sendrecv&#x27; attribute in the Session Description Protocol
   (SDP) Parameters &quot;att-field&quot; subregistry as follows:

   Contact name:     IESG
   Contact email:    iesg@ietf.org
   Attribute name:   sendrecv
   Usage level:      dcsa (msrp)
   Purpose:          Negotiate the direction of the media flow on an
                     MSRP data channel.
   Reference:        <a href="/doc/html/rfc8873">RFC 8873</a>

<span class="h2"><a class="selflink" id="section-10" href="#section-10">10</a>.  References</span>

<span class="h3"><a class="selflink" id="section-10.1" href="#section-10.1">10.1</a>.  Normative References</span>

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3264">RFC3264</a>]  Rosenberg, J. and H. Schulzrinne, &quot;An Offer/Answer Model
              with Session Description Protocol (SDP)&quot;, <a href="/doc/html/rfc3264">RFC 3264</a>,
              DOI 10.17487/RFC3264, June 2002,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3264">https://www.rfc-editor.org/info/rfc3264</a>&gt;.

   [<a id="ref-RFC4566">RFC4566</a>]  Handley, M., Jacobson, V., and C. Perkins, &quot;SDP: Session
              Description Protocol&quot;, <a href="/doc/html/rfc4566">RFC 4566</a>, DOI 10.17487/RFC4566,
              July 2006, &lt;<a href="https://www.rfc-editor.org/info/rfc4566">https://www.rfc-editor.org/info/rfc4566</a>&gt;.

   [<a id="ref-RFC4960">RFC4960</a>]  Stewart, R., Ed., &quot;Stream Control Transmission Protocol&quot;,
              <a href="/doc/html/rfc4960">RFC 4960</a>, DOI 10.17487/RFC4960, September 2007,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4960">https://www.rfc-editor.org/info/rfc4960</a>&gt;.

   [<a id="ref-RFC4975">RFC4975</a>]  Campbell, B., Ed., Mahy, R., Ed., and C. Jennings, Ed.,
              &quot;The Message Session Relay Protocol (MSRP)&quot;, <a href="/doc/html/rfc4975">RFC 4975</a>,
              DOI 10.17487/RFC4975, September 2007,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4975">https://www.rfc-editor.org/info/rfc4975</a>&gt;.

   [<a id="ref-RFC5547">RFC5547</a>]  Garcia-Martin, M., Isomaki, M., Camarillo, G., Loreto, S.,
              and P. Kyzivat, &quot;A Session Description Protocol (SDP)
              Offer/Answer Mechanism to Enable File Transfer&quot;, <a href="/doc/html/rfc5547">RFC 5547</a>,
              DOI 10.17487/RFC5547, May 2009,
              &lt;<a href="https://www.rfc-editor.org/info/rfc5547">https://www.rfc-editor.org/info/rfc5547</a>&gt;.

   [<a id="ref-RFC6135">RFC6135</a>]  Holmberg, C. and S. Blau, &quot;An Alternative Connection Model
              for the Message Session Relay Protocol (MSRP)&quot;, <a href="/doc/html/rfc6135">RFC 6135</a>,
              DOI 10.17487/RFC6135, February 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6135">https://www.rfc-editor.org/info/rfc6135</a>&gt;.

   [<a id="ref-RFC6714">RFC6714</a>]  Holmberg, C., Blau, S., and E. Burger, &quot;Connection
              Establishment for Media Anchoring (CEMA) for the Message
              Session Relay Protocol (MSRP)&quot;, <a href="/doc/html/rfc6714">RFC 6714</a>,
              DOI 10.17487/RFC6714, August 2012,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6714">https://www.rfc-editor.org/info/rfc6714</a>&gt;.

   [<a id="ref-RFC7977">RFC7977</a>]  Dunkley, P., Llewellyn, G., Pascual, V., Salgueiro, G.,
              and R. Ravindranath, &quot;The WebSocket Protocol as a
              Transport for the Message Session Relay Protocol (MSRP)&quot;,
              <a href="/doc/html/rfc7977">RFC 7977</a>, DOI 10.17487/RFC7977, September 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7977">https://www.rfc-editor.org/info/rfc7977</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in <a href="/doc/html/rfc2119">RFC</a>
              <a href="/doc/html/rfc2119">2119</a> Key Words&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc8174">RFC 8174</a>, DOI 10.17487/RFC8174,
              May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

   [<a id="ref-RFC8831">RFC8831</a>]  Jesup, R., Loreto, S., and M. Txen, &quot;WebRTC Data
              Channels&quot;, <a href="/doc/html/rfc8831">RFC 8831</a>, DOI 10.17487/RFC8831, January 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8831">https://www.rfc-editor.org/info/rfc8831</a>&gt;.

   [<a id="ref-RFC8841">RFC8841</a>]  Holmberg, C., Shpount, R., Loreto, S., and G. Camarillo,
              &quot;Session Description Protocol (SDP) Offer/Answer
              Procedures for Stream Control Transmission Protocol (SCTP)
              over Datagram Transport Layer Security (DTLS) Transport&quot;,
              <a href="/doc/html/rfc8841">RFC 8841</a>, DOI 10.17487/RFC8841, January 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8841">https://www.rfc-editor.org/info/rfc8841</a>&gt;.

   [<a id="ref-RFC8864">RFC8864</a>]  Drage, K., Makaraju, M., Ejzak, R., Marcon, J., and R.
              Even, Ed., &quot;Negotiation Data Channels Using the Session
              Description Protocol (SDP)&quot;, <a href="/doc/html/rfc8864">RFC 8864</a>,
              DOI 10.17487/RFC8864, January 2021,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8864">https://www.rfc-editor.org/info/rfc8864</a>&gt;.

<span class="h3"><a class="selflink" id="section-10.2" href="#section-10.2">10.2</a>.  Informative References</span>

   [<a id="ref-RFC3261">RFC3261</a>]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M., and E.
              Schooler, &quot;SIP: Session Initiation Protocol&quot;, <a href="/doc/html/rfc3261">RFC 3261</a>,
              DOI 10.17487/RFC3261, June 2002,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3261">https://www.rfc-editor.org/info/rfc3261</a>&gt;.

   [<a id="ref-RFC7092">RFC7092</a>]  Kaplan, H. and V. Pascual, &quot;A Taxonomy of Session
              Initiation Protocol (SIP) Back-to-Back User Agents&quot;,
              <a href="/doc/html/rfc7092">RFC 7092</a>, DOI 10.17487/RFC7092, December 2013,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7092">https://www.rfc-editor.org/info/rfc7092</a>&gt;.

Acknowledgments

   The authors wish to acknowledge the borrowing of ideas from another
   Internet-Draft by Peter Dunkley and Gavin Llewellyn, and to thank
   Flemming Andreasen, Christian Groves, Paul Kyzivat, Jonathan Lennox,
   Uwe Rauschenbach, Albrecht Schwarz, and Keith Drage for their
   invaluable comments.

   Richard Ejzak, Keith Drage, and Juergen Stoetzer-Bradler contributed
   to an earlier draft version of this document before the draft was
   readopted.

   Julien Maisonneuve helped with the readoption of this document, and
   Maridi R. Makaraju (Raju) contributed valuable comments after the
   document was readopted.

Authors&#x27; Addresses

   Jose M. Recio (editor)
   Unaffiliated

   Email: jose@ch3m4.com


   Christer Holmberg
   Ericsson
   Hirsalantie 11
   FI-02420 Jorvas
   Finland

   Email: christer.holmberg@ericsson.com
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

