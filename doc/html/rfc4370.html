<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc4370
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-weltman-ldapv3-proxy/">
  <meta name="description" content="Lightweight Directory Access Protocol (LDAP) Proxied Authorization Control (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgblue"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc4370.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc4370.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc4370.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc4370/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc4370/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/app/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-weltman-ldapv3-proxy@ietf.org?subject=draft-weltman-ldapv3-proxy" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-weltman-ldapv3-proxy-13.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-weltman-ldapv3-proxy-13.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-weltman-ldapv3-proxy-13.txt" title="Run an idnits check of this document">Nits</a>]

From: <a href="/doc/html/draft-weltman-ldapv3-proxy-13">draft-weltman-ldapv3-proxy-13</a>                    Proposed Standard</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                         R. Weltman
Request for Comments: 4370                                  Yahoo!, Inc.
Category: Standards Track                                  February 2006


             <span class="h1">Lightweight Directory Access Protocol (LDAP)</span>
                     <span class="h1">Proxied Authorization Control</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the &quot;Internet
   Official Protocol Standards&quot; (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   This document defines the Lightweight Directory Access Protocol
   (LDAP) Proxy Authorization Control.  The Proxy Authorization Control
   allows a client to request that an operation be processed under a
   provided authorization identity instead of under the current
   authorization identity associated with the connection.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   Proxy authorization allows a client to request that an operation be
   processed under a provided authorization identity instead of under
   the current authorization identity associated with the connection.
   This document defines support for proxy authorization using the
   Control mechanism [<a href="/doc/html/rfc2251" title="&quot;Lightweight Directory Access Protocol (v3)&quot;">RFC2251</a>].  The Lightweight Directory Access
   Protocol [<a href="#ref-LDAPV3" title="&quot;Lightweight Directory Access Protocol (v3): Technical Specification&quot;">LDAPV3</a>] supports the use of the Simple Authentication and
   Security Layer [<a href="#ref-SASL" title="&quot;Simple Authentication and Security Layer (SASL)&quot;">SASL</a>] for authentication and for supplying an
   authorization identity distinct from the authentication identity,
   where the authorization identity applies to the whole LDAP session.
   The Proxy Authorization Control provides a mechanism for specifying
   an authorization identity on a per-operation basis, benefiting
   clients that need to perform operations efficiently on behalf of
   multiple users.

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, and &quot;MAY&quot;
   used in this document are to be interpreted as described in
   [<a href="#ref-KEYWORDS" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">KEYWORDS</a>].




<span class="grey">Weltman                     Standards Track                     [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc4370">RFC 4370</a>           LDAP Proxied Authorization Control      February 2006</span>


<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Publishing Support for the Proxy Authorization Control</span>

   Support for the Proxy Authorization Control is indicated by the
   presence of the Object Identifier (OID) &quot;2.16.840.1.113730.3.4.18&quot; in
   the supportedControl attribute [<a href="/doc/html/rfc2252" title="&quot;Lightweight Directory Access Protocol (v3): Attribute Syntax Definitions&quot;">RFC2252</a>] of a server&#x27;s root
   DSA-specific Entry (DSE).

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Proxy Authorization Control</span>

   A single Proxy Authorization Control may be included in any search,
   compare, modify, add, delete, or modify Distinguished Name (DN) or
   extended operation request message.  The exception is any extension
   that causes a change in authentication, authorization, or data
   confidentiality [<a href="/doc/html/rfc2829" title="&quot;Authentication Methods for LDAP&quot;">RFC2829</a>], such as Start TLS [<a href="#ref-LDAPTLS" title="&quot;Lightweight Directory Access Protocol (v3): Extension for Transport Layer Security&quot;">LDAPTLS</a>] as part of the
   controls field of the LDAPMessage, as defined in [<a href="/doc/html/rfc2251" title="&quot;Lightweight Directory Access Protocol (v3)&quot;">RFC2251</a>].

   The controlType of the proxy authorization control is
   &quot;2.16.840.1.113730.3.4.18&quot;.

   The criticality MUST be present and MUST be TRUE.  This requirement
   protects clients from submitting a request that is executed with an
   unintended authorization identity.

   Clients MUST include the criticality flag and MUST set it to TRUE.
   Servers MUST reject any request containing a Proxy Authorization
   Control without a criticality flag or with the flag set to FALSE with
   a protocolError error.  These requirements protect clients from
   submitting a request that is executed with an unintended
   authorization identity.

   The controlValue SHALL be present and SHALL either contain an authzId
   [<a href="#ref-AUTH" title="&quot;Authentication Methods for LDAP&quot;">AUTH</a>] representing the authorization identity for the request or be
   empty if an anonymous association is to be used.

   The mechanism for determining proxy access rights is specific to the
   server&#x27;s proxy authorization policy.

   If the requested authorization identity is recognized by the server,
   and the client is authorized to adopt the requested authorization
   identity, the request will be executed as if submitted by the proxy
   authorization identity; otherwise, the result code 123 is returned.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Implementation Considerations</span>

   One possible interaction of proxy authorization and normal access
   control is illustrated here.  During evaluation of a search request,
   an entry that would have been returned for the search (if submitted
   by the proxy authorization identity directly) may not be returned if



<span class="grey">Weltman                     Standards Track                     [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc4370">RFC 4370</a>           LDAP Proxied Authorization Control      February 2006</span>


   the server finds that the requester does not have the right to assume
   the requested identity for searching the entry, even if the entry is
   within the scope of a search request under a base DN that does imply
   such rights.  This means that fewer results, or no results, may be
   returned than would be if the proxy authorization identity issued the
   request directly.  An example of such a case may be a system with
   fine-grained access control, where the proxy right requester has
   proxy rights at the top of a search tree, but not at or below a point
   or points within the tree.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  Security Considerations</span>

   The Proxy Authorization Control method is subject to general LDAP
   security considerations [<a href="/doc/html/rfc2251" title="&quot;Lightweight Directory Access Protocol (v3)&quot;">RFC2251</a>] [<a href="#ref-AUTH" title="&quot;Authentication Methods for LDAP&quot;">AUTH</a>] [<a href="#ref-LDAPTLS" title="&quot;Lightweight Directory Access Protocol (v3): Extension for Transport Layer Security&quot;">LDAPTLS</a>].  The control may
   be passed over a secure channel as well as over an insecure channel.

   The control allows for an additional authorization identity to be
   passed.  In some deployments, these identities may contain
   confidential information that requires privacy protection.

   Note that the server is responsible for determining if a proxy
   authorization request is to be honored. &quot;Anonymous&quot; users SHOULD NOT
   be allowed to assume the identity of others.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  IANA Considerations</span>

   The OID &quot;2.16.840.1.113730.3.4.18&quot; is reserved for the Proxy
   Authorization Control.  It has been registered as an LDAP Protocol
   Mechanism [<a href="/doc/html/rfc3383" title="&quot;Internet Assigned Numbers Authority (IANA) Considerations for the Lightweight Directory Access Protocol (LDAP)&quot;">RFC3383</a>].

   A result code (123) has been assigned by the IANA for the case where
   the server does not execute a request using the proxy authorization
   identity.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  Acknowledgements</span>

   Mark Smith, formerly of Netscape Communications Corp., Mark Wahl,
   formerly of Sun Microsystems, Inc., Kurt Zeilenga of OpenLDAP
   Foundation, Jim Sermersheim of Novell, and Steven Legg of Adacel have
   contributed with reviews of this document.











<span class="grey">Weltman                     Standards Track                     [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc4370">RFC 4370</a>           LDAP Proxied Authorization Control      February 2006</span>


<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>.  Normative References</span>

   [<a id="ref-KEYWORDS">KEYWORDS</a>] Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-LDAPV3">LDAPV3</a>]   Hodges, J. and R. Morgan, &quot;Lightweight Directory Access
              Protocol (v3): Technical Specification&quot;, <a href="/doc/html/rfc3377">RFC 3377</a>,
              September 2002.

   [<a id="ref-SASL">SASL</a>]     Myers, J., &quot;Simple Authentication and Security Layer
              (SASL)&quot;, <a href="/doc/html/rfc2222">RFC 2222</a>, October 1997.

   [<a id="ref-AUTH">AUTH</a>]     Wahl, M., Alvestrand, H., Hodges, J., and R. Morgan,
              &quot;Authentication Methods for LDAP&quot;, <a href="/doc/html/rfc2829">RFC 2829</a>, May 2000.

   [<a id="ref-LDAPTLS">LDAPTLS</a>]  Hodges, J., Morgan, R., and M. Wahl, &quot;Lightweight
              Directory Access Protocol (v3): Extension for Transport
              Layer Security&quot;, <a href="/doc/html/rfc2830">RFC 2830</a>, May 2000.

   [<a id="ref-RFC2251">RFC2251</a>]  Wahl, M., Howes, T., and S. Kille, &quot;Lightweight Directory
              Access Protocol (v3)&quot;, <a href="/doc/html/rfc2251">RFC 2251</a>, December 1997.

   [<a id="ref-RFC2252">RFC2252</a>]  Wahl, M., Coulbeck, A., Howes, T., and S. Kille,
              &quot;Lightweight Directory Access Protocol (v3): Attribute
              Syntax Definitions&quot;, <a href="/doc/html/rfc2252">RFC 2252</a>, December 1997.

   [<a id="ref-RFC2829">RFC2829</a>]  Wahl, M., Alvestrand, H., Hodges, J., and R. Morgan,
              &quot;Authentication Methods for LDAP&quot;, <a href="/doc/html/rfc2829">RFC 2829</a>, May 2000.

   [<a id="ref-RFC3383">RFC3383</a>]  Zeilenga, K., &quot;Internet Assigned Numbers Authority (IANA)
              Considerations for the Lightweight Directory Access
              Protocol (LDAP)&quot;, <a href="/doc/html/bcp64">BCP 64</a>, <a href="/doc/html/rfc3383">RFC 3383</a>, September 2002.

Author&#x27;s Address

   Rob Weltman
   Yahoo!, Inc.
   701 First Avenue
   Sunnyvale, CA 94089
   USA

   Phone: +1 408 349-5504
   EMail: robw@worldspot.com








<span class="grey">Weltman                     Standards Track                     [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc4370">RFC 4370</a>           LDAP Proxied Authorization Control      February 2006</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2006).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="/doc/html/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="/doc/html/bcp78">BCP 78</a> and <a href="/doc/html/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).







Weltman                     Standards Track                     [Page 5]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

