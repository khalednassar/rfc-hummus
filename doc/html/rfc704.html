<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc704
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.34.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.34.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/rfc704/">
  <meta name="description" content="IMP/Host and Host/IMP Protocol change (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.34.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.34.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.34.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgwhite"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc704.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc704.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/pdfrfc/rfc704.txt.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc704/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc704/" title="Datatracker information for this document">Tracker</a>] [<a href="mailto:rfc704@ietf.org?subject=rfc704" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=rfc704-.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=rfc704-.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/rfc704-.txt" title="Run an idnits check of this document">Nits</a>]

                                                                 Unknown</pre>
      </div>
    

    <div class="draftcontent">
    <pre>Network Working Group                                Paul J. Santos, Jr.  (BBN)
Request for Comments 704                                              Sept 1975
NIC #33490



             IMP/Host and Host/IMP Protocol Change

This note is a revision of <a href="/doc/html/rfc687">RFC 687</a> and sketches the design
of an expansion to the IMP/host and host/IMP protocol which will
include among other things the possibility of addressing hosts on
more than 63 IMPs. Our intention in this expansion is to correct
certain existing limits without fundamental changes in the
philosophy of the IMP/host protocol; i.e., while many issues
which would represent fundamental changes to the IMP/host
protocol are presently under discussion in the world-wide
packet-switching community, we are not able to undertake massive
fundamental changes on a time scale compatible with the short
term needs for network improvement (e.g., already there are 62
IMPs).

The following paragraphs cover each of the major
characteristics of the expanded protocol. A knowledge of Section
<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a> of BBN Report 1822 is assumed. As is discussed below, the</span>
expanded protocol is backwards compatible.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>. Expanded Leader Size. The leader will be expanded from two</span>
to six 16-bit words. This will provide space for necessary field
expansions and additions. The expansion of the IMP/host
(host/IMP) leader to 96 bits from 32 causes word-boundary
problems for some hosts. To be able to deliver messages between
two hosts of which one is using the old protocol and the other
the new, without shifting the data in the IMP words, it is
necessary that the data (i.e. the first bit of the host/host
leader) start at an even multiple of 8-bit bytes from the
beginning of the entire message. On the other hand, each host
prefers (in fact requires, if no shifting is to be performed by
the host) that the combined host/IMP (IMP/host) and host/host
leaders occupy some integral number of machine words (defined as
the smallest sequence of bits that can be independently accessed
by the host/IMP interface). With a total host/IMP (IMP/host) and
host/host leader of 136 bits, only machines with 8-, 16-, 32-,
and 64-bit words will find the leader size suitable. To simplify
things for machines with other word lengths, a provision of the
protocol permits each host to tell its IMP a number of 16-bit
padding words to be inserted between the host/IMP (IMP/host) and
host/host leaders. This padding will be stripped off during
host-to-IMP processing by the IMP, and added in during
IMP-to-host processing. Thus, for instance, 24-bit machines can
specify one 16-bit word of padding, and 10- and 36-bit machines
can specify five 16-bit words.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>. Expanded Address field. The address field will be expanded</span>
to 32 bits, 16 bits of IMP address, 0 bits of host address, and 8
bits for (future) network address. This expansion is adequate
for any forseeable ARPA Network growth.

                                 -1-

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>. New Message Length Field. A new field will be added which</span>
will allow the source host to optionally specify the message
length (in bits) to the IMP subnetwork. The IMP subnetwork may
be able to use this information (when available) to better
utilize network buffer storage. The destination host may also be
able to use this information to better utilize its buffer
storage. This field will be 16 bits wide. There will be
provision for expanding the maximum number of packets per message
to 16 from the present 8.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>. Expanded Handling Type Field. The handling type field which</span>
now is used to distinguish between priority and non-priority
message streams, etc., will be expanded to eight bits. This
expanded field will provide for the possibility of a number of
parallel message streams having different handling
characteristics between pairs of hosts; e.g., priority,
non-priority, varying numbers of packets per message (see below),
a message stream requiring guaranteed capacity, etc. Only the
old-style priority and non-priority handling types will be
available in the initial implementation of the expanded protocol.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>. Source Host Control of Packets per Message. The possibility</span>
will exist for the source host to specify a message stream which
will use a given number of packets per multi-packet message (e.g,
two packets per message or five packets per message). Since the
IMP network will not have to use eight packet-buffers for
reassembly purposes, as at present, this may result in better
services for such hosts. This will help users who need both low
delay and high throughput. Since this facility is orthogonal to
and of lower priority than the address expansion, it will be
implemented after the other proposed basic changes.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>. Unordered (type-3) Message Change. Unordered messages will</span>
be indicated by a subtype of the type O message, rather than by a
separate message type as at present. This is compatible with the
need to check the host access control capabilities of all
messages. This will provide a slight backward incompatibility
for the three or so hosts which presently use type-3 messages in
their research.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>. Change in Format of Fake Host Addresses. The For/From IMP</span>
bit will be eliminated. The fake host addresses will be the four
highest host numbers (e.g., IMP Teletype will be host 252).

<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>. Addition of a Parameter to the IMP to Host NOP. The IMP to</span>
host NOP will have added to it a parameter specifying the address
(IMP and host number) of the host.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>. Backward Compatibility. The old and new formats will be</span>
supported in parallel in the IMPs for the foreseeable future to
allow gradual phaseover of host software. A host will be able to
specify to its IMP whether the old or new formats are to be used;
thus, it will be possible for the host to specify switching back
and forth between the two modes for debugging purposes. The

                                 -2-


specification of the mode to be used will be possible via a
proper choice of format in the host to IMP NOP message; the IMP
will use the mode of the host to IMP NOP message the IMP has
received. Further, a host may select to use either the old or
new format without needing to know more about the other format
messages than to discard them should they arrive. The IMP will
initialize by sending several NOP messages of each type to give
the hosts its choice. Although a host not implementing the new
format will not be able to address hosts on IMPs with IMP-number
greater than 63, the IMPs will wherever possible do the
conversion necessary to permit hosts using the old format to
communicate with hosts using the new format and the reverse.

1O. Non-blocking Host Interface. A mechanism will be provided
which allows the IMP to refuse a message from a host without
blocking the host interface. This mechanism will permit the IMP
to gather the necessary resources to send the refused message and
then ask the host to resend the message. Finally, the host will
be permitted to ask to be able to send a message and be notified
when it is possible without requiring the message to actually be
sent and refused. Again, as in point 5 above, this facility will
be added after the other more basic changes have been
implemented.

<span class="h2"><a class="selflink" id="section-11" href="#section-11">11</a>. Maximum Message Length. The maximum number of bits of data</span>
in a single-packet message may be reduced by a few bits.

We are now producing a draft version of the necessary
changes to Report 1822 and will circulate it so that host
programmers can begin to make their preparations.
























                                 -3-
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

