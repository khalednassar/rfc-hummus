<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    rfc8774
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.33.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.33.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/rfc8774/">
  <meta name="description" content="The Quantum Bug (RFC )">
  <script src="https://www.ietf.org/lib/dt/7.33.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.33.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.33.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgorange"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.rfc-editor.org/rfc/rfc8774.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.rfc-editor.org/rfc/rfc8774.html" title="HTML version of this document, from XML2RFC">html</a>|<a href="https://www.rfc-editor.org/rfc/rfc8774.xml" title="XML source for this document">xml</a>|<a href="https://www.rfc-editor.org/rfc/rfc8774.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/rfc8774/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/rfc8774/" title="Datatracker information for this document">Tracker</a>] [<a href="mailto:rfc8774@ietf.org?subject=rfc8774" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=rfc8774-.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=rfc8774-.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/rfc8774-.txt" title="Run an idnits check of this document">Nits</a>]

                                                           Informational
                                                            <a class="text-warning" href="https://www.rfc-editor.org/errata_search.php?rfc=8774&amp;rec_status=0">Errata exist</a></pre>
      </div>
    

    <div class="draftcontent">
    <pre>Independent Submission                                          M. Welzl
Request for Comments: 8774                            University of Oslo
Category: Informational                                     1 April 2020
ISSN: 2070-1721


                            <span class="h1">The Quantum Bug</span>

Abstract

   The age of quantum networking is upon us, and with it comes
   &quot;entanglement&quot;: a procedure in which a state (i.e., a bit) can be
   transferred instantly, with no measurable delay between peers.  This
   will lead to a perceived round-trip time of zero seconds on some
   Internet paths, a capability which was not predicted and so not
   included as a possibility in many protocol specifications.  Worse
   than the millennium bug, this unexpected value is bound to cause
   serious Internet failures unless the specifications are fixed in
   time.

Status of This Memo

   This document is not an Internet Standards Track specification; it is
   published for informational purposes.

   This is a contribution to the RFC Series, independently of any other
   RFC stream.  The RFC Editor has chosen to publish this document at
   its discretion and makes no statement about its value for
   implementation or deployment.  Documents approved for publication by
   the RFC Editor are not candidates for any level of Internet Standard;
   see <a href="/doc/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="https://www.rfc-editor.org/info/rfc8774">https://www.rfc-editor.org/info/rfc8774</a>.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.

Table of Contents

   1.  Introduction
   2.  Protocols and Protocol Mechanisms That Will Fail
     2.1.  LEDBAT
     2.2.  Multipath TCP (MPTCP)
     2.3.  RTP Circuit Breakers
   3.  What can be done?
   4.  Conclusion
   5.  IANA Considerations
   6.  Security Considerations
   7.  References
     7.1.  Normative References
     7.2.  Informative References
   Author&#x27;s Address

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   [<a id="ref-RFC6921">RFC6921</a>] discusses faster-than-light communication, where packets
   arrive before they are sent.  While it is amusing to entertain the
   possibility of time travel, we have to accept the cold facts: time
   travel will never work (or it would already have been used).  Quantum
   networking, however, is an entirely different matter -- commercial
   products are already available, and quantum networks will without a
   doubt become the prevalent Internet link-layer technology across the
   globe within the next five to ten years.

   With the help of entanglement, implemented in quantum repeaters,
   quantum networks can transfer information faster than ever before: a
   state can be transmitted over a long distance instantly, with no
   delay.  This is so cool that it is also called (and, by some,
   mistaken for) teleportation.  If a path between a sender and a
   receiver is fully quantum-ized, the measured one-way delay (OWD) will
   be zero.  What&#x27;s more, assuming that there are blazing fast quantum
   computers involved on both ends, the processing time will be well
   below anything measurable; hence, even the round-trip time (RTT) will
   be zero in these scenarios.

   In today&#x27;s Internet, only very few protocols are prepared for such
   &quot;0-RTT&quot; situations (e.g., TCP with &quot;TCP Fast Open&quot; (TFO) [<a href="/doc/html/rfc7413" title="&quot;TCP Fast Open&quot;">RFC7413</a>],
   TLS 1.3 [<a href="/doc/html/rfc8446" title="&quot;The Transport Layer Security (TLS) Protocol Version 1.3&quot;">RFC8446</a>], and QUIC [<a href="#ref-QUIC-TRANS">QUIC-TRANS</a>]).  Many others will fail in
   interesting ways; we coin the term &quot;Quantum Bug&quot; for such failures.
   In the following section, we will discuss some examples of Quantum
   Bugs.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Protocols and Protocol Mechanisms That Will Fail</span>

   The number of protocols and protocol mechanisms that will fail in the
   face of a zero RTT is too large to report here; we are truly heading
   towards something close to an Internet meltdown.  We can only provide
   some guidance to those who hunt for the Quantum Bug, by discussing
   examples of specification mistakes that will need to be fixed.

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a>.  LEDBAT</span>

   The Low Extra Delay Background Transfer (LEDBAT) congestion control
   mechanism [<a href="/doc/html/rfc6817" title="&quot;Low Extra Delay Background Transport (LEDBAT)&quot;">RFC6817</a>] is a very interesting failure case: designed to
   &quot;get out of the way&quot; of other traffic; it will end up sending as fast
   as possible.  Specifically, when the algorithm described in
   <a href="/doc/html/rfc6817#section-2.4.2">Section&nbsp;2.4.2 of [RFC6817]</a> obtains a delay sample, it updates a list
   of base delays that will all become 0 and current delays that will
   also all become 0.  It calculates a queuing delay as the difference
   between the current delay and the base delay (resulting in 0) and
   keeps increasing the Congestion Window (cwnd) until the queuing delay
   reaches a predefined parameter value TARGET (100 milliseconds or
   less).

   A TARGET value of 100 milliseconds will never be reached, because the
   queuing delay does not grow when the sender increases its cwnd; this
   means that LEDBAT would endlessly increase its cwnd, limited only by
   the number of bits that are used to represent cwnd.  However, given
   that TARGET=0 is also allowed, this parameter choice may seem to be a
   way out.  Always staying at the target means that the sender would
   maintain its initial cwnd, which should be set to 2.  This may seem
   like a small number, but remember that cwnd is the number of bytes
   that can be transmitted per RTT (which is 0).  Thus, irrespective of
   the TARGET value, the sender will send data as fast as it can.

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a>.  Multipath TCP (MPTCP)</span>

   The coupled congestion control mechanism proposed for MPTCP in
   [<a href="/doc/html/rfc6356" title="&quot;Coupled Congestion Control for Multipath Transport Protocols&quot;">RFC6356</a>] requires calculating a value called &quot;alpha&quot;.  Equation 2 in
   [<a href="/doc/html/rfc6356" title="&quot;Coupled Congestion Control for Multipath Transport Protocols&quot;">RFC6356</a>] contains a term where a value called &quot;cwnd_i&quot; is divided by
   the square of the RTT, and another term where this value is divided
   by the RTT.  Enough said.

<span class="h3"><a class="selflink" id="section-2.3" href="#section-2.3">2.3</a>.  RTP Circuit Breakers</span>

   The RTP Circuit Breakers [<a href="/doc/html/rfc8083" title="&quot;Multimedia Congestion Control: Circuit Breakers for Unicast RTP Sessions&quot;">RFC8083</a>] require calculation of a well-
   known equation which yields the throughput of a TCP connection:

                             s
   X = -------------------------------------------------------------
     Tr*sqrt(2*b*p/3)+(t_RTO * (3*sqrt(3*b*p/8) * p * (1+32*p*p)))

   where Tr is the RTT and t_RTO is the retransmission timeout of TCP
   (we don&#x27;t need to care about the other variables).  As we will
   discuss in <a href="#section-3">Section 3</a>, t_RTO is lower-bounded with 1 second;
   therefore, it saves us from a division by zero.  However, there is
   also a simplified version of this equation:

             s
   X = ----------------
       Tr*sqrt(2*b*p/3)

   Unfortunately, [<a href="/doc/html/rfc8083" title="&quot;Multimedia Congestion Control: Circuit Breakers for Unicast RTP Sessions&quot;">RFC8083</a>] states: &quot;It is RECOMMENDED that this
   simplified throughput equation be used since the reduction in
   accuracy is small, and it is much simpler to calculate than the full
   equation.&quot;  Due to this simplification, many multimedia applications
   will crash.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  What can be done?</span>

   Fear not: when everything else fails, TCP will still work.  Its
   retransmission timeout is lower-bounded by 1 second [<a href="/doc/html/rfc6298" title="&quot;Computing TCP&#x27;s Retransmission Timer&quot;">RFC6298</a>].
   Moreover, while its cwnd may grow up to the maximum storable number,
   data transmission is limited by the Receiver Window (rwnd).  This
   means that flow control will save TCP from failing.

   From this, we can learn two simple rules: lower-bound any values
   calculated from the RTT (and, obviously, do not divide by the RTT),
   and use flow control.  Specifications will need to be updated by
   fixing all RTT-based calculations and introducing flow control
   everywhere.  For example, UDP will have to be extended with a
   receiver window, e.g., as a UDP option [<a href="#ref-UDP-OPT" title="&quot;Transport Options for UDP&quot;">UDP-OPT</a>].

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Conclusion</span>

   We are in trouble, and there is only one way out: develop a
   comprehensive list of all RFCs containing &quot;0-RTT&quot; mistakes (taking
   [<a href="/doc/html/rfc2626" title="&quot;The Internet and the Millennium Problem (Year 2000)&quot;">RFC2626</a>] as a guideline), and update all code.  This needs to happen
   fast, the clock is ticking.  Luckily, if we are too slow, we will
   still be able to use TCP to access the specifications.  With DNS over
   TCP [<a href="/doc/html/rfc7766" title="&quot;DNS Transport over TCP - Implementation Requirements&quot;">RFC7766</a>], name resolution to find the server containing the
   specifications should also work.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  IANA Considerations</span>

   This document has no IANA actions.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  Security Considerations</span>

   Flow control must be used on 0-RTT paths, or else an attacker can
   completely overwhelm a sender with data in a denial-of-service (DoS)
   attack within an instant.  Flow control will need to be added to
   protocols that do not currently have it, such as UDP or ICMP.  IPv6
   will not save us.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>.  References</span>

<span class="h3"><a class="selflink" id="section-7.1" href="#section-7.1">7.1</a>.  Normative References</span>

   [<a id="ref-RFC2626">RFC2626</a>]  Nesser II, P., &quot;The Internet and the Millennium Problem
              (Year 2000)&quot;, <a href="/doc/html/rfc2626">RFC 2626</a>, DOI 10.17487/RFC2626, June 1999,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2626">https://www.rfc-editor.org/info/rfc2626</a>&gt;.

   [<a id="ref-RFC6921">RFC6921</a>]  Hinden, R., &quot;Design Considerations for Faster-Than-Light
              (FTL) Communication&quot;, <a href="/doc/html/rfc6921">RFC 6921</a>, DOI 10.17487/RFC6921,
              April 2013, &lt;<a href="https://www.rfc-editor.org/info/rfc6921">https://www.rfc-editor.org/info/rfc6921</a>&gt;.

<span class="h3"><a class="selflink" id="section-7.2" href="#section-7.2">7.2</a>.  Informative References</span>

   [<a id="ref-QUIC-TRANS">QUIC-TRANS</a>]
              Iyengar, J. and M. Thomson, &quot;QUIC: A UDP-Based Multiplexed
              and Secure Transport&quot;, Work in Progress, Internet-Draft,
              <a href="/doc/html/draft-ietf-quic-transport-27">draft-ietf-quic-transport-27</a>, 21 February 2020,
              &lt;<a href="https://tools.ietf.org/html/draft-ietf-quic-transport-27">https://tools.ietf.org/html/draft-ietf-quic-transport-</a>
              <a href="https://tools.ietf.org/html/draft-ietf-quic-transport-27">27</a>&gt;.

   [<a id="ref-RFC6298">RFC6298</a>]  Paxson, V., Allman, M., Chu, J., and M. Sargent,
              &quot;Computing TCP&#x27;s Retransmission Timer&quot;, <a href="/doc/html/rfc6298">RFC 6298</a>,
              DOI 10.17487/RFC6298, June 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6298">https://www.rfc-editor.org/info/rfc6298</a>&gt;.

   [<a id="ref-RFC6356">RFC6356</a>]  Raiciu, C., Handley, M., and D. Wischik, &quot;Coupled
              Congestion Control for Multipath Transport Protocols&quot;,
              <a href="/doc/html/rfc6356">RFC 6356</a>, DOI 10.17487/RFC6356, October 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6356">https://www.rfc-editor.org/info/rfc6356</a>&gt;.

   [<a id="ref-RFC6817">RFC6817</a>]  Shalunov, S., Hazel, G., Iyengar, J., and M. Kuehlewind,
              &quot;Low Extra Delay Background Transport (LEDBAT)&quot;, <a href="/doc/html/rfc6817">RFC 6817</a>,
              DOI 10.17487/RFC6817, December 2012,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6817">https://www.rfc-editor.org/info/rfc6817</a>&gt;.

   [<a id="ref-RFC7413">RFC7413</a>]  Cheng, Y., Chu, J., Radhakrishnan, S., and A. Jain, &quot;TCP
              Fast Open&quot;, <a href="/doc/html/rfc7413">RFC 7413</a>, DOI 10.17487/RFC7413, December 2014,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7413">https://www.rfc-editor.org/info/rfc7413</a>&gt;.

   [<a id="ref-RFC7766">RFC7766</a>]  Dickinson, J., Dickinson, S., Bellis, R., Mankin, A., and
              D. Wessels, &quot;DNS Transport over TCP - Implementation
              Requirements&quot;, <a href="/doc/html/rfc7766">RFC 7766</a>, DOI 10.17487/RFC7766, March 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7766">https://www.rfc-editor.org/info/rfc7766</a>&gt;.

   [<a id="ref-RFC8083">RFC8083</a>]  Perkins, C. and V. Singh, &quot;Multimedia Congestion Control:
              Circuit Breakers for Unicast RTP Sessions&quot;, <a href="/doc/html/rfc8083">RFC 8083</a>,
              DOI 10.17487/RFC8083, March 2017,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8083">https://www.rfc-editor.org/info/rfc8083</a>&gt;.

   [<a id="ref-RFC8446">RFC8446</a>]  Rescorla, E., &quot;The Transport Layer Security (TLS) Protocol
              Version 1.3&quot;, <a href="/doc/html/rfc8446">RFC 8446</a>, DOI 10.17487/RFC8446, August 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;.

   [<a id="ref-UDP-OPT">UDP-OPT</a>]  Touch, J., &quot;Transport Options for UDP&quot;, Work in Progress,
              Internet-Draft, <a href="/doc/html/draft-ietf-tsvwg-udp-options-08">draft-ietf-tsvwg-udp-options-08</a>, 12
              September 2019, &lt;<a href="https://tools.ietf.org/html/draft-ietf-tsvwg-udp-options-08">https://tools.ietf.org/html/draft-ietf-</a>
              <a href="https://tools.ietf.org/html/draft-ietf-tsvwg-udp-options-08">tsvwg-udp-options-08</a>&gt;.

Author&#x27;s Address

   Michael Welzl
   University of Oslo
   PO Box 1080 Blindern
   N-0316 Oslo
   Norway

   Phone: +47 22 85 24 20
   Email: michawe@ifi.uio.no
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

